var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||"")+"_"+b++,c)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");var com_sas_ci_acs=com_sas_ci_acs||{},c3=com_sas_ci_acs;
"undefined"==typeof com_sas_ci_acs.version&&(com_sas_ci_acs.version="1.1.0",com_sas_ci_acs.webmarketing=!1,com_sas_ci_acs.newvid=!1);(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");b.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return b}if("function"===typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype;window.CustomEvent=a})();
(function(){"localStorage"in window||(window.localStorage={_data:{},setItem:function(a,b){return this._data[a]=String(b)},getItem:function(a){return this._data.hasOwnProperty(a)?this._data[a]:void 0},removeItem:function(a){return delete this._data[a]},clear:function(){return this._data={}}});"sessionStorage"in window||(window.sessionStorage={_data:{},setItem:function(a,b){return this._data[a]=String(b)},getItem:function(a){return this._data.hasOwnProperty(a)?this._data[a]:void 0},removeItem:function(a){return delete this._data[a]},
clear:function(){return this._data={}}})})();
com_sas_ci_acs.ob_util={copyright:"Copyright (c) 2015 by SAS Institute Inc., Cary, NC, USA. All Rights Reserved.",lastActivity:0,maxInactivity:0,csn:0,account:"",jspageerrorCount:0,contentchangeCount:0,jsvarchangeCount:0,mediaEventsCount:0,totalEventsCount:0,maxJspageErrors:5,maxContentChange:10,maxJsVarChange:10,maxMediaEvents:200,maxTotalEvents:2E3,batchSpots:!0,viewId:0,deferredSpots:[],maxDeferredSpotTry:50,deferredSpotInitialTimeout:50,maxUrlSize:1800,deferredSpotTryCount:0,logging:!1,cancelledEvents:[],
eventResponses:[],ccsProtocol:null,FS:"/",f:"function",clickEvents:[],timestamp_base:0,timestamp_boot_base:0,cts_base:0,java_version:null,flash_version:null,svg_version:null,flashdirector_version:null,realplayer_version:null,quicktime_version:null,mediaplayer_version:null,acrobat_version:null,cachedTermConfiguration:null,load_event:null,anonymous_form_count:0,windowHasFocus:!0,datahubIdUpdateDelay:1E3,magicBoxEventTypes:"url download transaction term form custom category source promotion view trafficSource homePage internalSearch".split(" "),
getLoadEventInstance:function(){this.load_event||(this.load_event=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));return this.load_event},isMagicBoxEvent:function(a){return this.exists(a)&&-1<this.magicBoxEventTypes.indexOf(a)},isIdEvent:function(a){return(a=a.get("eventname"))&&(a===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT||a===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_CONFIRMATION_EVENT)},regularExpressions:{integer:"^\\d+$",formFieldChanges:"^form.f..*._o.changes$",
decimal:"^[0-9]+(.[0-9]{1,2})?$"},SUCCESS:"success",getDeferredSpotTimeout:function(){return this.deferredSpotInitialTimeout+10*this.deferredSpotTryCount},isConfigLoaded:function(){return"undefined"!==typeof com_sas_ci_acs.ob_configure},getMaxLimit:function(a){return this.isConfigLoaded()&&this.notBlank(com_sas_ci_acs.ob_configure[a])?com_sas_ci_acs.ob_configure[a]:this.notBlank(this[a])?this[a]:0},getDataHubCallUrl:function(){return com_sas_ci_acs.ob_util_async.custom_domain+"/t/s/d/"+com_sas_ci_acs.ob_util.account+
"/"+com_sas_ci_acs.ob_configure.getVisitorId()},totalEventsNotMaxed:function(a){return this.totalEventsCount<this.getMaxLimit("maxTotalEvents")?(a&&this.totalEventsCount++,!0):!1},extractDomain:function(a){try{var b=a.match(/^\s*\S+?:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i),c=b&&b[1];return this.isNull(c)?"":c}catch(d){return""}},extractPath:function(a){try{var b=a.match(/^\s*\S+?:\/\/[^\/?#]+([^?|#]*)/i),c=b&&b[1];return this.isNull(c)?"":c}catch(d){return""}},extractParam:function(a,b){try{if(this.isNull(b)||
this.isNull(a))return"";a=a.replace(/[\[\]]/g,"\\$&");b=b.replace(/^\s+|\s+$/gm,"");var c=(new RegExp(encodeURIComponent(a)+"(=([^&#]*)|&|#|$)")).exec(b);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}catch(d){return""}},getMaxMediaEvents:function(){return this.getMaxLimit("maxMediaEvents")},getMaxContentChange:function(){return this.getMaxLimit("maxContentChange")},getMaxJsVarChange:function(){return this.getMaxLimit("maxJsVarChange")},getBatchSpots:function(){return this.isConfigLoaded()&&
this.notBlank(com_sas_ci_acs.ob_configure.batchSpots)?com_sas_ci_acs.ob_configure.batchSpots:this.batchSpots},loadSpotsInBatch:function(){return!this.isIE89Browser()&&this.getBatchSpots()},sendBodyAsHeaderAll:function(){var a=com_sas_ci_acs.ob_configure.sendBodyAsHeaderAll;return com_sas_ci_acs.ob_util.isUndefined(a)?!1:a},sendBodyAsHeaderLoad:function(){var a=com_sas_ci_acs.ob_configure.sendBodyAsHeaderLoad;return com_sas_ci_acs.ob_util.isUndefined(a)?!1:a},virtualSpotObserver:function(a,b,c,d){var e=
!1;a.forEach(function(a){if("attributes"!=a.type&&!e){a=a.target;e=!0;var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE);c.add("eventSource","webmarketing");c.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION);c.add("spot_id",b);d&&(d.taskid&&c.add("task_id",d.taskid),d.creativeid&&c.add("creative_id",d.creativeid),d.customid&&c.add("custom_id",d.customid),d.variantid&&c.add("variant_id",d.variantid),d.productid&&c.add("product_id",d.productid),d.productsku&&
c.add("product_sku",d.productsku),d.controlgroup&&c.add("is_control_group",d.controlgroup),d.idreference&&c.add("idreference",d.idreference));com_sas_ci_acs.ob_util.spotAttributeSetup(b,c);setTimeout(function(){c.send()},0);var f={};"undefined"!==typeof d&&null!==d&&(f={task_id:d.taskid,creative_id:d.creativeid,spot_id:b,product_id:d.productid,product_sku:d.productsku,is_control_group:d.controlgroup,variant_id:d.variantid});com_sas_ci_acs.spotClickedHandler=com_sas_ci_acs.spotClicked(a,f);com_sas_ci_acs.ob_configure.w3c?
a.addEventListener("click",com_sas_ci_acs.spotClickedHandler,!1):a.attachEvent("onclick",com_sas_ci_acs.spotClickedHandler);if(com_sas_ci_acs.ob_util.isElementInViewport(a)){var g=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);g.add("eventSource","webmarketing");d&&(d.taskid&&g.add("task_id",d.taskid),d.creativeid&&g.add("creative_id",d.creativeid),d.customid&&g.add("custom_id",d.customid),d.variantid&&g.add("variant_id",d.variantid),d.productid&&g.add("product_id",
d.productid),d.productsku&&g.add("product_sku",d.productsku),d.controlgroup&&g.add("is_control_group",d.controlgroup),d.idreference&&g.add("idreference",d.idreference));g.add("spot_id",b);g.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE);a=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(a)&&0<a.length&&g.add("event_uid",a[0]);com_sas_ci_acs.ob_util.spotAttributeSetup(b,g);setTimeout(function(){g.send()},0)}else d&&
(f={task_id:d.taskid,creative_id:d.creativeid,spot_id:b,product_id:d.productid,product_sku:d.productsku,is_control_group:d.controlgroup,variant_id:d.variantid},a=com_sas_ci_acs.fireIfElementVisible(a,f),window.addEventListener&&(addEventListener("DOMContentLoaded",a,!1),addEventListener("load",a,!1),addEventListener("scroll",a,!1),addEventListener("resize",a,!1)))}});try{if(b&&com_sas_ci_acs.ob_util_async.virtualSpots[b]&&com_sas_ci_acs.ob_util_async.virtualSpots[b].observers)for(a=0;a<com_sas_ci_acs.ob_util_async.virtualSpots[b].observers.length;a++){var f=
com_sas_ci_acs.ob_util_async.virtualSpots[b].observers[a];"undefined"!==typeof f&&f&&f.disconnect()}}catch(g){com_sas_ci_acs.ob_util.log("Unable to disconnect observer for spot: "+b)}},setBaseTimestamp:function(a){this.timestamp_base=a;this.cts_base=(new Date).getTime();this.timestamp_boot_base=a-(this.cts_base-com_sas_ci_acs.ob_util_async.cts_boot_base)},sendClickEvents:function(a){com_sas_ci_acs.ob_util.isSafariBrowser()&&(a=!1);for(var b=0;b<this.clickEvents.length;b++)this.clickEvents[b].send(a);
this.clickEvents=[]},log:function(a){this.logging&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log(a)},toLowerCase:function(a){return a&&a.toLowerCase?a.toLowerCase():""},nsn:function(){return++this.csn},ckR:function(a){var b=a+"=";a=document.cookie;var c=a.indexOf(b);return-1!=c?(b=c+b.length,c=a.indexOf(";",b),-1==c&&(c=a.length),a.substring(b,c)):null},ckW:function(a,b,c,d,e){var f=null;if(null!=d){var g=d.indexOf(",");-1<g&&(g<d.length-1&&(f=d.substring(g+1)),d=d.substring(0,
g))}e=new Date(e);d=null==d||0==d.length?"":"; domain="+d;document.cookie=a+"="+b+"; expires="+e.toGMTString()+"; path="+c+d;null==com_sas_ci_acs.ob_util.ckR(a)&&null!=f&&(d=null==f||0==f.length?"":"; domain="+f,document.cookie=a+"="+b+"; expires="+e.toGMTString()+"; path="+c+d)},sckW:function(a,b,c,d,e,f){var g=null;if(null!=d){var h=d.indexOf(",");-1<h&&(h<d.length-1&&(g=d.substring(h+1)),d=d.substring(0,h))}null==c&&(c="/");void 0!==e&&(null==e&&(e=0),b=b+"."+e);void 0!==f&&(null==f&&(f=0),b=b+
"."+f);d=null==d||0==d.length?"":"; domain="+d;document.cookie=a+"="+b+"; path="+c+d;null==com_sas_ci_acs.ob_util.ckR(a)&&null!=g&&(d=null==g||0==g.length?"":"; domain="+g,document.cookie=a+"="+b+"; path="+c+d)},getURIExtension:function(a){a=new String(a.split("?")[0]);return a.substr(a.lastIndexOf(".")+1)},isScriptLink:function(a,b){b=com_sas_ci_acs.ob_util.toLowerCase(a.toString());return 0==b.indexOf("javascript:")||0==b.indexOf("vbscript:")},location:function(){var a=new String(location.protocol);
return a.substr(0,a.length-1)},host:function(){return new String(location.host)},strEndsWith:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:-1!=a.indexOf(b,a.length-b.length)},strStartsWith:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:a.slice(0,b.length)==b},strContains:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:-1!=a.indexOf(b)},strEquals:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||
com_sas_ci_acs.ob_util.isNull(b)?!1:a==b},isNull:function(a){return"undefined"==typeof a||null==a},strOp:function(a,b,c){if(com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)||com_sas_ci_acs.ob_util.isNull(c))return!1;if("equals"!=a){if("contains"==a)return com_sas_ci_acs.ob_util.strContains(b,c);if("startsWith"==a)return com_sas_ci_acs.ob_util.strStartsWith(b,c);if("endsWith"==a)return com_sas_ci_acs.ob_util.strEndsWith(b,c);if("exists"==a)return!0;if("regex"==a)return(a=(new RegExp(c)).exec(b))&&
0<a.length}return com_sas_ci_acs.ob_util.strEquals(b,c)},flash:function(a,b,c,d,e,f){a={e:!1,v:""};(c=navigator.plugins)&&c.length&&((e=c["Shockwave Flash"])||(e=c["Shockwave Flash 2.0"]),e&&(a.e=!0,f=e.description))&&(a.v=f.substr(f.indexOf("Flash")+6));if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.flash_version)return this.flash_version;for(b=15;0<b;b--)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);a.e=!0;a.v=d.GetVariable("$version");this.flash_version=a;break}catch(g){com_sas_ci_acs.ob_util.log(g)}}return a},
svg:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++)d=new String(c[b].type),0==d.indexOf("image/svg+xml")&&(a.e=!0,d=d.split("sion=")[1],d>a.v&&(a.v=d));if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.svg_version)return this.svg_version;d=new ActiveXObject("Adobe.SVGCtl");a.e=!0;a.v=d.GetVariable("$version");this.svg_version=a}return a},flashdirector:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/x-director")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.flashdirector_version)return this.flashdirector_version;for(b=15;0<b;b--)try{d=new ActiveXObject("SWCtl.SWCtl."+b);a.e=!0;a.v=d.GetVariable("$version");this.flashdirector_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},realplayer:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("audio/x-pn-realaudio-plugin")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.realplayer_version)return this.realplayer_version;for(b=15;0<b;b--)try{d=new ActiveXObject("rmocx.RealPlayer G2 Control."+b);a.e=!0;a.v=d.GetVariable("$version");this.realplayer_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},quicktime:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("video/quicktime")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.quicktime_version)return this.quicktime_version;for(b=15;0<b;b--)try{d=new ActiveXObject("QuickTimeCheckObject.QuickTimeCheck."+b);a.e=!0;a.v=d.GetVariable("$version");this.quicktime_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},mediaplayer:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/x-mplayer2")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.mediaplayer_version)return this.mediaplayer_version;for(b=15;0<b;b--)try{d=new ActiveXObject("MediaPlayer.MediaPlayer."+b);a.e=!0;a.v=d.GetVariable("$version");this.mediaplayer_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},acrobat:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/pdf")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.acrobat_version)return this.acrobat_version;for(b=15;0<b;b--)try{d=new ActiveXObject("PDF.PdfCtrl."+b);a.e=!0;a.v=d.GetVariable("$version");this.acrobat_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},brightcove:function(a){a={e:!1,v:""};var b=document.getElementsByTagName("script");if(!com_sas_ci_acs.ob_util.isUndefined(b))for(var c=0;c<
b.length;c++)if(-1!=b[c].indexOf("brightcove")){a.e=!0;break}return a},java:function(a,b,c,d,e,f,g,h,l){a={e:!1,v:""};if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.java_version)return this.java_version;c=2;a:for(;0<c;c--)for(e=9;0<=e;e--)for(f=5;0<=f;f--){b=c+"."+e+"."+f;try{new ActiveXObject("JavaWebStart.isInstalled."+b+".0");a.e=!0;a.v=b;this.java_version=a;break a}catch(q){com_sas_ci_acs.ob_util.log(q)}}}else for(c=navigator.mimeTypes,b=0;b<c.length;b++)h=new String(c[b].type),
0==h.indexOf("application/x-java-applet")&&(a.e=!0,l=h.split("sion=")[1],l>a.v&&(a.v=l));if(""!=a.v)return a;a.e=navigator.javaEnabled();a.v=a.e&&"undefined"!=typeof java?java.lang.System.getProperty("java.version"):"";return a},isUndefined:function(a){return"undefined"==typeof a?!0:!1},exists:function(a){return"undefined"!==typeof a&&null!==a},notBlank:function(a){return"undefined"!==typeof a&&null!==a&&a?!0:!1},idOf:function(a){if(a)return a.getAttribute("id")&&""!=a.getAttribute("id")?a.getAttribute("id"):
a.getAttribute("name")},formTag:function(a,b){for(b=com_sas_ci_acs.ob_util.toLowerCase(b);null!=a&&com_sas_ci_acs.ob_util.toLowerCase(a.tagName)!=b&&"body"!=com_sas_ci_acs.ob_util.toLowerCase(a.tagName);)a=a.parentNode;if(null==a||com_sas_ci_acs.ob_util.toLowerCase(a.tagName)!=b||com_sas_ci_acs.ob_util.isScriptLink(a))a=null;return a},parseUri:function(a){var b=document.createElement("a");b.href=a;return{protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,path:("/"!==b.pathname.charAt(0)?
"/":"")+b.pathname,search:b.search.substring(1)}},localUri:function(){return this.parseUri(window.location.href)},isDescendant:function(a,b){for(b=b.parentNode;null!=b;){if(b==a)return!0;b=b.parentNode}return!1},isArray:function(a){return a&&"[object Array]"===Object.prototype.toString.call(a)},getElementPath:function(a){var b=null==a.id||com_sas_ci_acs.ob_util.isUndefined(a.id)||""==a.id?a.nodeName:a.id;for(a=a.parentNode;null!=(a=a.parentNode);)b=com_sas_ci_acs.ob_util.isUndefined(a.id)||null==
a.id||""==a.id?a.nodeName+"/"+b:a.id+"/"+b;return"//"+b},getElementSelector:function(a){if(null==a)return"";var b=a.tagName.toLowerCase();if("body"!=b&&"html"!=b){var c=a.getAttribute("id"),d=a.getAttribute("class");a=a.getAttribute("name");if(c)b=0<=c.indexOf(".")?b+("[id='"+c+"']"):b+("#"+c);else{if(d)for(c=d.split(/\s+/),d=0;d<c.length;d++)b+="."+c[d].trim();a&&(b+="[name='"+a+"']")}}return b},getElementFullSelector:function(a){for(var b=com_sas_ci_acs.ob_util.getElementSelector(a);null!=(a=a.parentElement);)b=
com_sas_ci_acs.ob_util.getElementSelector(a)+" > "+b;return b},getFirstUniqueParent:function(a){return a.getAttribute("id")||"BODY"===a.tagName?a:this.getFirstUniqueParent(a.parentElement)},getElementUniqueSelector:function(a){var b=this.getFirstUniqueParent(a),c=[];for(c.push(a);a!==b;)a=a.parentElement,c.push(a);a="";a="BODY"===b.tagName?a+"body":a+("#"+b.getAttribute("id"));for(b=c.length-2;0<=b;b--){for(var d=!1,e=c[b],f=e.parentElement.children,g=e.tagName,h=0,l=0;l<f.length;l++)f[l].tagName===
g&&h++;1===h&&(a+=" > "+g.toLowerCase(),d=!0);if(!d&&e.getAttribute("class")){var q=!1,r=e.getAttribute("class").split(" ");h=function(a){a=f[a];if(a!==e&&a.getAttribute("class")){var b=a.getAttribute("class").split(" ");r.every(function(a){return 0<=b.indexOf(a)})&&(q=!0)}};for(l=0;l<f.length&&!q;l++)h(l);if(!q){a+=" > "+g.toLowerCase();for(d=0;d<r.length;d++)a+="."+r[d];d=!0}}d||(d=[].slice.call(f).indexOf(e)+1,a+=" > "+g.toLowerCase()+":nth-child("+d+")",d=!0)}return a},getElementInnerText:function(a){return a.textContent&&
"undefined"!=typeof a.textContent?a.textContent:a.innerText},isIE8Browser:function(){var a=-1,b=navigator.userAgent,c=/Trident\/([0-9]{1,}[.0-9]{0,})/;null!=c.exec(b)&&(a=parseFloat(RegExp.$1));if(4==a)return!0;c=/MSIE ([0-9]{1,}[.0-9]{0,})/;return null!=c.exec(b)&&(a=parseFloat(RegExp.$1),9>a&&0<a)?!0:!1},isIE89Browser:function(){var a=-1,b=navigator.userAgent,c=/Trident\/([0-9]{1,}[.0-9]{0,})/;null!=c.exec(b)&&(a=parseFloat(RegExp.$1));if(4==a)return!0;c=/MSIE ([0-9]{1,}[.0-9]{0,})/;return null!=
c.exec(b)&&(a=parseFloat(RegExp.$1),10>a&&0<a)?!0:!1},isIEBrowser:function(){return!!document.documentMode},isFirefoxBrowser:function(){return"undefined"!==typeof InstallTrigger},isSafariBrowser:function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},isElementInViewport:function(a){if("undefined"!==typeof a.getBoundingClientRect())a=a.getBoundingClientRect();else if("undefined"!==typeof(a.parentElement&&a.parentElement.getBoundingClientRect()))a=a.parentElement.getBoundingClientRect();
else return!1;var b=a.height*a.width,c=0,d=0,e=0,f=0;0>a.top&&(c=-1*a.top);0>a.left&&(e=-1*a.left);0>window.innerWidth-a.right&&(f=-1*(window.innerWidth-a.right));0>window.innerHeight-a.bottom&&(d=-1*(window.innerHeight-a.bottom));c+=d;c>a.height&&(c=a.height);e+=f;e>a.width&&(e=a.width);return.5<=(b-(c*a.width+e*a.height))/b?!0:!1},isCartEvent:function(a){var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;return com_sas_ci_acs.ob_util.isUndefined(b)?!1:(a=b[a],!com_sas_ci_acs.ob_util.isUndefined(a)&&
a&&("cart"==a||"checkout"==a||"purchase"==a))},isCartProductAttribute:function(a,b){a=(a=a.cart_att_type)&&"CART_PRODUCT_ATTRIBUTE"==a;return b&&com_sas_ci_acs.ob_util.isCartEvent(b)&&a},isCartAttribute:function(a,b){a=(a=a.cart_att_type)&&"CART_ATTRIBUTE"==a;return b&&com_sas_ci_acs.ob_util.isCartEvent(b)&&a},spotAttributeSetup:function(a,b){try{var c=com_sas_ci_acs.ob_injector.prototype.getSpotDefinitions();if(a&&this.exists(c)){var d=c[a];if(this.exists(d)){var e=d.spot_attributes;e&&this.customAttributeSetup(e,
b,null,com_sas_ci_acs.ob_util.getLoadEventInstance())}}}catch(f){com_sas_ci_acs.ob_util.log("Unable to setup spot att for:"+a+" error:"+f)}},customAttributeSetup:function(a,b,c,d,e){d||(d=b);e&&null!=e||(e=0);for(var f=0;f<a.length;f++){var g=a[f].name,h=a[f].selector,l=a[f].selectorOnly,q=a[f].urlQueryParameter,r=a[f].urlQueryString,m=a[f].urlDomain,v=a[f].urlPath,k=a[f].urlPathLevel,t=a[f].cookie,u=a[f].pageTitle,y=a[f].pageId,I=a[f].metaTag,z=a[f].jsVariable,E=a[f].referrerUrlDomain,A=a[f].referrerUrlPath,
G=a[f].referrerUrlQueryParameter,B=a[f].click,O=a[f].formSubmit;if(h&&""!=h&&!com_sas_ci_acs.ob_util.isCartProductAttribute(a[f],b.get("event_id"))){k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(h)}catch(W){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+h+"' : "+W)}if(h=k.length>e?k[e]:k[0]){k=a[f].attribute;var p=h[k];h.attributes&&h.attributes[k]&&h.attributes[k].value&&"value"!=k&&(p=h.attributes[k].value);p&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,
h,k))&&""!=p&&(p=p.trim(),"numeric"==a[f].type&&(h="\\"+(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator),p=parseFloat(p.replace(new RegExp(h,"g"),"").replace(/,/,".")),isNaN(p)&&(p="")),b.add(g,p)))}}else if(l&&""!=l){k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(g)}catch(W){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+g+"' : "+W)}(h=k.length>e?k[e]:k[0])&&b.add(g,g)}else if(q&&
""!=q){if(h=(new RegExp("[?&]"+encodeURIComponent(q)+"=([^&]*)")).exec(location.search))if(p=decodeURIComponent(h[1]))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(r&&""!=r){if(p=location.search)p=p.substr(1),h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(m&&""!=m){if(p=document.domain)h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,
h,k))&&""!=p&&b.add(g,p.trim())}else if(v&&""!=v){if(p=location.pathname)h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(k&&""!=k&&!isNaN(parseInt(k)))(h=location.pathname.split("/"))&&h.length>=parseInt(k)&&(p=h[parseInt(k)])&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()));else if(t&&""!=t)(h=com_sas_ci_acs.ob_util.ckR(t))&&""!=h&&(p=com_sas_ci_acs.ob_util.ckR(t))&&
(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()));else if(u&&""!=u){if(p=document.title)h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(y&&""!=y){if(p=com_sas_ci_acs.ob_util.extractParam("page_id",window.location.href))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(I&&""!=I)(h=d.dataElements["meta."+
I])&&""!=h&&(p=h)&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()));else if(z&&""!=z){if(p=com_sas_ci_acs.ob_util.getJsVariable(z))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(E&&""!=E){if(p=com_sas_ci_acs.ob_util.extractDomain(d.dataElements.referrer))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(A&&
""!=A){if(p=com_sas_ci_acs.ob_util.extractPath(d.dataElements.referrer))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else if(G&&""!=G){if(p=com_sas_ci_acs.ob_util.extractParam(G,d.dataElements.referrer))h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim())}else B&&""!=B?(p,c&&("targetId"===B?p=c.id:"targetName"===B?p=c.name:"targetHref"===B?c.parentElement.href?p=c.parentElement.href:
c.href&&(p=c.href):"targetAlt"===B?p=c.alt:"targetTagName"===B?p=c.tagName:"targetSelectorPath"===B?p=c.id:"targetInnerText"===B?p=c.innerText:"targetCustomAttribute"===B&&(h=a[f].attribute,null!=h&&(p=c.getAttribute(h)))),p&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,p.trim()))):O&&""!=O&&(p,c&&("formId"==O&&(p=c.id),"formName"==O&&(p=c.name)),p&&(h=a[f].filter,k=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,h,k))&&""!=p&&b.add(g,
p.trim())))}},customCartItemAttributeSetup:function(a,b,c,d,e){for(d=0;d<b.length;d++){e=b[d].name;var f=b[d].selector;if(f&&""!=f&&com_sas_ci_acs.ob_util.isCartProductAttribute(b[d],c.get("parent_event_uid"))){var g=[];try{g=com_sas_ci_acs.ob_util.getElementsBySelector(f)}catch(l){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+f+"' : "+l)}if(g&&a<g.length&&(g=g[a])){var h=b[d].attribute;f=g[h];g.attributes&&g.attributes[h]&&g.attributes[h].value&&"value"!=h&&(f=g.attributes[h].value);
f&&(f=com_sas_ci_acs.ob_util.filterPattern(f,b[d].filter,b[d].filterpattern))&&""!=f&&(f=f.trim(),"numeric"==b[d].type&&(g="\\"+(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator),f=parseFloat(f.replace(new RegExp(g,"g"),"").replace(/,/,".")),isNaN(f)&&(f="")),c.add(e,f))}}}},getJsVariable:function(a){try{if(a){if(window[a])return String(window[a]);if(/^[A-Za-z_][A-Za-z0-9_\[\]\.]*$/.test(a)){var b=eval(a);if(b)return String(b);
if(0===b)return"0";if(""===b)return b}}}catch(c){com_sas_ci_acs.ob_util.log("exception occurred in getJsVariable for '"+a+"' : "+c)}},propertyMatch:function(a,b){for(var c=0,d=0;d<a.length;d++){var e=a[d].name,f=a[d].selectorOnly,g=a[d].cookie,h=a[d].pageTitle,l=a[d].pageId,q=a[d].metaTag,r=a[d].referrerUrlDomain,m=a[d].referrerUrlPath,v=a[d].referrerUrlQueryParameter,k=a[d].jsVariable;if(f&&""!=f){g=[];try{g=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(t){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+
e+"' : "+t)}g[0]&&c++}else if(g&&""!=g){if((f=com_sas_ci_acs.ob_util.ckR(g))&&""!=f&&(g=com_sas_ci_acs.ob_util.ckR(g)))for(f=a[d].filter,e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,g,e[h])){c++;break}}else if(h&&""!=h){if(g=document.title)if(f=a[d].filter,com_sas_ci_acs.ob_util.strOp(f,g,e))c++;else for(e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,g,e[h])){c++;break}}else if(l&&""!=l){if(g=com_sas_ci_acs.ob_util.extractParam("page_id",window.location.href))if(f=
a[d].filter,com_sas_ci_acs.ob_util.strOp(f,g,e))c++;else for(e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,g,e[h])){c++;break}}else if(q&&""!=q){if((g=b.dataElements["meta."+q])&&""!=g&&g)for(f=a[d].filter,e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,g,e[h])){c++;break}}else if(r&&""!=r){if(g=com_sas_ci_acs.ob_util.extractDomain(b.dataElements.referrer))for(f=a[d].filter,e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,g,e[h])){c++;break}}else if(m&&
""!=m){if(g=com_sas_ci_acs.ob_util.extractPath(b.dataElements.referrer))for(f=a[d].filter,e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,g,e[h])){c++;break}}else if(v&&""!=v){if(g=com_sas_ci_acs.ob_util.extractParam(v,b.dataElements.referrer))for(f=a[d].filter,e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,g,e[h])){c++;break}}else if(k&&""!=k&&(g=com_sas_ci_acs.ob_util.getJsVariable(k)))for(f=a[d].filter,e=e.split("|"),h=0;h<e.length;h++)if(com_sas_ci_acs.ob_util.strOp(f,
g,e[h])){c++;break}}return c==a.length},filterPattern:function(a,b,c){if(b&&c)if("before"==b)b=a.indexOf(c),a=-1!=b?a.slice(0,b):"";else if("after"==b)b=a.indexOf(c),a=-1!=b?a.slice(b+c.length):"";else if("before_last"==b)b=a.lastIndexOf(c),a=-1!=b?a.slice(0,b):"";else if("after_last"==b)b=a.lastIndexOf(c),a=-1!=b?a.slice(b+c.length):"";else if("between"==b){c=c.split("__&&__");b=a.indexOf(c[0]);var d=a.indexOf(c[1],b+c[0].length);a=0<=b&&0<=d?a.substring(b+c[0].length,d):0<=b?a.substring(b+c[0].length):
0<=d?a.substring(0,d):a}else"regex"==b&&(c=(new RegExp(c)).exec(a))&&0<c.length&&(a=c[c.length-1]);return a},isSelectorValid:function(a){a=document.createElement("br");a:{try{a.querySelector(void 0)}catch(b){a=!1;break a}a=!0}return a},getElementsBySelector:function(a,b){var c=[],d=b,e=a.indexOf(":contains(");if(-1!==e){var f=a.substring(e,a.length);a=a.substring(0,e)}0===a.indexOf(">")&&(a=a.slice(1).trim());if(!this.isSelectorValid(a))return c;com_sas_ci_acs.ob_util.exists(b)||(d=document);com_sas_ci_acs.ob_util.exists(d.matches)&&
d.matches(a)&&(c=c.concat(d));a=d.querySelectorAll(a);if(com_sas_ci_acs.ob_util.exists(a)&&0<a.length)for(b=0;b<a.length;b++){d=a[b];var g=!0;if(-1!==e){var h=f.substring(10,f.length-1);if(-1===d.innerText.indexOf(h)||-1===d.innerHTML.indexOf(h))g=!1}g&&(c=c.concat(d))}return c}};
function overridePrototypes(){!com_sas_ci_acs.ob_util.exists(Element.prototype.matches)&&com_sas_ci_acs.ob_util.exists(Element.prototype.msMatchesSelector)&&(Element.prototype.matches=Element.prototype.msMatchesSelector)}overridePrototypes();
com_sas_ci_acs.ob_form=function(a,b){this.attempts=0;this.changes={};for(var c=0;c<a.length;c++){var d=a.elements[c];if("password"!=com_sas_ci_acs.ob_util.toLowerCase(d.type)){var e=com_sas_ci_acs.ob_util.idOf(d);if(""==e)com_sas_ci_acs.ob_util.log("un-id'd element in form ["+a.id+"] skipped");else{var f=com_sas_ci_acs.ob_util.toLowerCase(d.tagName);d=com_sas_ci_acs.ob_util.toLowerCase(d.type);com_sas_ci_acs.ob_util.log("tracking changes on "+b+"["+f+":"+d+"]:"+e);this.changes[e]=0}}}};
com_sas_ci_acs._ob_configure=function(){this.w3c="undefined"==typeof window.event?!0:!1;this.w3c||(this.w3c="undefined"==typeof document.createEventObject?!0:!1);this.limIE=2083;this.validateEvents=!0;this.sendMeta={};this.sendCookies={};this.sendJsvars={};this.sendMeta.load=!0;this.sendMeta.cart=!0;this.sendMeta.submit=!0;this.sendMeta.click=!0;this.sendMeta.contentchange=!0;this.sendMeta.jsvarchange=!0;this.sendMeta.cartaction=!0;this.sendCookies.load=!0;this.sendCookies.cart=!0;this.sendCookies.submit=
!0;this.sendCookies.click=!0;this.sendCookies.contentchange=!0;this.sendCookies.jsvarchange=!0;this.sendMeta.cartaction=!0;this.sendJsvars.load=!0;this.sendJsvars.cart=!0;this.sendJsvars.submit=!0;this.sendJsvars.click=!0;this.sendJsvars.contentchange=!0;this.sendJsvars.jsvarchange=!0;this.sendMeta.cartaction=!0;this.forms={}};com_sas_ci_acs._ob_configure.prototype.initialize=function(){typeof this.ob_cfg==com_sas_ci_acs.ob_util.f?(this.ob_cfg(),com_sas_ci_acs._ob_dom.initialize()):com_sas_ci_acs.ob_util.log("ERROR: com_sas_ci_acs._ob_configure.initialize(): No configuration.")};
com_sas_ci_acs._ob_configure.prototype.getLoadId=function(){return this.load_guid};com_sas_ci_acs._ob_configure.prototype.getDomain=function(){return document.domain};com_sas_ci_acs.ob_configure=new com_sas_ci_acs._ob_configure;
com_sas_ci_acs._ob_dom=function(){function a(a,b){var c="";if(com_sas_ci_acs.ob_util.exists(b))for(var d=0;d<b.length;d++)c+="input[type="+b[d]+"], ";c=c.replace(/,\s*$/,"");return a.querySelectorAll(c)}function b(){r(a(document,Y));v(document);u(document,0);z();d(window,"unload",l,!0);"interactive"===document.readyState||"complete"===document.readyState?q(null):"undefined"!==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",q,!0);"complete"===document.readyState?e(null):
d(window,"load",e,!0);ra();ia();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars){var b=(new com_sas_ci_acs._ob_jsvarchange_configuration).getConfig();if(b)for(var c in b){var x=b[c];try{var f=x.split("."),S=f.pop();if(0<f.length){for(var F=f.pop(),k=window,h=0;h<f.length;h++)k=k[f[h]];sa(c,S,k[F])}}catch(L){com_sas_ci_acs.ob_util.log(x+" variable will not be watched: "+L)}}}d(document.body,
"DOMNodeInserted",ja,!0)}var c=function(a){return[].filter.call(a,function(a){return/^data-/.test(a.name)})},d=function(a,b,c,d){if(!com_sas_ci_acs.ob_util.exists(a)||com_sas_ci_acs.ob_util.isUndefined(b)||""==b||typeof c!=com_sas_ci_acs.ob_util.f)return!1;com_sas_ci_acs.ob_util.isUndefined(d)&&(d=!0);com_sas_ci_acs.ob_util.isUndefined(a.addEventListener)?com_sas_ci_acs.ob_util.isUndefined(a.attachEvent)||a.attachEvent("on"+b,c):a.addEventListener(b,c,d);return!0},e=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD);var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(b)&&0<b.length&&(a.add("eventSource","webmarketing|ace"),a.add("event_uid",b[0]));setTimeout(function(){a.send()},0);b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventid;if(!com_sas_ci_acs.ob_util.isUndefined(b))for(var c=
0;c<b.length;c++)if(!com_sas_ci_acs.ob_util.isMagicBoxEvent(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype[b[c]])){var d=[],e=null;if(com_sas_ci_acs.ob_util.isCartEvent(b[c])){e=Math.floor(1E12*Math.random()+1);var f=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_prd_selector;if(!com_sas_ci_acs.ob_util.isUndefined(f)){var k=f[b[c]];if(k&&""!=k){f=[];try{f=com_sas_ci_acs.ob_util.getElementsBySelector(k)}catch(T){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+
k+"' : "+T)}for(k=0;k<f.length;k++)d.push(h(b[c],k,e))}}}g(b[c],e,d)}}setTimeout(function(){(new com_sas_ci_acs.ob_injector).injectDeferred()},com_sas_ci_acs.ob_util.getDeferredSpotTimeout());com_sas_ci_acs._ob_cart_handlers.scrapeHandler()},f=function(a){a=com_sas_ci_acs.ob_configure.isCollectionEnabled().event_properties[a];return!com_sas_ci_acs.ob_util.isUndefined(a)&&a?!com_sas_ci_acs.ob_util.propertyMatch(a,com_sas_ci_acs.ob_util.getLoadEventInstance()):!1},g=function(a,b,c){var d=1;if(!f(a)){var n=
new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD);n.add("eventSource","webmarketing");n.add("event_id",a);var e=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventname;com_sas_ci_acs.ob_util.isUndefined(e)||(e=e[a])&&n.add("eventname",e);e=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventsubtype;com_sas_ci_acs.ob_util.isUndefined(e)||(e=e[a])&&(e===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_CONFIRMATION_EVENT?n.add("eventname",e):n.add("eventsubtype",
e));e=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;com_sas_ci_acs.ob_util.isUndefined(e)||(e=e[a])&&n.add("eventtype",e);com_sas_ci_acs.ob_util.isUndefined(b)||b&&n.add("cart_snapshot_id",b);if(!com_sas_ci_acs.ob_util.isUndefined(c)&&c){for(b=0;b<c.length;b++)n.add("cartitem."+(b+1),c[b].data);n.add("cartitem_count",c.length)}c=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_type;com_sas_ci_acs.ob_util.isUndefined(c)||(c=c[a])&&n.add("system_type",c);c=
com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&(e=c[a])){com_sas_ci_acs.ob_util.customAttributeSetup(e,n,null);for(var x=0;x<e.length;x++)if((c=e[x].login_event_type)||(c=e[x].type),c){b=e[x].obscured;var w=e[x].name;b&&"true"==b&&(b=n.get(w),b=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(b)+com_sas_ci_acs.ob_util.account).toString(),n.add(w,b),n.add("ffobscure."+d,w),d++,n.add("login_event",b),n.add("ffobscure."+d,"login_event"),
d++);n.add("login_event_type",c)}}c=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&(a=c[a]))for(e=0;e<a.length;e++){x=a[e].name;com_sas_ci_acs.ob_util.customAttributeSetup(a,n,null);if(!n.get("User_ID_Attribute"))return;(c=a[e].login_event_type)||(c=a[e].type);n.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT);n.add("event","IdentityEvent");c&&n.add("login_event_type",c);(b=a[e].obscured)&&"true"==b&&(c=n.get(x),
b=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(c)+com_sas_ci_acs.ob_util.account).toString(),n.add(x,b),n.add("ffobscure."+d,x),d++,n.add("login_event",b),n.add("ffobscure."+d,"login_event"),d++)}setTimeout(function(){n.send()},0)}},h=function(a,b,c){if(!f(a)){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM);d.add("eventSource","webmarketing");d.add("parent_event_uid",a);var n=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventname;com_sas_ci_acs.ob_util.isUndefined(n)||
(n=n[a])&&d.add("eventname",n);n=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;com_sas_ci_acs.ob_util.isUndefined(n)||(n=n[a])&&d.add("eventtype",n);com_sas_ci_acs.ob_util.isUndefined(c)||c&&d.add("cart_snapshot_id",c);c=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_type;com_sas_ci_acs.ob_util.isUndefined(c)||(c=c[a])&&d.add("system_type",c);c=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_attributes;com_sas_ci_acs.ob_util.isUndefined(c)||
(a=c[a])&&com_sas_ci_acs.ob_util.customCartItemAttributeSetup(b,a,d,null);if(d.validate()){d.data="";for(var e in d.dataElements)typeof d.dataElements[e]!=com_sas_ci_acs.ob_util.f&&(0<d.data.length&&(d.data+="&"),d.data+=encodeURIComponent(e)+"="+encodeURIComponent(d.dataElements[e]));d.data=d.excludeDataElements(d.data)}return d}},l=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)com_sas_ci_acs.ob_util.isFirefoxBrowser()?
(new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.UNLOAD)).send(!0):(new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.UNLOAD)).send(!1)},q=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.DOM_CONTENT_LOADED);setTimeout(function(){a.send()},0)}},r=function(a){var b=
com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks;if(!com_sas_ci_acs.ob_util.exists(b)||"true"===b)for(b=0;b<a.length;b++){var c=a[b];c.addEventListener("click",m,!0);"true"===com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&c.addEventListener("mouseover",m,!0);var d=c;for(var n=[],e=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,f=0;f<e.length;f++){var k=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[e[f]];var h=k[0].targetSelector;if(com_sas_ci_acs.ob_util.exists(k))if(com_sas_ci_acs.ob_util.exists(h)){try{var g=
com_sas_ci_acs.ob_util.getElementsBySelector(h)}catch(ta){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+h+"' : "+ta)}k=null;for(h=0;h<g.length;h++)if(g[h]==d){k=g[h];break}k==d&&n.push(e[f])}else if(com_sas_ci_acs.ob_util.exists(d)){h=k[0].targetId;var l=k[0].targetName,t=k[0].targetHref,q=k[0].targetAlt,u=k[0].targetTagName;k=k[0].targetInnerText;com_sas_ci_acs.ob_util.exists(h)&&h===d.id&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(l)&&l===d.name&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(t)&&
t===d.parentElement.href&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(q)&&q===d.alt&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(u)&&u===d.tagName&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(k)&&k===d.innerText&&n.push(e[f])}}d=n;0<d.length&&(c.tngIds=JSON.stringify(d),c.addEventListener("click",P,!0))}},m=function(a){com_sas_ci_acs.ob_util.exists(a)||(a=window.event);var b=a.type;if("click"===com_sas_ci_acs.ob_util.toLowerCase(b)||"mouseover"===com_sas_ci_acs.ob_util.toLowerCase(b)){b=a.target;var d=
com_sas_ci_acs.ob_util.formTag(b,"input");if(com_sas_ci_acs.ob_util.exists(d)){var n=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK);n.add("referrer",document.URL);n.add("elementTagName",d.tagName);n.add("anchor_id",d.id);n.add("anchor_name",d.name);n.add("anchor_href",d.innerHTML);n.add("location",com_sas_ci_acs.ob_util.getElementPath(b));n.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));n.add("targetSelectorPath2",com_sas_ci_acs.ob_util.getElementUniqueSelector(b));
n.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));n.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");n.add("title",d.title);n.add("port",location.port);n.add("protocol",location.protocol.substr(0,location.protocol.length-1));com_sas_ci_acs.ob_util.exists(a.currentTarget)&&n.add("inputType",a.currentTarget.type);a=c(b.attributes);for(b=0;b<a.length;b++)n.add(a[b].name,a[b].value);com_sas_ci_acs.ob_util.isSafariBrowser()?n.send(!1):setTimeout(function(){n.send()},
0);return!0}}},v=function(a){var b=a.getElementsByTagName("a");if(void 0!=b)for(var c=0;c<b.length;c++)k(b[c]);void 0!=a.tagName&&"a"==a.tagName.toLowerCase()&&k(a);b=a.getElementsByTagName("area");if(void 0!=b)for(c=0;c<b.length;c++)k(b[c]);void 0!=a.tagName&&"area"==a.tagName.toLowerCase()&&k(a);b=a.getElementsByTagName("button");if(void 0!=b)for(c=0;c<b.length;c++)A(b[c]);void 0!=a.tagName&&"button"==a.tagName.toLowerCase()&&A(a)},k=function(a){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",X,!0):a.attachEvent("onclick",X);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",X,!0):a.attachEvent("onmouseover",X))},t=function(a,b,c){for(var d=[],n=0,e,f,x,k,w,h=0;h<a.length;h++){var g=a[h];e=!0;if(null!=g){var l=g.uri;if(void 0!=l){for(var t=0;t<l.length;t++){x=l[t].p.op;k=l[t].p.values;
f=!1;for(var m=0;m<k.length;m++){w=encodeURI(l[t].p.values[m]).toLowerCase();var q=com_sas_ci_acs.ob_util.parseUri(window.location.href).path.toLowerCase();if(com_sas_ci_acs.ob_util.strOp(x,q,w)){f=!0;break}}if(!f){e=!1;break}}if(!e)continue}l=g.protocol;if(void 0!=l){x=l.p.op;k=l.p.values;f=!1;for(t=0;t<k.length;t++)if(w=l.p.values[t],m=com_sas_ci_acs.ob_util.location(),com_sas_ci_acs.ob_util.strOp(x,m,w)){f=!0;break}if(!f)continue}l=g.domain;if(void 0!=l&&(x=l.p.op,"all"!=x&&(k=l.p.values,0<k.length))){t=
com_sas_ci_acs.ob_util.host();f=!1;for(m=0;m<k.length;m++)if(w=l.p.values[m],com_sas_ci_acs.ob_util.strOp(x,t,w)){f=!0;break}if(!f)continue}t=g.form;if(void 0!=t){for(m=0;m<t.length;m++){l=t[m].attr;x=t[m].op;k=t[m].values;f=!1;for(q=0;q<k.length;q++){w=t[m].values[q];var u=b;"name"==l&&(u=c);if(com_sas_ci_acs.ob_util.strOp(x,u,w)){f=!0;break}}if(!f){e=!1;break}}if(!e)continue}d[n]={};e=g.field;if(void 0!=e)for(f=0;f<e.length;f++){l=e[f].attr;x=e[f].op;k=e[f].values;w="";for(g=0;g<k.length;g++)0<
w.length&&(w+=","),w+=e[f].values[g];d[n][w+"_"+l]=x}else d[n].$$all$$_id="$$all$$";n++}}return d},u=function(a,b){if(a instanceof Element&&"form"==a.tagName.toLowerCase())I(a,b),com_sas_ci_acs.ob_util.anonymous_form_count+=1;else{a=a.getElementsByTagName("form");for(var c=0;c<a.length;c++)I(a[c],c+b);com_sas_ci_acs.ob_util.anonymous_form_count+=a.length}},y=function(a,b){var c=com_sas_ci_acs.ob_util.idOf(a);if(null!=c&&""!=c){for(var d,e,n,f=0;f<a.length;f++)d=a.elements[f],b.contains(d)&&(e=com_sas_ci_acs.ob_util.idOf(d),
""==e?com_sas_ci_acs.ob_util.log("un-id'd element in form ["+a.id+"] skipped"):(n=com_sas_ci_acs.ob_configure.forms[c],com_sas_ci_acs.ob_util.isUndefined(n)||com_sas_ci_acs.ob_util.isUndefined(n.changes[e])&&(n.changes[e]=0),e=com_sas_ci_acs.ob_util.toLowerCase(d.tagName),n=com_sas_ci_acs.ob_util.toLowerCase(d.type),"input"!=e&&"button"!=e||"submit"!=n&&"button"!=n?"input"!=e||"text"!=n&&"textarea"!=n&&"color"!=n&&"date"!=n&&"datetime"!=n&&"datetime-local"!=n&&"email"!=n&&"file"!=n&&"month"!=n&&"number"!=
n&&"range"!=n&&"search"!=n&&"tel"!=n&&"time"!=n&&"url"!=n&&"week"!=n?"select"==e?B(d,c):"input"==e&&"checkbox"==n?O(d,c):"input"==e&&"radio"==n&&p(d,c):G(d,c):E(d,c,a)));a=a.getElementsByTagName("input");for(f=0;f<a.length;f++)d=a[f],b.contains(d)&&(e=com_sas_ci_acs.ob_util.toLowerCase(d.tagName),n=com_sas_ci_acs.ob_util.toLowerCase(d.type),"input"!=e||"image"!=n||!com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"true"!=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks||
(com_sas_ci_acs.ob_configure.w3c?d.addEventListener("click",P,!0):d.attachEvent("onclick",P,!0)));W(b.getElementsByTagName("label"),c)}},I=function(a,b){var c=com_sas_ci_acs.ob_util.idOf(a);if(null==c||""==c)c="anonymous_form_"+ ++b;com_sas_ci_acs.ob_configure.forms[c]=new com_sas_ci_acs.ob_form(a,c);b=com_sas_ci_acs._ob_configure.prototype.getFormConfig();var d=a.getAttribute("id"),e=a.getAttribute("name");com_sas_ci_acs.ob_configure.forms[c].obs=t(b.obs,d,e);"inc"==b.nature?com_sas_ci_acs.ob_configure.forms[c].inc=
t(b.inc,d,e):com_sas_ci_acs.ob_configure.forms[c].ign=t(b.ign,d,e);for(var n=0;n<a.length;n++)b=a.elements[n],d=com_sas_ci_acs.ob_util.toLowerCase(b.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(b.type),"input"!=d&&"button"!=d||"submit"!=e&&"button"!=e?"input"!=d||"text"!=e&&"textarea"!=e&&"color"!=e&&"date"!=e&&"datetime"!=e&&"datetime-local"!=e&&"email"!=e&&"file"!=e&&"month"!=e&&"number"!=e&&"range"!=e&&"search"!=e&&"tel"!=e&&"time"!=e&&"url"!=e&&"week"!=e?"select"==d?B(b,c):"input"==d&&"checkbox"==
e?O(b,c):"input"==d&&"radio"==e&&p(b,c):G(b,c):E(b,c,a);n=a.getElementsByTagName("input");for(var f=0;f<n.length;f++)b=n[f],d=com_sas_ci_acs.ob_util.toLowerCase(b.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(b.type),"input"!=d||"image"!=e||!com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"true"!=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks||(com_sas_ci_acs.ob_configure.w3c?b.addEventListener("click",P,!0):b.attachEvent("onclick",P,!0));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("submit",function(){return function(){pa(a,c)}}(),!0):a.attachEvent("onsubmit",function(){return function(){pa(a,c)}}(),!0);W(a.getElementsByTagName("label"),c)},z=function(a){(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media)&&com_sas_ci_acs.SasVideo.loadPlayers(a)},E=function(a,
b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",function(){return function(a){Z(a,b)}}(),!0):a.attachEvent("onclick",function(){return function(a){Z(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){Z(a,
b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){Z(a,b)}}()));(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"submit"===a.type&&a.addEventListener("click",P,!0)},A=function(a){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?
a.addEventListener("click",K,!0):a.attachEvent("onclick",K,!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",K,!0):a.attachEvent("onmouseover",K));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",P,!0):a.attachEvent("onclick",P)},G=function(a,
b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?(a.addEventListener("change",function(){return function(a){C(a,b)}}(),!0),"text"!=a.getAttribute("type")&&"textarea"!=a.getAttribute("type")||a.addEventListener("select",function(){return function(a){C(a,b)}}(),!0)):(a.attachEvent("onchange",function(){return function(a){C(a,b)}}(),
!0),"text"!=a.getAttribute("type")&&"textarea"!=a.getAttribute("type")||a.attachEvent("onselect",function(){return function(a){C(a,b)}}(),!0));"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},B=function(a,b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("change",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onchange",function(){return function(a){C(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},
O=function(a,b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("change",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onchange",function(){return function(a){C(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",
function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},p=function(a,b){(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)&&O(a,b)},W=function(a,b){if(!com_sas_ci_acs.ob_util.isUndefined(a))for(var c=0;c<a.length;c++)ca(a[c],b)},ca=function(a,b){"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&
(com_sas_ci_acs.ob_configure.w3c?void 0!=a&&a.addEventListener("mouseover",function(){return function(a){C(a,b)}}(),!0):void 0!=a&&a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},ra=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents){if("undefined"!==typeof document.hidden){var a="hidden";var b="visibilitychange"}else"undefined"!==typeof document.mozHidden?
(a="mozHidden",b="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(a="msHidden",b="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(a="webkitHidden",b="webkitvisibilitychange");"undefined"!==typeof a&&"undefined"!==typeof document.addEventListener&&document.addEventListener(b,function(){return function(b){qa(b,document[a])}}(),!0)}},ia=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents){var a=
window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,b=(new com_sas_ci_acs._ob_contentvisible_configuration).getConfig();if(b)for(var c in b)try{for(var d=b[c],e=com_sas_ci_acs.ob_util.getElementsBySelector(d),f=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.maxCCMatches)?50:com_sas_ci_acs.ob_configure.maxCCMatches,k=0;k<e.length&&k<f;k++)a?(new a(function(){var a=c,b=d;return function(c){fa(c,a,b)}}())).observe(e[k],{childList:!0,subtree:!1,attributes:!0,
attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}):e[k].addEventListener&&(e[k].addEventListener("DOMNodeInserted",function(){return function(a){R(a,c,d)}}(),!0),e[k].addEventListener("DOMAttrModified",function(){return function(a){N(a,c,d)}}(),!0),e[k].addEventListener("DOMNodeRemoved",function(){return function(a){ka(a,c,d)}}(),!0),e[k].addEventListener("DOMCharacterDataModified",function(){return function(a){ha(a,c,d)}}(),!0))}catch(T){com_sas_ci_acs.ob_util.log("exception occurred in instrumentContentVisibility: "+
T)}}},sa=function(a,b,c){var d=function(){return function(c,d,e,f){la(a,b,c,d,e,f)}}();com_sas_ci_acs._ob_jsvar.watch(c,d)},ja=function(b){b=b.target;if(b instanceof Element)if(com_sas_ci_acs.ob_util.isIEBrowser()){r(a(b,Y));var c=b.tagName.toLowerCase();if("a"===c||"area"===c)k(b);else if("button"===c)A(b);else if("form"===c){var d=com_sas_ci_acs.ob_util.idOf(b);if(null!=d&&""!=d){com_sas_ci_acs.ob_configure.forms[d]=new com_sas_ci_acs.ob_form(b,d);var e=com_sas_ci_acs._ob_configure.prototype.getFormConfig(),
f=b.getAttribute("id"),n=b.getAttribute("name");com_sas_ci_acs.ob_configure.forms[d].obs=t(e.obs,f,n);"inc"==e.nature?com_sas_ci_acs.ob_configure.forms[d].inc=t(e.inc,f,n):com_sas_ci_acs.ob_configure.forms[d].ign=t(e.ign,f,n)}}if("input"===c||"select"===c||"button"===c){c=!1;for(d=b.parentNode;null!=d&&d instanceof Element;){if("form"==d.tagName.toLowerCase()){c=!0;break}d=d.parentNode}c&&y(d,b)}}else{z(b);v(b);r(a(b,Y));c=!1;for(d=b.parentNode;null!=d&&d instanceof Element;){if("form"==d.tagName.toLowerCase()){c=
!0;break}d=d.parentNode}c?y(d,b):u(b,com_sas_ci_acs.ob_util.anonymous_form_count)}},ma=function(a){var b=com_sas_ci_acs.ob_util.isUndefined(a.type)?com_sas_ci_acs.ob_util.toLowerCase(a.nodeName):com_sas_ci_acs.ob_util.toLowerCase(a.type),c=com_sas_ci_acs.ob_util.idOf(a),d=a.value;if("label"==b)com_sas_ci_acs.ob_util.isUndefined(c)&&com_sas_ci_acs.ob_util.isUndefined(a.htmlFor),d=a.textContent;else if("checkbox"==b&&!a.checked)d="";else if("select-multiple"==b)for(d="",b=0;b<a.selectedOptions.length;b++)c=
a.selectedOptions[b],0<d.length&&(d+=","),d+=c.value;return d},Z=function(a,b){a||(a=window.event);var c=com_sas_ci_acs.ob_util.toLowerCase(a.type),d=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement;a=com_sas_ci_acs.ob_util.formTag(d,"form");com_sas_ci_acs.ob_util.isUndefined(b)&&(b=com_sas_ci_acs.ob_util.idOf(a));"click"==c&&(c="submit");var e=com_sas_ci_acs.ob_configure.forms[b];com_sas_ci_acs.ob_util.isUndefined(e)||"submit"==c&&e.attempts++;var f="";null!=a&&(f=com_sas_ci_acs.ob_util.isUndefined(a.attributes.action)||
null==a.attributes.action?"":a.attributes.action.value);var n=f.indexOf(":");if(0>n||16<n){var k=new String(document.URL);n=k.lastIndexOf("/");var h=k.lastIndexOf("\\");n=n>h?n:h;0<=n&&(k=k.substr(0,n+1),f=k+f)}var g=new com_sas_ci_acs.ob_event(c);g.add("form._o.id",-1==b.indexOf("anonymous_form")?b:"");g.add("form._h.id",null!=a?a.getAttribute("id"):"");g.add("form._h.name",null!=a?a.getAttribute("name"):"");g.add("location",com_sas_ci_acs.ob_util.getElementPath(d));g.add("referrer",document.URL);
g.add("uri",f);c=com_sas_ci_acs.ob_configure.forms[b].obs;d=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(d=!1);f=com_sas_ci_acs.ob_configure.forms[b].ign;k=com_sas_ci_acs.ob_configure.forms[b].inc;n={};h=1;if(null!=a)for(var l=0;l<a.length;l++){var w=a.elements[l],t=com_sas_ci_acs.ob_util.toLowerCase(w.nodeName),m=com_sas_ci_acs.ob_util.toLowerCase(w.type);if("password"!=m&&("radio"!=m||w.checked)){var q=com_sas_ci_acs.ob_util.idOf(w);if(q&&0!=q.length){var u=w.id,p=w.name,v=ma(w),
r=!1;if(d)for(var y,I,z,Q=0;Q<f.length;Q++){if("$$all$$"==f[Q].$$all$$_id)r=!0;else if(0<Object.getOwnPropertyNames(f[Q]).length){y=!0;for(var E in f[Q]){I=!1;if(com_sas_ci_acs.ob_util.strEndsWith(E,"_id")){z=E.slice(0,E.lastIndexOf("_id")).split(",");for(var D=0;D<z.length;D++)if(com_sas_ci_acs.ob_util.strOp(f[Q][E],u,z[D])){I=!0;break}}else for(z=E.slice(0,E.lastIndexOf("_name")).split(","),D=0;D<z.length;D++)if(com_sas_ci_acs.ob_util.strOp(f[Q][E],p,z[D])){I=!0;break}if(!I){y=!1;break}}y&&(r=!0)}if(r)break}else for(r=
!0,Q=0;Q<k.length;Q++){if("$$all$$"==k[Q].$$all$$_id)r=!1;else if(0<Object.getOwnPropertyNames(k[Q]).length){y=!0;for(var C in k[Q]){I=!1;if(com_sas_ci_acs.ob_util.strEndsWith(C,"_id"))for(z=C.slice(0,C.lastIndexOf("_id")).split(","),D=0;D<z.length;D++){if(com_sas_ci_acs.ob_util.strOp(k[Q][C],u,z[D])){I=!0;break}}else for(z=C.slice(0,C.lastIndexOf("_name")).split(","),D=0;D<z.length;D++)if(com_sas_ci_acs.ob_util.strOp(k[Q][C],p,z[D])){I=!0;break}if(!I){y=!1;break}}y&&(r=!1)}if(!r)break}if(!r){r="form.f."+
q;Q="form.f."+q+"._h";D=!1;for(var A=0;A<c.length;A++){if("$$all$$"==c[A].$$all$$_id)D=!0;else if(0<Object.getOwnPropertyNames(c[A]).length){y=!0;for(var H in c[A]){I=!1;if(com_sas_ci_acs.ob_util.strEndsWith(H,"_id")){z=H.slice(0,H.lastIndexOf("_id")).split(",");for(var J=0;J<z.length;J++)if(com_sas_ci_acs.ob_util.strOp(c[A][H],u,z[J])){I=!0;break}}else for(z=H.slice(0,H.lastIndexOf("_name")).split(","),J=0;J<z.length;J++)if(com_sas_ci_acs.ob_util.strOp(c[A][H],p,z[J])){I=!0;break}if(!I){y=!1;break}}y&&
(D=!0)}if(D)break}D&&(v=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(v)+com_sas_ci_acs.ob_util.account).toString(),g.add("ffobscure."+h,r),h++);"checkbox"==m?com_sas_ci_acs.ob_util.isUndefined(n[r])?n[r]=v:n[r]+=","+v:g.add(r,v);g.add(Q+".type",m);g.add(Q+".alt",w.alt);g.add(Q+".id",w.id);g.add(Q+".name",w.name);com_sas_ci_acs.ob_util.isUndefined(e)||(com_sas_ci_acs.ob_util.exists(e.changes[q])||(e.changes[q]=0),g.add(r+"._o.changes",e.changes[q]),com_sas_ci_acs.ob_util.log(b+"["+t+":"+m+":"+
q+"]: changes="+e.changes[q]))}}}}com_sas_ci_acs.ob_util.isUndefined(e)||(g.add("form._o.attempts",e.attempts),com_sas_ci_acs.ob_util.log(b+": attempts="+e.attempts));for(var B in n)com_sas_ci_acs.ob_util.f!=typeof n[B]&&g.add(B,n[B]);com_sas_ci_acs.ob_util.isSafariBrowser()?g.send(!1):setTimeout(function(){g.send()},0);return!0},pa=function(a,b){var c=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_eventid;if(!com_sas_ci_acs.ob_util.isUndefined(c))for(var d=0;d<c.length;d++)na(c[d],
a,b);return!0},na=function(a,b,c){if(!f(a)){com_sas_ci_acs.ob_util.isUndefined(c)&&(c=com_sas_ci_acs.ob_util.idOf(b));var d=com_sas_ci_acs.ob_configure.forms[c];com_sas_ci_acs.ob_util.isUndefined(d)||d.attempts++;var e=new com_sas_ci_acs.ob_event("submit");e.add("eventSource","webmarketing");var k=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_eventname;com_sas_ci_acs.ob_util.isUndefined(k)||(k=k[a])&&e.add("eventname",k);k=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_system_type;
com_sas_ci_acs.ob_util.isUndefined(k)||(k=k[a])&&e.add("system_type",k);var n=!1;k="";var g=!1,h="",l="",w=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_elements,x;if(!com_sas_ci_acs.ob_util.isUndefined(w)&&(w=w[a]))for(var t=0;t<w.length;t++){var m=w[t].selector;var q=[];try{q=com_sas_ci_acs.ob_util.getElementsBySelector(m)}catch(ua){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+m+"' : "+ua)}m=q[0];m==b&&(e.add("event_id",a),n=!0,k=w[t].elementId,
h=w[t].filter,l=w[t].filterpattern,g="true"==w[t].obscured)}t="";m=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(m)){var u=m[a];if(u)for(var r=0;r<u.length;r++){m=u[r].selector;q=[];try{q=com_sas_ci_acs.ob_util.getElementsBySelector(m)}catch(ua){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+m+"' : "+ua)}m=q[0];m==b&&(e.add("event_id",a),e.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),
e.add("event","IdentityEvent"),t=u[r].name,h=u[r].filter,l=u[r].filterpattern,(x=u[r].login_event_type)||(x=u[r].type),x&&e.add("login_event_type",x),g="true"==u[r].obscured,n=!0)}}if(n){n=com_sas_ci_acs.ob_configure.forms[c].obs;m=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(m=!1);q=com_sas_ci_acs.ob_configure.forms[c].ign;u=com_sas_ci_acs.ob_configure.forms[c].inc;r={};for(var p=1,v=0;v<b.length;v++){var y=b.elements[v],I=com_sas_ci_acs.ob_util.toLowerCase(y.nodeName),z=com_sas_ci_acs.ob_util.toLowerCase(y.type);
if("password"!=z&&("radio"!=z||y.checked)){var E=com_sas_ci_acs.ob_util.idOf(y);if(E&&0!=E.length){w=y.id;var C=y.name,D=ma(y),A=!1;if(m)for(var B,H,J=0;J<q.length;J++){if("$$all$$"==q[J].$$all$$_id)A=!0;else if(0<Object.getOwnPropertyNames(q[J]).length){x=!0;H;for(var G in q[J]){B=!1;if(com_sas_ci_acs.ob_util.strEndsWith(G,"_id")){H=G.slice(0,G.lastIndexOf("_id")).split(",");for(var M=0;M<H.length;M++)if(com_sas_ci_acs.ob_util.strOp(q[J][G],w,H[M])){B=!0;break}}else for(H=G.slice(0,G.lastIndexOf("_name")).split(","),
M=0;M<H.length;M++)if(com_sas_ci_acs.ob_util.strOp(q[J][G],C,H[M])){B=!0;break}if(!B){x=!1;break}}x&&(A=!0)}if(A)break}else for(A=!0,J=0;J<u.length;J++){if("$$all$$"==u[J].$$all$$_id)A=!1;else if(0<Object.getOwnPropertyNames(u[J]).length){x=!0;for(var K in u[J]){B=!1;if(com_sas_ci_acs.ob_util.strEndsWith(K,"_id"))for(H=K.slice(0,K.lastIndexOf("_id")).split(","),M=0;M<H.length;M++){if(com_sas_ci_acs.ob_util.strOp(u[J][K],w,H[M])){B=!0;break}}else for(H=K.slice(0,K.lastIndexOf("_name")).split(","),
M=0;M<H.length;M++)if(com_sas_ci_acs.ob_util.strOp(u[J][K],C,H[M])){B=!0;break}if(!B){x=!1;break}}x&&(A=!1)}if(!A)break}if(!A){A="form.f."+E;J="form.f."+E+"._h";M=!1;for(var N=0;N<n.length;N++){if("$$all$$"==n[N].$$all$$_id)M=!0;else if(0<Object.getOwnPropertyNames(n[N]).length){x=!0;for(var O in n[N]){B=!1;if(com_sas_ci_acs.ob_util.strEndsWith(O,"_id")){H=O.slice(0,O.lastIndexOf("_id")).split(",");for(var P=0;P<H.length;P++)if(com_sas_ci_acs.ob_util.strOp(n[N][O],w,H[P])){B=!0;break}}else for(H=
O.slice(0,O.lastIndexOf("_name")).split(","),P=0;P<H.length;P++)if(com_sas_ci_acs.ob_util.strOp(n[N][O],C,H[P])){B=!0;break}if(!B){x=!1;break}}x&&(M=!0)}if(M)break}if(k==E||t==E)D=com_sas_ci_acs.ob_util.filterPattern(D,h,l);D&&""!=D&&(D=D.trim());M&&(D=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(D)+com_sas_ci_acs.ob_util.account).toString(),e.add("ffobscure."+p,A),p++);E==t&&(M&&(e.add("login_event",D),e.add("ffobscure."+p,"login_event"),p++),g&&!M?(D=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(D)+
com_sas_ci_acs.ob_util.account).toString(),e.add("login_event",D),e.add("ffobscure."+p,"login_event"),p++,e.add("ffobscure."+p,A),p++):e.add("login_event",D));w=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_elements;if(!com_sas_ci_acs.ob_util.isUndefined(w)&&(w=w[a]))for(B=0;B<w.length;B++){x=w[B].elementId;if(E==x||C==x)x=w[B].name,g&&(e.add("ffobscure."+p,x),p++,M||(D=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(D)+com_sas_ci_acs.ob_util.account).toString(),e.add("ffobscure."+
p,A),p++)),M&&!g&&e.add("ffobscure."+p++,x),e.add(x,D);(x=w[B].login_event_type)||(x=w[B].type);x&&e.add("login_event_type",x)}"checkbox"==z?com_sas_ci_acs.ob_util.isUndefined(r[A])?r[A]=D:r[A]+=","+D:e.add(A,D);e.add(J+".type",z);e.add(J+".alt",y.alt);e.add(J+".id",y.id);e.add(J+".name",y.name);com_sas_ci_acs.ob_util.isUndefined(d)||(com_sas_ci_acs.ob_util.exists(d.changes[E])||(d.changes[E]=0),e.add(A+"._o.changes",d.changes[E]),com_sas_ci_acs.ob_util.log(c+"["+I+":"+z+":"+E+"]: changes="+d.changes[E]))}}}}com_sas_ci_acs.ob_util.isUndefined(d)||
(e.add("form._o.attempts",d.attempts),com_sas_ci_acs.ob_util.log(c+": attempts="+d.attempts));for(var R in r)com_sas_ci_acs.ob_util.f!=typeof r[R]&&e.add(R,r[R]);H=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_attributes;com_sas_ci_acs.ob_util.isUndefined(H)||(w=H[a])&&com_sas_ci_acs.ob_util.customAttributeSetup(w,e,b);com_sas_ci_acs.ob_util.isSafariBrowser()?e.send(!1):setTimeout(function(){e.send()},0)}}},C=function(a,b){a||(a=window.event);var c=com_sas_ci_acs.ob_configure.w3c?
a.target:a.srcElement;a=com_sas_ci_acs.ob_util.toLowerCase(a.type);var d=com_sas_ci_acs.ob_util.toLowerCase(c.nodeName),e=com_sas_ci_acs.ob_util.isUndefined(c.type)?d:com_sas_ci_acs.ob_util.toLowerCase(c.type),f=com_sas_ci_acs.ob_util.formTag(c,"form");com_sas_ci_acs.ob_util.isUndefined(b)&&(b=com_sas_ci_acs.ob_util.idOf(f));var k=com_sas_ci_acs.ob_configure.forms[b].obs,n=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(n=!1);var g=com_sas_ci_acs.ob_configure.forms[b].ign,h=com_sas_ci_acs.ob_configure.forms[b].inc;
com_sas_ci_acs.ob_util.log("sendFormFieldEvent("+a+") for "+b+"["+d+":"+e+"]");if("password"!=e&&("radio"!=e||c.checked)){var l="";null!=f&&(l=com_sas_ci_acs.ob_util.isUndefined(f.attributes.action)||null==f.attributes.action?"":f.attributes.action.value);var w=l.indexOf(":");if(0>w||16<w){var m=new String(document.URL);w=m.lastIndexOf("/");var t=m.lastIndexOf("\\");w=w>t?w:t;0<=w&&(m=m.substr(0,w+1),l=m+l)}var q=new com_sas_ci_acs.ob_event(a);q.add("form._o.id",-1==b.indexOf("anonymous_form")?b:
"");q.add("form._h.id",null!=f?f.getAttribute("id"):"");q.add("form._h.name",null!=f?f.getAttribute("name"):"");q.add("location",com_sas_ci_acs.ob_util.getElementPath(c));q.add("referrer",document.URL);q.add("uri",l);var u=!1;(f=com_sas_ci_acs.ob_util.idOf(c))&&0!=f.length||(u=!0);l=c.id;m=c.name;w=ma(c);t=com_sas_ci_acs.ob_configure.forms[b];if(!u)if(n)for(var r=0;r<g.length;r++){if("$$all$$"==g[r].$$all$$_id)u=!0;else if(0<Object.getOwnPropertyNames(g[r]).length){n=!0;var p;for(p in g[r]){var v=
!1;if(com_sas_ci_acs.ob_util.strEndsWith(p,"_id")){var y=p.slice(0,p.lastIndexOf("_id")).split(",");for(h=0;h<y.length;h++)if(com_sas_ci_acs.ob_util.strOp(g[r][p],l,y[h])){v=!0;break}}else for(y=p.slice(0,p.lastIndexOf("_name")).split(","),h=0;h<y.length;h++)if(com_sas_ci_acs.ob_util.strOp(g[r][p],m,y[h])){v=!0;break}if(!v){n=!1;break}}n&&(u=!0)}if(u)break}else for(u=!0,p=0;p<h.length;p++){if("$$all$$"==h[p].$$all$$_id)u=!1;else if(0<Object.getOwnPropertyNames(h[p]).length){n=!0;for(r in h[p]){v=
!1;if(com_sas_ci_acs.ob_util.strEndsWith(r,"_id"))for(y=r.slice(0,r.lastIndexOf("_id")).split(","),g=0;g<y.length;g++){if(com_sas_ci_acs.ob_util.strOp(h[p][r],l,y[g])){v=!0;break}}else for(y=r.slice(0,r.lastIndexOf("_name")).split(","),g=0;g<y.length;g++)if(com_sas_ci_acs.ob_util.strOp(h[p][r],m,y[g])){v=!0;break}if(!v){n=!1;break}}n&&(u=!1)}if(!u)break}if(!u){p="form.f."+f;r="form.f."+f+"._h";g=!1;for(h=0;h<k.length;h++){if("$$all$$"==k[h].$$all$$_id)g=!0;else if(0<Object.getOwnPropertyNames(k[h]).length){n=
!0;for(var z in k[h]){v=!1;if(com_sas_ci_acs.ob_util.strEndsWith(z,"_id"))for(y=z.slice(0,z.lastIndexOf("_id")).split(","),u=0;u<y.length;u++){if(com_sas_ci_acs.ob_util.strOp(k[h][z],l,y[u])){v=!0;break}}else for(y=z.slice(0,z.lastIndexOf("_name")).split(","),u=0;u<y.length;u++)if(com_sas_ci_acs.ob_util.strOp(k[h][z],m,y[u])){v=!0;break}if(!v){n=!1;break}}n&&(g=!0)}if(g)break}g&&(w=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(w)+com_sas_ci_acs.ob_util.account).toString(),q.add("ffobscure.1",
p));q.add(p,w);q.add(r+".type",e);q.add(r+".alt",c.alt);q.add(r+".id",c.id);q.add(r+".name",c.name);com_sas_ci_acs.ob_util.isUndefined(t)||(com_sas_ci_acs.ob_util.exists(t.changes[f])||(t.changes[f]=0),"change"==a&&t.changes[f]++,q.add(p+"._o.changes",t.changes[f]),com_sas_ci_acs.ob_util.log(b+"["+d+":"+e+":"+f+"]: changes="+t.changes[f]))}com_sas_ci_acs.ob_util.isUndefined(t)||(q.add("form._o.attempts",t.attempts),com_sas_ci_acs.ob_util.log(b+": attempts="+t.attempts));setTimeout(function(){q.send()},
0);return!0}},K=function(a){a||(a=window.event);if("click"==com_sas_ci_acs.ob_util.toLowerCase(a.type)||"mouseover"==com_sas_ci_acs.ob_util.toLowerCase(a.type)){var b=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement,d=com_sas_ci_acs.ob_util.formTag(b,"button");if(null!=d){var e="";e="img"==com_sas_ci_acs.ob_util.toLowerCase(b.tagName)?""!=b.alt?b.alt:b.src:""!=d.title?d.title:com_sas_ci_acs.ob_configure.w3c?d.text:d.innerText;var f=d.innerHTML,k=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_util.toLowerCase(a.type));
k.add("referrer",document.URL);k.add("elementTagName",d.tagName);k.add("anchor_id",d.id);k.add("anchor_name",d.name);k.add("anchor_href",f);k.add("location",com_sas_ci_acs.ob_util.getElementPath(b));k.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));k.add("targetSelectorPath2",com_sas_ci_acs.ob_util.getElementUniqueSelector(b));k.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));k.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");k.add("title",
e);k.add("port",location.port);k.add("protocol",location.protocol.substr(0,location.protocol.length-1));a=c(b.attributes);for(b=0;b<a.length;b++)k.add(a[b].name,a[b].value);com_sas_ci_acs.ob_util.isSafariBrowser()?k.send(!1):setTimeout(function(){k.send()},0);return!0}}},X=function(a){a||(a=window.event);if("click"==com_sas_ci_acs.ob_util.toLowerCase(a.type)||"mouseover"==com_sas_ci_acs.ob_util.toLowerCase(a.type)){var b=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement,d=com_sas_ci_acs.ob_util.formTag(b,
"a");if(null!=d){var e="";if("img"==com_sas_ci_acs.ob_util.toLowerCase(b.tagName))e=""!=b.alt?b.alt:b.src;else if(""!=d.title)e=d.title;else if(e=d.getElementsByTagName("script"),0<e.length){var f=d.cloneNode(!0);for(e=f.getElementsByTagName("script");0<e.length;)e[0].parentNode.removeChild(e[0]),e=f.getElementsByTagName("script");e=com_sas_ci_acs.ob_configure.w3c?f.text:f.innerText}else e=com_sas_ci_acs.ob_configure.w3c?d.text:d.innerText;var k=d.href;f=k.toString();var g=f.lastIndexOf("/"),n=f.lastIndexOf("\\");
f=f.substr((g>n?g:n)+1);g=k.indexOf(":");if(0>g||16<g){var h=new String(document.URL);g=h.lastIndexOf("/");n=h.lastIndexOf("\\");g=g>n?g:n;0<=g&&(h=h.substr(0,g+1),k=h+k)}var l=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_util.toLowerCase(a.type));l.add("eventSource","ace");l.add("referrer",document.URL);l.add("elementTagName",d.tagName);l.add("anchor_id",d.id);l.add("anchor_name",d.name);l.add("anchor_href",f);l.add("location",com_sas_ci_acs.ob_util.getElementPath(b));l.add("targetSelectorPath",
com_sas_ci_acs.ob_util.getElementFullSelector(b));l.add("targetSelectorPath2",com_sas_ci_acs.ob_util.getElementUniqueSelector(b));l.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));l.add("targetAlt",b.hasAttribute("alt")?b.getAttribute("alt"):"");l.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");l.add("uri",k);l.add("title",e);l.add("port",location.port);l.add("protocol",location.protocol.substr(0,location.protocol.length-1));a=c(b.attributes);for(d=0;d<a.length;d++)l.add(a[d].name,
a[d].value);a=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid;if(!com_sas_ci_acs.ob_util.isUndefined(a))for(d=0;d<a.length;d++)da(a[d],b);com_sas_ci_acs.ob_util.isSafariBrowser()?l.send(!1):setTimeout(function(){l.send()},0);return!0}}},da=function(a,b){if(!f(a)){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK);d.add("eventSource","webmarketing");var c=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname;com_sas_ci_acs.ob_util.isUndefined(c)||
(c=c[a])&&d.add("eventname",c);c=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_system_type;com_sas_ci_acs.ob_util.isUndefined(c)||(c=c[a])&&d.add("system_type",c);c=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&(c=c[a])){var e=c[0].targetSelector;if(e&&""!=e){var k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(oa){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+e+"' : "+oa)}var g=
null;for(e=0;e<k.length;e++)if(k[e]==b){g=k[e];break}if(g==b){d.add("event_id",a);com_sas_ci_acs.ob_util.customAttributeSetup(c,d,g,null,e);for(var h,n=0;n<c.length;n++)b=c[n].name,com_sas_ci_acs.ob_util.notBlank(b)&&(k=c[n].login_event_type,com_sas_ci_acs.ob_util.notBlank(k)&&(d.add("login_event_type",k),k=d.get(b),com_sas_ci_acs.ob_util.notBlank(k)&&((h=c[n].obscured)&&"true"==h?(k=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(k)+com_sas_ci_acs.ob_util.account).toString(),d.add(b,k),d.add("ffobscure.1",
b),d.add("login_event",k),d.add("ffobscure.2","login_event")):d.add("login_event",k))));c=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&(a=c[a]))for(com_sas_ci_acs.ob_util.customAttributeSetup(a,d,g,null,e),c=0;c<a.length;c++)if(b=a[c].name,(k=a[c].login_event_type)||(k=a[c].type),k&&d.add("login_event_type",k),k=d.get(b))(h=a[c].obscured)&&"true"==h?(k=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(k)+com_sas_ci_acs.ob_util.account).toString(),
d.add(b,k),d.add("ffobscure.1",b),d.add("login_event",k),d.add("ffobscure.2","login_event")):d.add("login_event",k),d.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),d.add("event","IdentityEvent");com_sas_ci_acs.ob_util.isSafariBrowser()?d.send(!1):setTimeout(function(){d.send()},0)}}else if(b){e=!0;for(g in c[0])g&&"targetId"==g?c[0][g]!=b.id&&(e=!1):g&&"targetName"==g?c[0][g]!=b.name&&(e=!1):g&&"targetHref"==g?c[0][g]!=b.parentElement.href&&(e=!1):g&&"targetAlt"==g?c[0][g]!=
b.alt&&(e=!1):g&&"targetTagName"==g?c[0][g]!=b.tagName&&(e=!1):g&&"targetInnerText"==g?c[0][g]!=b.innerText&&(e=!1):g&&"targetOnClick"==g?c[0][g]!=b.onclick&&(e=!1):g&&c[0][g]!=b[g]&&(e=!1);e&&(d.add("event_id",a),com_sas_ci_acs.ob_util.customAttributeSetup(c,d,b),com_sas_ci_acs.ob_util.isSafariBrowser()?d.send(!1):setTimeout(function(){d.send()},0))}}}},P=function(a){a||(a=window.event);a=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement;for(var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,
c=0;c<b.length;c++)ea(b[c],a)},ea=function(a,b){if(!f(a)){var d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[a];if(d){var e=d[0].targetSelector,k=d[0].targetId,g=d[0].targetName,h=d[0].targetHref,n=d[0].targetAlt,l=d[0].targetTagName,t=d[0].targetInnerText;if(e&&""!=e){g=[];try{g=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(V){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+e+"' : "+V)}e=null;for(k=0;k<g.length;k++)if(g[k]==b){e=g[k];
break}if(e==b){var m=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK);m.add("eventSource","webmarketing");m.add("referrer",document.URL);m.add("location",com_sas_ci_acs.ob_util.getElementPath(b));m.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));m.add("targetSelectorPath2",com_sas_ci_acs.ob_util.getElementUniqueSelector(b));m.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));m.add("port",location.port);m.add("protocol",location.protocol.substr(0,
location.protocol.length-1));m.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");(g=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname[a])&&m.add("eventname",g);m.add("event_id",a);g=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_system_type;com_sas_ci_acs.ob_util.isUndefined(g)||(g=g[a])&&m.add("system_type",g);g=c(b.attributes);for(b=0;b<g.length;b++)m.add(g[b].name,g[b].value);com_sas_ci_acs.ob_util.customAttributeSetup(d,m,e,null,k);for(l=0;l<d.length;l++)b=
d[l].name,com_sas_ci_acs.ob_util.notBlank(b)&&(g=d[l].login_event_type,com_sas_ci_acs.ob_util.notBlank(g)&&(m.add("login_event_type",g),n=m.get(b),com_sas_ci_acs.ob_util.notBlank(n)&&((h=d[l].obscured)&&"true"==h?(h=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(n)+com_sas_ci_acs.ob_util.account).toString(),m.add(b,h),m.add("ffobscure.1",b),m.add("login_event",h),m.add("ffobscure.2","login_event")):m.add("login_event",n))));d=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;
if(!com_sas_ci_acs.ob_util.isUndefined(d)&&(a=d[a]))for(com_sas_ci_acs.ob_util.customAttributeSetup(a,m,e,null,k),d=0;d<a.length;d++){b=a[d].name;(g=a[d].login_event_type)||(g=a[d].type);if(n=m.get(b))(h=a[d].obscured)&&"true"==h?(h=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(n)+com_sas_ci_acs.ob_util.account).toString(),m.add(b,h),m.add("ffobscure.1",b),m.add("login_event",h),m.add("ffobscure.2","login_event")):m.add("login_event",n),m.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),
m.add("event","IdentityEvent");g&&m.add("login_event_type",g)}com_sas_ci_acs.ob_util.isSafariBrowser()?m.send(!1):setTimeout(function(){m.send()},0)}}else if(b&&(e=!1,k&&""!=k&&k==b.id&&(e=!0),g&&""!=g&&g==b.name&&(e=!0),h&&""!=h&&h==b.parentElement.href&&(e=!0),n&&""!=n&&n==b.alt&&(e=!0),l&&""!=l&&l==b.tagName&&(e=!0),t&&""!=t&&t==b.innerText&&(e=!0),e)){m=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SUBMIT);m.add("eventSource","webmarketing");m.add("referrer",document.URL);
m.add("location",com_sas_ci_acs.ob_util.getElementPath(b));m.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));m.add("targetSelectorPath2",com_sas_ci_acs.ob_util.getElementUniqueSelector(b));m.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));m.add("port",location.port);m.add("protocol",location.protocol.substr(0,location.protocol.length-1));m.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");(g=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname[a])&&
m.add("eventname",g);m.add("event_id",a);g=c(b.attributes);for(a=0;a<g.length;a++)m.add(g[a].name,g[a].value);com_sas_ci_acs.ob_util.customAttributeSetup(d,m,b);com_sas_ci_acs.ob_util.isSafariBrowser()?m.send(!1):setTimeout(function(){m.send()},0)}}}},qa=function(a,b){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.VISIBILITY_CHANGE);d.add("uri",document.URL);d.add("hidden",b);setTimeout(function(){d.send()},0)},fa=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<
com_sas_ci_acs.ob_util.getMaxContentChange()){if(2===a.length){var c=!1,e=a[0],f=a[1],k=null,g=null;1===e.removedNodes.length&&0===e.addedNodes.length&&1===f.addedNodes.length&&0===f.removedNodes.length?(k=f.addedNodes,g=e.removedNodes,c=!0):1===e.addedNodes.length&&0===e.removedNodes.length&&1===f.removedNodes.legnth&&0===f.addedNodes.length&&(k=e.addedNodes,g=f.removedNodes,c=!0);c&&(a=[{addedNodes:k,removedNodes:g,type:"childList",target:e.target}])}a.forEach(function(a){if(com_sas_ci_acs.ob_util.contentchangeCount<
com_sas_ci_acs.ob_util.getMaxContentChange()){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);c.add("uri",document.URL);-1!=b.indexOf("contentChange")?c.add("eventuid",b):(c.add("event_id",b),c.add("eventSource","webmarketing"));c.add("targetselector",d);var e=a.target;e.localName&&c.add("targetname",e.localName);e.id&&c.add("targetid",e.id);if("childList"===a.type)if(0<a.addedNodes.length){e=null;if(1==a.addedNodes.length){var f=a.addedNodes[0];f.nodeType===
Node.TEXT_NODE&&(e=f.nodeValue)}f="";1===a.removedNodes.length&&(a=a.removedNodes[0],"undefined"!==typeof a&&a.nodeType===Node.TEXT_NODE&&(f=a.nodeValue));e?(c.add("targettype","attribute"),c.add("attributename","innerText"),c.add("oldvalue",f),c.add("newvalue",e)):c.add("targettype","childadd")}else 0<a.removedNodes.length&&c.add("targettype","childremove");else if("attributes"===a.type)c.add("targettype","attribute"),c.add("attributename",a.attributeName),c.add("oldvalue",a.oldValue),c.add("newvalue",
e.getAttribute(a.attributeName));else if("characterData"===a.type){if(3!=e.nodeType)return;c.add("targettype","attribute");c.add("attributename","innerText");c.add("oldvalue",a.oldValue);c.add("newvalue",e.nodeValue)}if("webmarketing"==c.get("eventSource")){f=e=a=null;var k=com_sas_ci_acs.ob_configure.isCollectionEnabled().content_attributes;!com_sas_ci_acs.ob_util.isUndefined(k)&&(k=k[b])&&(a=k[0].changeRule,e=k[0].from,f=k[0].to);if(e&&a&&("attrValueToValue"==a||"attrValueToAny"==a)&&(!c.get("oldvalue")||
e!=c.get("oldvalue"))||f&&a&&("attrValueToValue"==a||"attrAnyToValue"==a)&&(!c.get("newvalue")||f!=c.get("newvalue")))return}setTimeout(function(){c.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}})}},R=function(a,b,c){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()&&(a||(a=window.event),a=a.target?a.target:a.srcElement)){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);d.add("uri",document.URL);d.add("eventid",
b);d.add("targetselector",c);a.localName?d.add("targetname",a.localName):a.nodeName&&d.add("targetname",a.nodeName);a.id&&d.add("targetid",a.id);3==a.nodeType?(d.add("targettype","attribute"),d.add("attributename","innerText"),d.add("oldvalue",""),d.add("newvalue",a.nodeValue)):d.add("targettype","childadd");setTimeout(function(){d.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}},N=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){a||
(a=window.event);var c=a.target?a.target:a.srcElement;if(c){var e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);e.add("uri",document.URL);e.add("eventid",b);e.add("targetselector",d);e.add("targettype","attribute");c.localName?e.add("targetname",c.localName):c.nodeName&&e.add("targetname",c.nodeName);c.id&&e.add("targetid",c.id);if("attrChange"in a)switch(a.attrChange){case MutationEvent.ADDITION:case MutationEvent.MODIFICATION:a.attrName&&e.add("attributename",
a.attrName),a.prevValue&&e.add("oldvalue",a.prevValue),a.newValue&&e.add("newvalue",a.newValue),setTimeout(function(){e.send()},0)}com_sas_ci_acs.ob_util.contentchangeCount++}}},ka=function(a,b,c){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()&&(a||(a=window.event),a=a.target?a.target:a.srcElement)){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);d.add("uri",document.URL);d.add("eventid",b);d.add("targetselector",c);
a.localName?d.add("targetname",a.localName):a.nodeName&&d.add("targetname",a.nodeName);a.id&&d.add("targetid",a.id);d.add("targettype","childremove");setTimeout(function(){d.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}},ha=function(a,b,d){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){a||(a=window.event);var c=a.target?a.target:a.srcElement;if(c){var e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);e.add("uri",
document.URL);e.add("eventid",b);e.add("targetselector",d);e.add("targettype","attribute");c.localName?e.add("targetname",c.localName):c.nodeName&&e.add("targetname",c.nodeName);c.id&&e.add("targetid",c.id);3==c.nodeType&&(e.add("targettype","attribute"),e.add("attributename","innerText"),e.add("oldvalue",a.prevValue),e.add("newvalue",c.nodeValue),setTimeout(function(){e.send()},0));com_sas_ci_acs.ob_util.contentchangeCount++}}},la=function(a,b,c,d,e,f){if(c===b&&("update"===d||"add"===d)&&com_sas_ci_acs.ob_util.jsvarchangeCount<
com_sas_ci_acs.ob_util.getMaxJsVarChange()){var k=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.JS_VAR_CHANGE);k.add("name",a);k.add("action",d);-1!=a.indexOf("-")&&(k.add("event_id",a),k.add("eventSource","webmarketing"));com_sas_ci_acs.ob_util.isUndefined(e)||k.add("oldvalue",e);com_sas_ci_acs.ob_util.isUndefined(f)||k.add("newvalue",f);if("webmarketing"==k.get("eventSource")&&(c=b=null,d=com_sas_ci_acs.ob_configure.isCollectionEnabled().changevar_attributes,!com_sas_ci_acs.ob_util.isUndefined(d)&&
(a=d[a])&&(b=a[0].value,c=a[0].op),!(b&&k.get("newvalue")&&c&&com_sas_ci_acs.ob_util.strOp(c,k.get("newvalue"),b))))return;setTimeout(function(){k.send()},0);com_sas_ci_acs.ob_util.jsvarchangeCount++}};window.onerror=function(a,b,c,d,e){if(com_sas_ci_acs.ob_util.jspageerrorCount<com_sas_ci_acs.ob_util.maxJspageErrors)try{var f=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.JS_PAGE_ERROR);f.add("message",a);f.add("url",b);f.add("line",c);f.add("column",d);f.add("error_stack","undefined"==
typeof e||null==e?a:e.stack);setTimeout(function(){f.send()},0);com_sas_ci_acs.ob_util.jspageerrorCount++}catch(U){com_sas_ci_acs.ob_util.log("exception occurred when sending javascript page error event : "+U)}};var Y=["radio","button","checkbox"];return{initialize:function(){"interactive"===document.readyState||"complete"===document.readyState?b():window.addEventListener("DOMContentLoaded",b)},findElement:function(a){var b=!1;try{0<com_sas_ci_acs.ob_util.getElementsBySelector(a).length&&(b=!0)}catch(x){com_sas_ci_acs.ob_util.log("exception occurred in findElement for '"+
a+"' : "+x)}return b},findElementMatch:function(a,b){var c=[];try{var d=b[0],e=d.target,f=d.op,k=d.values;d="["+e+"]";"tagName"==e&&(d="*");var g=a?com_sas_ci_acs.ob_util.getElementsBySelector(d,a):com_sas_ci_acs.ob_util.getElementsBySelector(d);for(a=0;a<g.length;a++){var h="tagName"==e?g[a].tagName.toLowerCase():g[a].getAttribute(e);d=!1;for(var l=0;l<k.length;l++){if(com_sas_ci_acs.ob_util.strOp(f,h,k[l])){d=!0;for(var m=1;m<b.length;m++){var n=b[m],t=n.target,q=n.op,u=n.values;h="tagName"==t?
g[a].tagName.toLowerCase():g[a].getAttribute(t);for(var r=!1,p=0;p<u.length;p++)if(com_sas_ci_acs.ob_util.strOp(q,h,u[p])){r=!0;break}if(!r){d=!1;break}}}if(d){c.push(g[a]);break}}}}catch(xa){com_sas_ci_acs.ob_util.log("exception occurred in findElementMatch: "+xa)}return c},collectTerm:function(a,b,d,c){var e="",f="";try{f=com_sas_ci_acs.ob_util.getElementsBySelector(a);if(com_sas_ci_acs.ob_util.isUndefined(f))return;var k=f[0];null!=k&&(e=this.getContent(k,b,d,c))}catch(T){com_sas_ci_acs.ob_util.log("exception occurred in collectTerm for '"+
a+"["+b+"]': "+T)}return null==e?e:e.trim()},filterValue:function(a,b,d){var c=a;"before"==b?(b=c.indexOf(d),c=0<=b?c.substring(0,b):a):"before_last"==b?(b=c.lastIndexOf(d),c=0<=b?c.substring(0,b):a):"after"==b?(b=c.indexOf(d),c=0<=b?c.substring(b+d.length,c.length):a):"after_last"==b?(b=c.lastIndexOf(d),c=0<=b?c.substring(b+d.length,c.length):a):"between"==b?(a=d.split("__&&__"),d=c.indexOf(a[0]),b=c.indexOf(a[1],d+a[0].length),c=0<=d&&0<=b?c.substring(d+a[0].length,b):0<=d?c.substring(d+a[0].length):
0<=b?c.substring(0,b):c):"regex"==b&&(a=(new RegExp(d)).exec(a))&&0<a.length&&(c=a[a.length-1]);return c},openWindow:function(a,b,c,d,e,f,k){var g="";0!=c&&(g+="height="+c+",");0!=d&&(g+="width="+d+",");1==e&&(g+="menubar=no,status=no,toolbar=no,");1==f&&(g+="scrollbars=no,resizable=no,");1==k&&(g+="titlebar=no");return window.open(a,b,g)},instrumentDivClick:function(a){document.getElementById(a)},getContent:function(a,b,c,d){if("innerHTML"==b)var e=a.innerHTML;else if("innerText"==b)e=a.textContent?
a.textContent:a.innerText;else if("outerHTML"==b)e=a.outerHTML;else if("value"==b)e=a.value;else{a=a.attributes.getNamedItem(b);if(!a)return e;e=a.value}e&&0<e.length&&(e=e.trim());c&&0<c.length&&d&&0<d.length&&(e=this.filterValue(e,c,d));return e=e.trim()}}}();
com_sas_ci_acs._ob_jsvar=function(){var a=Object.observe?!0:!1,b=function(a,b,c){try{Object.defineProperty(a,b,{enumerable:!1,configurable:!0,writeable:!1,value:c})}catch(g){a[b]=c}},c=function(a,b){var c=a[b],d=function(){return c},e=function(d){var e=c;c=d;if(e!==d&&a.o_watchers&&a.o_watchers.list)for(var f=0;f<a.o_watchers.list.length;f++)a.o_watchers.list[f].call(a,b,"update",e,d)};try{Object.defineProperty?Object.defineProperty(a,b,{get:d,set:e,enumerable:!0,configurable:!0}):Object.prototype.__defineGetter__&&
Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(a,b,d),Object.prototype.__defineSetter__.call(a,b,e))}catch(l){}};return{watch:function(d,e){if(d instanceof Object||com_sas_ci_acs.ob_util.isArray(d))if(a){var f=function(a){a.forEach(function(a){e(a.name,a.type,a.oldValue,a.object[a.name])})};try{Object.observe(d,f)}catch(h){com_sas_ci_acs.ob_util.log(h)}}else{d.o_watchers||b(d,"o_watchers",{});d.o_watchers.list||(d.o_watchers.list=[]);for(f=0;f<d.o_watchers.list.length;f++)if(d.o_watchers.list[f]===
e)return;d.o_watchers.list.push(e);var g;if(com_sas_ci_acs.ob_util.isArray(d))for(g=0;g<d.length;g++)c(d,g);else if("object"==typeof d)for(g in d)d.hasOwnProperty(g)&&c(d,g)}},unwatch:function(b,c){if(a)Object.unobserve(b,c);else if(b.o_watchers&&b.o_watchers.list)for(var d=0;d<b.o_watchers.list.length;d++)if(b.o_watchers.list[d]===c){b.o_watchers.list.splice(d,1);break}}}}();
com_sas_ci_acs.ob_event=function(a,b){if(com_sas_ci_acs.ob_util.exists(a)){this.dataElements=[];this.event=a;this.data="";if(com_sas_ci_acs.ob_util.isUndefined(b)||null==b){b="";if(null!=com_sas_ci_acs.ob_util_async.custom_domain&&0<com_sas_ci_acs.ob_util_async.custom_domain.length){var c=document.createElement("a");c.href=com_sas_ci_acs.ob_configure.ccs;c=com_sas_ci_acs.ob_configure.ccs.indexOf(c.host)+c.host.length;var d="";c<com_sas_ci_acs.ob_configure.ccs.length&&(d=com_sas_ci_acs.ob_configure.ccs.substring(c));
b+=com_sas_ci_acs.ob_util_async.custom_domain+d}else null!=com_sas_ci_acs.ob_util.ccsProtocol&&(b+=com_sas_ci_acs.ob_util.ccsProtocol+":"),b+=com_sas_ci_acs.ob_configure.ccs;this.url=b}else this.url=b;this.add("visitor",com_sas_ci_acs.ob_configure.getVisitorId());this.add("session",com_sas_ci_acs.ob_configure.getSessionId());this.add("domain",com_sas_ci_acs.ob_configure.getDomain());this.add("load_id",com_sas_ci_acs.ob_configure.getLoadId());this.add("event_guid",com_sas_ci_acs.ob_configure.getLoadId()+
Math.floor(1E12*Math.random()+1));this.add("tab_id",com_sas_ci_acs.ob_util_async.getTabId());b=(new Date).getTime();c=0;com_sas_ci_acs.ob_util.lastActivity=com_sas_ci_acs.ob_configure.getLastActivity();com_sas_ci_acs.ob_util.maxInactivity=com_sas_ci_acs.ob_configure.getMaxInactivity();0<com_sas_ci_acs.ob_util.lastActivity&&(c=b-com_sas_ci_acs.ob_util.lastActivity);com_sas_ci_acs.ob_util.lastActivity=b;com_sas_ci_acs.ob_util.maxInactivity=Math.max(c,com_sas_ci_acs.ob_util.maxInactivity);com_sas_ci_acs.ob_configure.updateActivity(b,
com_sas_ci_acs.ob_util.maxInactivity);c="";this.add("hb",com_sas_ci_acs.ob_util.maxInactivity);this.add("version",com_sas_ci_acs.version);this.add("event",this.event);this.add("flags",c);this.add("event_channel","web");this.add("cts",b);this.add("cts_base",com_sas_ci_acs.ob_util.cts_base);this.add("cts_boot_base",com_sas_ci_acs.ob_util_async.cts_boot_base);this.add("timestamp",com_sas_ci_acs.ob_util.timestamp_base+b-com_sas_ci_acs.ob_util.cts_base);this.add("csn",com_sas_ci_acs.ob_util.nsn());b=com_sas_ci_acs.ob_boot.getDatahubId();
com_sas_ci_acs.ob_util.exists(b)&&this.add("datahub_id",b);com_sas_ci_acs.newvid&&(com_sas_ci_acs.newvid=!1,c+="|nv",this.add("flags",c));com_sas_ci_acs.webmarketing&&this.add("flags",c+"|wm");if(a!==com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM||null===com_sas_ci_acs.ob_util.cachedTermConfiguration)com_sas_ci_acs.ob_util.cachedTermConfiguration=this.getTermConfigs();c=com_sas_ci_acs.ob_util.cachedTermConfiguration.global;a=com_sas_ci_acs.ob_util.cachedTermConfiguration[this.event];b=com_sas_ci_acs.ob_util.cachedTermConfiguration.find;
for(var e in c)this.add(e,c[e]);for(var f in a)"function"==typeof a[f]?(e=a[f](),null!=e&&0<e.length&&this.add(f,e)):com_sas_ci_acs.ob_util.isUndefined(a[f])||null==a[f]||(e=a[f].toString(),0<e.length&&this.add(f,e));for(var g in b)b[g]&&this.add(g,b[g]);if("click"==this.event||"submit"==this.event||"contentchange"==this.event||"cart"==this.event||"jsvarchange"==this.event||"cartaction"==this.event)for(f in g=com_sas_ci_acs.ob_util.cachedTermConfiguration.load,g)"function"==typeof g[f]?(e=g[f](),
null!=e&&0<e.length&&this.add(f,e)):com_sas_ci_acs.ob_util.isUndefined(g[f])||null==g[f]||(e=g[f].toString(),0<e.length&&this.add(f,e));com_sas_ci_acs.ob_configure.sendMeta[this.event]&&this.addMeta();com_sas_ci_acs.ob_configure.sendCookies[this.event]&&this.addCookies();com_sas_ci_acs.ob_configure.sendJsvars[this.event]&&this.addJsvars();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?0:com_sas_ci_acs.ob_configure.trackCancelledEvents){f="";for(var h in com_sas_ci_acs.ob_util.cancelledEvents)com_sas_ci_acs.ob_util.cancelledEvents.hasOwnProperty(h)&&
(0<f.length&&(f+=","),f+=h+":"+com_sas_ci_acs.ob_util.cancelledEvents[h]);this.add("pageCancelledEvents",f);this.add("sessionCancelledEvents",com_sas_ci_acs.ob_configure.getCancelledEvents())}if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){h="";for(var l in com_sas_ci_acs.ob_util.eventResponses)com_sas_ci_acs.ob_util.eventResponses.hasOwnProperty(l)&&(0<h.length&&(h+=","),h+=l+":"+com_sas_ci_acs.ob_util.eventResponses[l]);
this.add("pageEventResponses",h);this.add("sessionEventResponses",com_sas_ci_acs.ob_configure.getEventResponses())}}};
com_sas_ci_acs.ob_event.EventNameEnum={CART:"cart",CART_ACTION:"cartaction",CART_ITEM:"cartitem",CHANGE:"change",CLICK:"click",CONTENT_CHANGE:"contentchange",CUSTOM:"custom",DOM_CONTENT_LOADED:"DOMContentLoaded",IDENTITY_EVENT:"IdentityEvent",IDENTITY_CONFIRMATION_EVENT:"IdentityConfirmationEvent",IMPRESSION:"impression",IMPRESSION_VIEWABLE:"impression_viewable",JS_PAGE_ERROR:"jspageerror",JS_VAR_CHANGE:"jsvarchange",LOAD:"load",MEDIA:"media",SPOT_ATTRIBUTES:"spot_attributes",SPOT_CHANGE:"spot_change",
SPOT_CLICKED:"spot_clicked",SPOT_VIEWABLE:"spot_viewable",SUBMIT:"submit",UNLOAD:"unload",VISIBILITY_CHANGE:"visibilitychange",LOGOUT:"logout"};com_sas_ci_acs.ob_event.prototype.send=function(){this.validate()&&(com_sas_ci_acs.ob_util.totalEventsNotMaxed(!0)?(com_sas_ci_acs.ob_event_cache.getLocalEventQueue().push(this),com_sas_ci_acs.ob_event_cache.eventInProcess||com_sas_ci_acs.ob_event_cache.processQueuedEvents()):com_sas_ci_acs.ob_util.log("Maximum event limit is reached. No more events will be sent on this page."))};
com_sas_ci_acs.ob_event.prototype.dispatch=function(a){this.add("sndcts",(new Date).getTime());this.createEventData(a);this.data&&0<this.data.length&&com_sas_ci_acs._o_ajax.sendEvent(this.url,this.data,a)};
com_sas_ci_acs.ob_event.prototype.createEventData=function(){if(this.validate()&&!com_sas_ci_acs.webmarketing){this.data="";for(var a in this.dataElements)typeof this.dataElements[a]!=com_sas_ci_acs.ob_util.f&&(0<this.data.length&&(this.data+="&"),this.data+=encodeURIComponent(a)+"="+encodeURIComponent(this.dataElements[a]));this.data=this.excludeDataElements(this.data)}};
com_sas_ci_acs.ob_event.prototype.validate=function(){if(!com_sas_ci_acs.ob_configure.validateEvents)return!0;var a=!0,b=this.get("visitor"),c=this.get("session"),d=this.get("domain"),e=this.get("event");!a||b&&null!=b&&0!=b.length||(a=!1);!a||c&&null!=c&&0!=c.length||(a=!1);!a||d&&null!=c&&0!=d.length||(a=!1);!a||e&&null!=c&&0!=e.length||(a=!1);return a};com_sas_ci_acs.ob_event.prototype.termConfiguration=function(){return{}};com_sas_ci_acs.ob_event.prototype.getTermConfigs=function(){return this.termConfiguration()};
com_sas_ci_acs.ob_event.prototype.getTermConfig=function(a){return this.termConfiguration()[a]};com_sas_ci_acs.ob_event.prototype.findElements=function(a){var b={},c;for(c in a)b[c]="",0<com_sas_ci_acs.ob_util.getElementsBySelector(a[c]).length&&(b[c]="found");return b};com_sas_ci_acs.ob_event.prototype.add=function(a,b){com_sas_ci_acs.ob_util.isUndefined(a)||(com_sas_ci_acs.ob_util.isUndefined(b)&&(b=""),this.dataElements[a]=b)};
com_sas_ci_acs.ob_event.prototype.get=function(a){if(com_sas_ci_acs.ob_util.isUndefined(a)||!a)return null;a=this.dataElements[a];return com_sas_ci_acs.ob_util.isUndefined(a)||!a?null:a};
com_sas_ci_acs.ob_event.prototype.addMeta=function(){for(var a=document.getElementsByTagName("HEAD")[0].getElementsByTagName("META"),b=0;b<a.length;b++){var c=a[b],d=""!=c.name?c.name:""!=c.httpEquiv?c.httpEquiv:""!=c.getAttribute("property")?c.getAttribute("property"):"";typeof c==com_sas_ci_acs.ob_util.f||com_sas_ci_acs.ob_util.isUndefined(d)||""==d||null==d||this.add("meta."+d,c.content)}};
com_sas_ci_acs.ob_event.prototype.addCookies=function(){var a=(new String(document.cookie)).split("; "),b=[];window.ci360Whitelist&&(b=[/^_SI_SID_1.*$/,/^_SI_VID_1.*$/]);var c=[];window.ci360Blacklist&&(c=[/PHP/]);for(var d=0;d<a.length;d++){var e=a[d],f=e.indexOf("="),g="",h="";0<=f&&(g=e.substr(0,f),h=unescape(e.substr(f+1)));f=0<c.length;e=!1;if(0<b.length){f=!1;for(var l=0;l<b.length&&!f;l++)b[l].test(g)&&(f=!0);f&&(e=!0)}else if(f){f=!1;for(l=0;l<c.length&&!f;l++)c[l].test(g)&&(f=!0);f||(e=!0)}else e=
!0;e&&this.add("cookie."+g,h,!0,4)}};com_sas_ci_acs.ob_event.prototype.addJsvars=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars){var a=(new com_sas_ci_acs._ob_jsvar_configuration).getConfig();if(a)for(var b in a){var c=a[b];try{this.add("jsvar."+b,com_sas_ci_acs.ob_util.getJsVariable(c))}catch(d){com_sas_ci_acs.ob_util.log(c+" variable will not be reported: "+d)}}}};
com_sas_ci_acs.ob_event.prototype.excludeDataElements=function(a){null==com_sas_ci_acs.ob_util.cachedTermConfiguration&&(com_sas_ci_acs.ob_util.cachedTermConfiguration=this.getTermConfigs());var b=com_sas_ci_acs.ob_util.cachedTermConfiguration.exclude,c;for(c in b)-1!=a.indexOf(b[c])&&(a=a.replace(new RegExp(b[c]+"=[^\\&]*\\&","g"),""));return a};
com_sas_ci_acs._o_ajax=function(){var a=function(a){if(1==a.aborted)com_sas_ci_acs.ob_util.log("o_ajax handleResponse: aborted, eventname = ["+a.oe+"]"),com_sas_ci_acs._o_ajax.cancelTimer(a);else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState))com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=undefined, eventname = ["+a.oe+"]");else if(4==a.readyState){com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=4, status = ["+a.status+"],  eventname = ["+a.oe+"]");com_sas_ci_acs._o_ajax.cancelTimer(a);
if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){var b=com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status];void 0===b&&(b=0);b++;com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status]=b;com_sas_ci_acs.ob_configure.updateEventResponses(a.oe,a.status)}g(a)}},b=function(a){if(1==a.aborted)com_sas_ci_acs.ob_util.log("o_ajax handleResponse: aborted, eventname = ["+a.oe+"]"),com_sas_ci_acs._o_ajax.cancelTimer(a);
else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState))com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=undefined, eventname = ["+a.oe+"]");else if(4==a.readyState){com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=4, status = ["+a.status+"],  eventname = ["+a.oe+"]");com_sas_ci_acs._o_ajax.cancelTimer(a);200<=a.status&&300>a.status?(com_sas_ci_acs.ob_event_cache.getLocalEventQueue().pop(!1),com_sas_ci_acs.ob_event_cache.timeoutResendCount=0,com_sas_ci_acs.ob_event_cache.processQueuedEvents(!1)):
com_sas_ci_acs.ob_event_cache.handleCanceledEvent();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){var b=com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status];void 0===b&&(b=0);b++;com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status]=b;com_sas_ci_acs.ob_configure.updateEventResponses(a.oe,a.status)}g(a)}},c=function(a,b,c){com_sas_ci_acs.ob_util.log("o_ajax timeout: oto = ["+a.oto+"], to = ["+c+"] ms, eventname = ["+
a.oe+"]");a.aborted&&(a.aborted=!0);a.abort();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?0:com_sas_ci_acs.ob_configure.trackCancelledEvents)b=com_sas_ci_acs.ob_util.cancelledEvents[a.oe],void 0===b&&(b=0),b++,com_sas_ci_acs.ob_util.cancelledEvents[a.oe]=b,com_sas_ci_acs.ob_configure.updateCancelledEvents(a.oe)},d=function(a,b,c,d,e){try{var f=new XDomainRequest;f.timeout=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.timeout)?500:com_sas_ci_acs.ob_configure.timeout;
f.onerror=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: ERROR")};f.onload=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: ONLOAD");d(f,e)};f.onprogress=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: PROGRESS")};f.ontimeout=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: TIMEOUT")};if(com_sas_ci_acs.ob_util.logging){var g="";if(null!=b){var h=b.indexOf("event=");-1!=h&&(g=b.substring(h+6),h=g.indexOf("&"),-1!=h&&(g=g.substring(0,h)))}f.oe=g;com_sas_ci_acs.ob_util.log("o_ajax.ie8_send data: eventname = ["+
g+"]")}var m=document.URL.toLowerCase();com_sas_ci_acs.ob_util.strStartsWith(m,"http:")&&(a=a.toLowerCase(),a=a.replace("https:","http:").replace(":443/","/"),com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("converted https to http, the new post url is: "+a));if("POST"==c)f.open(c,a),f.send(b);else{var l=null!=b?0<a.indexOf("?")?"&"+b:"?"+b:"";f.open(c,a+l);f.send()}}catch(z){com_sas_ci_acs.ob_util.log("o_ajax.ie8_send(): "+z)}},e=[],f=function(){if(1>e.length)return function(){try{return new (this.XMLHttpRequest||
ActiveXObject)("MSXML2.XMLHTTP.3.0")}catch(l){com_sas_ci_acs.ob_util.log(l)}}();com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("reuse xhr");return e.pop()},g=function(a){com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("release xhr");a.onreadystatechange=function(){};e.push(a)},h=function(b,e,g,h,v,k){com_sas_ci_acs.ob_util.isUndefined(h)&&(h=!0);if(com_sas_ci_acs.ob_util.isUndefined(v)||null==v)v=a;if(com_sas_ci_acs.ob_util.isIE89Browser())d(b,e,g,v,k);else try{var m=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.timeout)?
500:com_sas_ci_acs.ob_configure.timeout,l=f();l.onreadystatechange=function(){v(l,k)};typeof l.onloadend==com_sas_ci_acs.ob_util.f&&(l.onloadend=function(){com_sas_ci_acs.ob_util.log("o_ajax onloadend: eventname = ["+l.oe+"]")});1!=h&&(typeof l.onloadstart==com_sas_ci_acs.ob_util.f?l.onloadstart=function(){l.oto=setTimeout(function(){c(l,b,m)},m);com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+l.oto+"], to = ["+m+"] ms")}:(l.oto=setTimeout(function(){c(l,b,m)},m),com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+
l.oto+"], to = ["+m+"] ms")));var r=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?!1:com_sas_ci_acs.ob_configure.trackCancelledEvents,q=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?!1:com_sas_ci_acs.ob_configure.trackEventResponses;if(com_sas_ci_acs.ob_util.logging||r||q){var z="";if(null!=e){var E=e.indexOf("event=");-1!=E&&(z=e.substring(E+6),E=z.indexOf("&"),-1!=E&&(z=z.substring(0,E)))}l.oe=z}if("POST"==g)l.open(g,b,
h),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),(com_sas_ci_acs.ob_util.sendBodyAsHeaderAll()||com_sas_ci_acs.ob_util.sendBodyAsHeaderLoad()&&e&&-1<e.indexOf("event=load"))&&l.setRequestHeader("X-SI-EventBody",e),1==h&&typeof l.onloadstart==com_sas_ci_acs.ob_util.f&&(l.onloadstart=function(){l.oto=setTimeout(function(){com_sas_ci_acs.ob_util.log("o_ajax async timeout: oto = ["+l.oto+"], to = ["+m+"] ms, eventname = ["+l.oe+"]");l.aborted&&(l.aborted=!0);l.abort();
com_sas_ci_acs.ob_event_cache.handleCanceledEvent()},m);com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+l.oto+"], to = ["+m+"] ms")}),com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("o_ajax send data: eventname = ["+z+"], data = ["+e+"]");else{var A=null!=e?b.indexOf("?")?"&"+e:"?"+e:"";l.open(g,b+A,h);com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("o_ajax get data: uri = ["+b+"], args = ["+A+"]")}0!=h&&(l.withCredentials=!0);l.send(e)}catch(G){com_sas_ci_acs.ob_event_cache.handleCanceledEvent(),
com_sas_ci_acs.ob_util.log("o_ajax.send() error: "+G)}};return{sendEvent:function(a,c,d){h(a,c,"POST",d,b)},fetchContent:function(a,b,c,d,e){h(a,b,"GET",c,d,e)},deleteContent:function(a,b,c,d,e){h(a,b,"DELETE",c,d,e)},cancelTimer:function(a){a.oto?(com_sas_ci_acs.ob_util.log("o_ajax clearTimer: oto = ["+a.oto+"], eventname = ["+a.oe+"]"),clearTimeout(a.oto),a.oto=null):com_sas_ci_acs.ob_util.log("o_ajax clearTimer: no timer to clear, eventname = ["+a.oe+"]")}}}();com_sas_ci_acs.ob_injector=function(){};
com_sas_ci_acs.ob_injector.prototype.getSpotDefinitions=function(){return{}};com_sas_ci_acs.ob_injector.prototype.getDeferredSpots=function(){return com_sas_ci_acs.ob_util.deferredSpots};com_sas_ci_acs.ob_injector.prototype.getViewId=function(){com_sas_ci_acs.ob_util.viewId||(com_sas_ci_acs.ob_util.viewId=Math.floor(1E12*Math.random()+1));return com_sas_ci_acs.ob_util.viewId};
com_sas_ci_acs.ob_injector.prototype.deferrInjection=function(){var a=this.getDeferredSpots(),b=0;if(a)try{b=Object.keys(a).length}catch(d){b=0;for(var c in a)b++}0<b&&com_sas_ci_acs.ob_util.deferredSpotTryCount++<com_sas_ci_acs.ob_util.maxDeferredSpotTry&&setTimeout(function(){(new com_sas_ci_acs.ob_injector).injectDeferred(!0)},com_sas_ci_acs.ob_util.getDeferredSpotTimeout())};
com_sas_ci_acs.ob_injector.prototype.injectAll=function(){"undefined"!=typeof com_sas_ci_acs.ob_configure.csu&&com_sas_ci_acs.ob_configure.csu&&(this.injectSpots(this.getSpotDefinitions()),this.deferrInjection())};com_sas_ci_acs.ob_injector.prototype.injectDeferred=function(a){this.injectSpots(this.getDeferredSpots());!com_sas_ci_acs.ob_util.isUndefined(a)&&a&&this.deferrInjection()};
com_sas_ci_acs.ob_injector.prototype.injectSpots=function(a){if(!com_sas_ci_acs.webmarketing&&a)if(com_sas_ci_acs.ob_util.loadSpotsInBatch())(new com_sas_ci_acs.ob_inject_batch(a)).injectBatch(this.getViewId());else for(var b in a)(new com_sas_ci_acs.ob_inject(b,a[b])).inject(this.getViewId())};
com_sas_ci_acs.fireIfElementVisible=function(a,b){return function(){if(com_sas_ci_acs.ob_util.isElementInViewport(a)&&!a.spot_visible_fired){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);c.add("eventSource","webmarketing");for(var d in b)c.add(d,b[d]);d=b.spot_id;if(com_sas_ci_acs.ob_util.exists(d)&&com_sas_ci_acs.ob_util_async.virtualSpots[d]){var e=com_sas_ci_acs.ob_util_async.virtualSpots[d].parameters;e&&(e.customid&&c.add("custom_id",e.customid),e.idreference&&
c.add("idreference",e.idreference))}c.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE);e=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(e)&&0<e.length&&c.add("event_uid",e[0]);com_sas_ci_acs.ob_util.spotAttributeSetup(d,c);setTimeout(function(){c.send()},0);a.spot_visible_fired=!0}}};
com_sas_ci_acs.spotClicked=function(a,b){return function(){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CLICKED);a.add("eventSource","webmarketing");for(var d in b)a.add(d,b[d]);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clickThrough_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(d)&&0<d.length&&a.add("event_uid",d[0]);d=b.spot_id;if(com_sas_ci_acs.ob_util.exists(d)&&com_sas_ci_acs.ob_util_async.virtualSpots[d]){var e=com_sas_ci_acs.ob_util_async.virtualSpots[d].parameters;
e&&(e.customid&&a.add("custom_id",e.customid),e.idreference&&a.add("idreference",e.idreference))}d&&(a.add("spot_id",d),com_sas_ci_acs.ob_util.spotAttributeSetup(d,a));com_sas_ci_acs.ob_util.isSafariBrowser()?a.send(!1):setTimeout(function(){a.send()},0)}};
var Hashcode={encode:function(a){var b=0,c;if(0==a.length)return b;var d=0;for(c=a.length;d<c;d++){var e=a.charCodeAt(d);b=(b<<5)-b+e;b|=0}return Math.abs(b)}},GeneralBase64={_PADCHAR:"=",_ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_getbyte64:function(a,b){a=this._ALPHA.indexOf(a.charAt(b));if(-1===a)throw"Cannot decode base64";return a},decode:function(a){var b=0,c,d=a.length,e=[];a=String(a);if(window.atob)return atob(a);if(0===d)return a;if(0!==d%4)throw"Cannot decode base64";
a.charAt(d-1)===this._PADCHAR&&(b=1,a.charAt(d-2)===this._PADCHAR&&(b=2),d-=4);for(c=0;c<d;c+=4){var f=GeneralBase64._getbyte64(a,c)<<18|GeneralBase64._getbyte64(a,c+1)<<12|GeneralBase64._getbyte64(a,c+2)<<6|GeneralBase64._getbyte64(a,c+3);e.push(String.fromCharCode(f>>16,f>>8&255,f&255))}switch(b){case 1:f=GeneralBase64._getbyte64(a,c)<<18|GeneralBase64._getbyte64(a,c+1)<<12|GeneralBase64._getbyte64(a,c+2)<<6;e.push(String.fromCharCode(f>>16,f>>8&255));break;case 2:f=GeneralBase64._getbyte64(a,c)<<
18|GeneralBase64._getbyte64(a,c+1)<<12,e.push(String.fromCharCode(f>>16))}return e.join("")},_getbyte:function(a,b){a=a.charCodeAt(b);if(255<a)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return a},encode:function(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);if(window.btoa)return btoa(a);var b,c=[],d=a.length-a.length%3;if(0===a.length)return a;for(b=0;b<d;b+=3){var e=GeneralBase64._getbyte(a,b)<<16|GeneralBase64._getbyte(a,b+1)<<8|GeneralBase64._getbyte(a,
b+2);c.push(this._ALPHA.charAt(e>>18));c.push(this._ALPHA.charAt(e>>12&63));c.push(this._ALPHA.charAt(e>>6&63));c.push(this._ALPHA.charAt(e&63))}switch(a.length-d){case 1:e=GeneralBase64._getbyte(a,b)<<16;c.push(this._ALPHA.charAt(e>>18)+this._ALPHA.charAt(e>>12&63)+this._PADCHAR+this._PADCHAR);break;case 2:e=GeneralBase64._getbyte(a,b)<<16|GeneralBase64._getbyte(a,b+1)<<8,c.push(this._ALPHA.charAt(e>>18)+this._ALPHA.charAt(e>>12&63)+this._ALPHA.charAt(e>>6&63)+this._PADCHAR)}return c.join("")}},
Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.-=",encode:function(a){var b="",c=0;for(a=Base64._utf8_encode(a);c<a.length;){var d=a.charCodeAt(c++);var e=a.charCodeAt(c++);var f=a.charCodeAt(c++);var g=d>>2;d=(d&3)<<4|e>>4;var h=(e&15)<<2|f>>6;var l=f&63;isNaN(e)?h=l=64:isNaN(f)&&(l=64);b=b+this._keyStr.charAt(g)+this._keyStr.charAt(d)+this._keyStr.charAt(h)+this._keyStr.charAt(l)}return b},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=
a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}};function getDecisionParams(a){var b=null;if(null!=a&&null!=spotMap)for(var c in spotMap)spotMap.hasOwnProperty(c)&&c==a&&(b=spotMap[c]);return b}var spotMap={};com_sas_ci_acs.ob_inject_batch=function(a){this.spots=a;this.elements=[]};
com_sas_ci_acs.ob_inject_batch.prototype.populateSpotParams=function(a,b,c){var d=a.divId;if(d){var e="",f=null;try{f=com_sas_ci_acs.ob_util.getElementsBySelector(d)[0]}catch(r){com_sas_ci_acs.ob_util.log(r)}if(null!=f){var g=a.service;if(!com_sas_ci_acs.ob_util.isUndefined(g.p))for(var h in g.p)if("domain"!==h&&"customerid"!==h&&"sessionid"!==h){var l=g.p[h];com_sas_ci_acs.ob_util.isUndefined(l)||null==l||"null"==l||(e+="/"+h+"="+l)}g=a.spot_properties;if(com_sas_ci_acs.ob_util.isUndefined(g)||!g||
com_sas_ci_acs.ob_util.propertyMatch(g,com_sas_ci_acs.ob_util.getLoadEventInstance())){h=a.spot_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(h)&&h){g=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_ATTRIBUTES);g.dataElements={};com_sas_ci_acs.ob_util.customAttributeSetup(h,g,null,new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));for(var q in g.dataElements)h=Base64.encode(g.dataElements[q].trim()),l=g.dataElements[q].trim(),h=h.replace(/=/g,""),"product_id"==
q||"product_sku"==q?(q+="_key",e+="/"+q+"="+l):e+="/"+q+"="+h}a=a.spot_set_id;if(!com_sas_ci_acs.ob_util.isUndefined(a))for(;0<a.length;){c=Hashcode.encode(a[0]+c);break}e+="/viewid="+c;spotMap[d]=e;f.spotid=b;this.registerCustomerSpotDelivery(b,d);com_sas_ci_acs.ob_util.deferredSpots[b]&&delete com_sas_ci_acs.ob_util.deferredSpots[b];return[e,f]}}else return com_sas_ci_acs.ob_util.deferredSpots[b]=a,null}};
com_sas_ci_acs.ob_inject_batch.prototype.registerCustomerSpotDelivery=function(a,b){"undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_util_async.registerSpot(a,b,function(a,b){a=new CustomEvent("spotReady",{detail:'{"spotid":"'+a+'","taskid":"'+b.taskid+'","creativeid":"'+b.creativeid+'","customid":"'+b.customid+'","productid":"'+b.productid+'","productsku":"'+b.productsku+'","controlgroup":"'+b.controlgroup+
'","variantid":"'+b.variantid+'","selector":"'+b.selector+'","url":"'+b.spotURL+'","idreference":"'+b.idreference+'","content":"'+b.spotContent+'"}'});document.dispatchEvent(a)},null,[])};
com_sas_ci_acs.ob_inject_batch.prototype.injectBatch=function(a){var b=com_sas_ci_acs.ob_configure.csu.replace("hserver","bserverj");b+="/ball";com_sas_ci_acs.ob_configure.getDomain()&&(b+="/domain="+com_sas_ci_acs.ob_configure.getDomain());com_sas_ci_acs.ob_configure.getDatahubId()&&(b+="/customerid="+com_sas_ci_acs.ob_configure.getDatahubId());com_sas_ci_acs.ob_configure.getSessionId()&&(b+="/sessionid="+com_sas_ci_acs.ob_configure.getSessionId());b+="/hint=x";var c=0,d;for(d in this.spots)if(b.length<
com_sas_ci_acs.ob_util.maxUrlSize){var e=this.populateSpotParams(this.spots[d],d,a);e&&1<e.length&&(b+="/b"+ ++c+e[0],this.elements[d]=e[1])}else com_sas_ci_acs.ob_util.deferredSpots[d]=this.spots[d];c&&com_sas_ci_acs._o_ajax.fetchContent(b,null,!0,this.handleInjectResponseBatch,this.elements)};
com_sas_ci_acs.ob_inject_batch.prototype.handleInjectResponseBatch=function(a,b){if(1==a.aborted)com_sas_ci_acs._o_ajax.cancelTimer(a);else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState)&&(a.readyState=4,a.status=200),4==a.readyState&&200==a.status&&!com_sas_ci_acs.ob_util.isUndefined(a.response)&&a.response){try{var c=JSON.parse(a.response)}catch(e){c=eval(a.response)}a=0;for(var d in b)(new com_sas_ci_acs.ob_inject).handleInjectResponse(c[a++],b[d])}};
com_sas_ci_acs.ob_inject=function(a,b){this.spotId=a;this.spot=b};
com_sas_ci_acs.ob_inject.prototype.inject=function(a){var b=this.spot.divId;if(b){var c="",d=null;try{d=com_sas_ci_acs.ob_util.getElementsBySelector(b)[0]}catch(r){com_sas_ci_acs.ob_util.log(r)}if(null!=d){com_sas_ci_acs.ob_util.log("inject(spot="+this.spotId+") into HTML div "+b);var e=this.spot.service,f=com_sas_ci_acs.ob_configure.csu;if(!com_sas_ci_acs.ob_util.isUndefined(e.p)){var g=!0;for(q in e.p){var h=e.p[q];com_sas_ci_acs.ob_util.isUndefined(h)||null==h||"null"==h||(c+=(g?"?":"&")+q+"="+
h,g=!1)}}com_sas_ci_acs.ob_configure.getSessionId()&&(c+=(g?"?":"&")+"sessionid="+com_sas_ci_acs.ob_configure.getSessionId());e=this.spot.spot_properties;if(com_sas_ci_acs.ob_util.isUndefined(e)||!e||com_sas_ci_acs.ob_util.propertyMatch(e,com_sas_ci_acs.ob_util.getLoadEventInstance())){g=this.spot.spot_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(g)&&g){e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_ATTRIBUTES);e.dataElements={};com_sas_ci_acs.ob_util.customAttributeSetup(g,
e,null,new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));for(var l in e.dataElements){g=Base64.encode(e.dataElements[l].trim());var q=e.dataElements[l].trim();g=g.replace(/=/g,"");"product_id"==l||"product_sku"==l?(l+="_key",c+="/"+l+"="+q):c+="/"+l+"="+g}}l=this.spot.spot_set_id;if(!com_sas_ci_acs.ob_util.isUndefined(l))for(;0<l.length;){a=Hashcode.encode(l[0]+a);break}c+="/viewid="+a;spotMap[b]=c;f=f+c+"/hint=x";d.spotid=this.spotId;"undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&
com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_util_async.registerSpot(this.spotId,b,function(a,b){a=new CustomEvent("spotReady",{detail:'{"spotid":"'+a+'","taskid":"'+b.taskid+'","creativeid":"'+b.creativeid+'","customid":"'+b.customid+'","productid":"'+b.productid+'","productsku":"'+b.productsku+'","controlgroup":"'+b.controlgroup+'","variantid":"'+b.variantid+'","selector":"'+b.selector+'","url":"'+b.spotURL+'","idreference":"'+b.idreference+'","content":"'+b.spotContent+'"}'});
document.dispatchEvent(a)},null,[]);com_sas_ci_acs._o_ajax.fetchContent(f,null,!0,this.handleInjectResponse,d);com_sas_ci_acs.ob_util.deferredSpots[this.spotId]&&delete com_sas_ci_acs.ob_util.deferredSpots[this.spotId]}}else com_sas_ci_acs.ob_util.log("inject(spot="+this.spotId+"): HTML div["+b+"] not found"),com_sas_ci_acs.ob_util.deferredSpots[this.spotId]=this.spot}};
function loadDoc(a,b){try{var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.innerHTML=c.responseText)};c.open("GET",a,!0);c.send()}catch(d){com_sas_ci_acs.ob_util.log("Error while loading document: "+a+" error:"+d)}}function extractValue(a){return com_sas_ci_acs.ob_util.isUndefined(a)?null:"object"===typeof a?com_sas_ci_acs.ob_util.isUndefined(a.value)?null:a.value:a}
var dataTagToEventMap={taskid:"task_id",creativeid:"creative_id",productid:"product_id",productsku:"product_sku",control:"is_control_group","context-url":"context_url",recgroup:"rec_group"};
function handleInjectResponse(a,b){if("object"===typeof a){var c=a.responseText;var d=!0}else c=a,d=!1;var e="undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_configure.customerSpotDelivery;if(d&&1==a.aborted)com_sas_ci_acs._o_ajax.cancelTimer(a);else if(d&&com_sas_ci_acs.ob_util.isUndefined(a.readyState)&&(a.readyState=4,a.status=200),!d||4==a.readyState)if(d&&com_sas_ci_acs._o_ajax.cancelTimer(a),!(d&&200!=a.status||com_sas_ci_acs.ob_util.isUndefined(c))&&
c&&null!==b){var f={};try{var g=(new window.DOMParser).parseFromString(c,"text/html");var h=g.getElementsByTagName("data");if(com_sas_ci_acs.ob_util.exists(h))for(var l=0;l<h.length;l++){var q=h[l].attributes;if(0<q.length){var r=q[0].name.toLowerCase(),m=extractValue(q[0]);0===r.indexOf("data-")&&(r=r.slice(5,r.length));com_sas_ci_acs.ob_util.exists(dataTagToEventMap[r])?f[dataTagToEventMap[r]]=m:f[r]=m}}}catch(I){com_sas_ci_acs.ob_util.log("Error while sending generic event: "+I)}if(com_sas_ci_acs.ob_util.exists(f.creative_id)){h=
b;e||("DIV"==b.tagName?(b.innerHTML=c,b.style.visibility="visible"):(h=document.createElement("div"),h.innerHTML=c,null!=b.parentNode&&b.parentNode.replaceChild(h,b),b.style.visibility="visible"),0<g.getElementsByTagName("body").length&&(g=g.getElementsByTagName("body")[0].childNodes[0].nodeValue)&&0==g.indexOf("http")&&loadDoc(g,h),com_sas_ci_acs.ob_util.exists(f.context_url)&&loadDoc(f.context_url,h));com_sas_ci_acs.ob_util.exists(b)&&(f.spot_id=b.spotid);var v=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE);
v.add("eventSource","webmarketing");for(var k in f)v.add(k,f[k]);if(com_sas_ci_acs.ob_util.exists(e)&&com_sas_ci_acs.ob_util.exists(com_sas_ci_acs.ob_util_async.virtualSpots[f.spot_id])){if(com_sas_ci_acs.ob_util.exists(b.className)&&com_sas_ci_acs.ob_util.exists(com_sas_ci_acs.ob_configure.virtualSpotsClassId)){var t=com_sas_ci_acs.ob_configure.virtualSpotClassId.substr(1)+"-id-";if(-1!==b.className.indexOf(t))for(b=b.className.split(" "),e=0;e<b.length;e++)if(g=b[e],-1!=g.indexOf(t)){f.custom_id=
g.substr(t.length);break}}b=c.match(/<idreference[^>]*>((.|[\n\r])*)<\/idreference>/im);f.id_reference=b&&b[1]?b[1]:"";var u=JSON.parse(JSON.stringify(f));f=new RegExp(/-|_/);for(k in u)u.hasOwnProperty(k)&&f.test(k)&&(u[k.replace(f,"")]=u[k],delete u[k]);com_sas_ci_acs.ob_util.exists(u.control)&&(u.controlgroup=u.control,delete u.control);d&&(u.spotURL=a.responseURL);u.selector=com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].selector;u.spotContent=encodeURIComponent(c);com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].parameters=
u;a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;c=com_sas_ci_acs.ob_util.getElementsBySelector(com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].selector);for(d=0;d<c.length;d++)com_sas_ci_acs.ob_util.exists(a)&&(k=new a(function(){return function(a){com_sas_ci_acs.ob_util.virtualSpotObserver(a,com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].spot_id,com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].selector,com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].parameters)}}()),
com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].observers[d]=k,k.observe(c[d],{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}));com_sas_ci_acs.ob_util_async.virtualSpots[u.spotid].callback(u.spotid,u)}else if(v.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION),com_sas_ci_acs.ob_util.spotAttributeSetup(f.spot_id,v),setTimeout(function(){v.send()},0),com_sas_ci_acs.spotClickedHandler=com_sas_ci_acs.spotClicked(h,f),com_sas_ci_acs.ob_configure.w3c?
h.addEventListener("click",com_sas_ci_acs.spotClickedHandler,!1):h.attachEvent("onclick",com_sas_ci_acs.spotClickedHandler),com_sas_ci_acs.ob_util.isElementInViewport(h)){a=JSON.parse(JSON.stringify(f));var y=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);y.add("eventSource","webmarketing");com_sas_ci_acs.ob_util.exists(b)&&(a.spot_id=b.spotid);a.eventname=com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE;c=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;
com_sas_ci_acs.ob_util.exists(c)&&0<c.length&&(a.event_uid=c[0]);for(t in a)y.add(t,a[t]);com_sas_ci_acs.ob_util.spotAttributeSetup(a.spot_id,y);setTimeout(function(){y.send()},0)}else a=com_sas_ci_acs.fireIfElementVisible(h,f),window.addEventListener&&(addEventListener("DOMContentLoaded",a,!1),addEventListener("load",a,!1),addEventListener("scroll",a,!1),addEventListener("resize",a,!1))}else e||(b.style.visibility="visible")}}com_sas_ci_acs.ob_inject.prototype.handleInjectResponse=handleInjectResponse;
"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var windowFocused=function(){com_sas_ci_acs.ob_util.windowHasFocus=!0;com_sas_ci_acs.ob_event_cache.windowFocused()},windowBlured=function(){com_sas_ci_acs.ob_util.windowHasFocus=!1};window.addEventListener("focus",windowFocused);window.addEventListener("blur",windowBlured);
com_sas_ci_acs.ob_event_cache={localQueue:null,QUEUE_KEY_PREFIX:"_cievq_",LOADID_KEY_PREFIX:"_ciawlid_",LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage",maxTimeoutResendCount:4,timeoutResendCount:0,queueProcessingInitiated:!1,eventInProcess:!1,storageType:function(){return this.SESSION_STORAGE},getBrowserStorage:function(){return window[this.storageType()]},getLocalEventQueue:function(){null==this.localQueue&&(this.localQueue=new LocalQueue(this.QUEUE_KEY_PREFIX+com_sas_ci_acs.ob_util.account));
return this.localQueue},windowFocused:function(){this.isWindowActive()||(this.setCurrentWindowActive(),this.processQueuedEvents())},isWindowActive:function(){if(this.storageType()==this.SESSION_STORAGE)return!0;var a=this.LOADID_KEY_PREFIX+com_sas_ci_acs.ob_util.account;a=this.getBrowserStorage().getItem(a);return com_sas_ci_acs.ob_util.notBlank(a)?a==com_sas_ci_acs.ob_configure.getLoadId():!1},setCurrentWindowActive:function(){if(this.storageType()!=this.SESSION_STORAGE){var a=this.LOADID_KEY_PREFIX+
com_sas_ci_acs.ob_util.account;this.getBrowserStorage().setItem(a,com_sas_ci_acs.ob_configure.getLoadId())}},stringifyEvent:function(a){var b={dataElements:{},event:"",data:"",url:""},c={},d;for(d in a.dataElements)c[d]=a.dataElements[d];b.dataElements=c;b.event=a.event;b.data=a.data;b.url=a.url;return JSON.stringify(b)},parseEvent:function(a){a=JSON.parse(a);var b=new com_sas_ci_acs.ob_event,c;for(c in a)b[c]=a[c];return b},handleCanceledEventImediate:function(){this.timeoutResendCount<this.maxTimeoutResendCount?
this.timeoutResendCount++:(this.getLocalEventQueue().pop(!1),this.timeoutResendCount=0);this.processQueuedEvents(!1)},handleCanceledEvent:function(){setTimeout(function(){com_sas_ci_acs.ob_event_cache.handleCanceledEventImediate()},1E3*(this.timeoutResendCount+1))},handleDatahubIdResponse:function(a){1==a.aborted?com_sas_ci_acs._o_ajax.cancelTimer(a):4==a.readyState&&200==a.status&&!com_sas_ci_acs.ob_util.isUndefined(a.response)&&a.response&&(a=a.response)&&/^([0-9]|[a-z]|-){32,64}$/.test(a)&&typeof(com_sas_ci_acs.ob_boot&&
"function"==com_sas_ci_acs.ob_boot.setDatahubId)&&com_sas_ci_acs.ob_boot.setDatahubId(a)},updateDatahubId:function(){try{com_sas_ci_acs._o_ajax.fetchContent(com_sas_ci_acs.ob_util.getDataHubCallUrl(),null,!0,this.handleDatahubIdResponse,null)}catch(a){com_sas_ci_acs.ob_util.log("Error while updating DatahubId. "+a)}},processQueuedEvents:function(a){com_sas_ci_acs.ob_util.exists(a)&&(this.eventInProcess=a);var b=null;this.queueProcessingInitiated||(this.queueProcessingInitiated=!0,this.setCurrentWindowActive());
this.isWindowActive()&&(b=this.getLocalEventQueue().getFront())&&!this.eventInProcess&&(this.eventInProcess=!0,setTimeout(function(){b.dispatch()},0),com_sas_ci_acs.ob_util.isIdEvent(b)&&setTimeout(function(){com_sas_ci_acs.ob_event_cache.updateDatahubId()},com_sas_ci_acs.ob_util.datahubIdUpdateDelay))}};
var LocalQueue=function(a){function b(a){var b=com_sas_ci_acs.ob_event_cache.getBrowserStorage().getItem(a);return b&&null!=b?b:(com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,""),"")}if(!a)return null;var c={},d=com_sas_ci_acs.ob_util.isIEBrowser()?String.fromCharCode(127):String.fromCharCode(31),e=b(a)?b(a).split(d).length:0;c.size=function(){return e};c.push=function(c){try{var f=com_sas_ci_acs.ob_event_cache.stringifyEvent(c),h=b(a);h=""==h?h+f:h+(d+f);com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,
h);e++}catch(l){return!1}return!0};c.pop=function(c){try{var f=b(a),h=f.indexOf(d);if(-1<h){var l=f.substr(0,h);f=f.substr(h+1);com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,f);e--;return c?com_sas_ci_acs.ob_event_cache.parseEvent(l):null}return 0<f.length?(com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,""),e=0,c?com_sas_ci_acs.ob_event_cache.parseEvent(f):null):null}catch(q){return null}};c.getFront=function(){try{var c=b(a),e=c.indexOf(d);if(-1<e){var h=c.substr(0,e);
return com_sas_ci_acs.ob_event_cache.parseEvent(h)}return 0<c.length?com_sas_ci_acs.ob_event_cache.parseEvent(c):null}catch(l){return null}};return c};
com_sas_ci_acs.api_engine=function(){function a(a,b){var c={reject_undefined:!1,allow_override:!1,max_event_per_interval:100,types:["string"],regex:".*",required:!1};return com_sas_ci_acs.ob_util.exists(a)?a:c[b]}function b(a){return"undefined"!=typeof a&&null!=a}function c(c){if(b(c.event)&&b(r[c.event])){var d=[];for(m in r[c.event]){var e=r[c.event][m];if("object"===typeof e){b(e.group)&&(d[e.group]?e.group_min&&(d[e.group].min=Math.max(d[e.group].min,e.group_min)):(d[e.group]=[],d[e.group].found=
0,d[e.group].min=e.group_min?e.group_min:0));var f=c[m];f=b(f)&&"object"===typeof f?f.value:f;if(b(f)){for(var g=a(e.types,"types"),h=!1,l=0;l<g.length;l++)if(typeof f===g[l]){h=!0;break}if(!h)return"invalid type: "+typeof f;g=new RegExp(a(e.regex,"regex"));if(!g.test(f))return"regex failure, does not match: "+g;b(e.group)&&d[e.group].found++}else if(a(e.required,"required")&&!b(e.default_value))return'value required for property "'+m+'" but not provided'}}if(c.event===com_sas_ci_acs.ob_event.EventNameEnum.CHANGE){var m=
new RegExp(com_sas_ci_acs.ob_util.regularExpressions.formFieldChanges);for(var q in c)if(m.test(q)&&(f=c[q],e=b(f)&&"object"===typeof f?f.value:f,!(new RegExp(com_sas_ci_acs.ob_util.regularExpressions.integer)).test(e)))return"value must be an integer: "+e}if(c.event===com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION&&"remove"===c.action&&"cartview"!==c.cart_type&&"checkout"!==c.cart_type)return'cart_type required to be "cartview" or "checkout"';for(var A in d)if(d[A].min>d[A].found)return"group minimum not satisfied for group: "+
A}return com_sas_ci_acs.ob_util.SUCCESS}function d(a){try{var b=f(a);b.event&&null!=b.event&&setTimeout(function(){b.event.send()},0);return b.message}catch(k){return"Error while sending event. "+k}}function e(a,b){try{var c=f(a);if(c.event&&null!=c.event){var d=b?c3.ob_configure.isCollectionEnabled().clickThrough_system_eventid:c3.ob_configure.isCollectionEnabled().impression_system_eventid;!c3.ob_util.isUndefined(d)&&0<d.length&&c.event.add("event_uid",d[0]);setTimeout(function(){c.event.send()},
0)}return c.message}catch(u){return"Error while sending spot event. "+u}}function f(c){var d={};try{var e=c.event,f=r[e],g=new com_sas_ci_acs.ob_event(e);g.add("initiator","api");e=null;var h=1,l=!1,m;for(m in c)if(l=!1,c.hasOwnProperty(m)){if("object"===typeof c[m]){var q=c[m].value;b(q)&&c[m].obscured&&(q=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(q)+com_sas_ci_acs.ob_util.account).toString(),l=!0)}else q=c[m];e=f.hasOwnProperty(m)&&b(f[m].internal_name)?f[m].internal_name:m;!f.hasOwnProperty(m)&&
a(f.reject_undefined,"reject_undefined")||!a(f.allow_override,"allow_override")&&null!=g.get(e)||!b(q)||(g.add(e,q),l&&g.add("ffobscure."+h++,e))}for(var A in f){var G=f[A].default_value;e=b(f[A].internal_name)?f[A].internal_name:A;b(G)&&null==g.get(e)&&g.add(e,G)}d.event=g;d.message=com_sas_ci_acs.ob_util.SUCCESS;return d}catch(B){return d.message="Error while poulating event. "+B,d}}function g(a){if(a.event===com_sas_ci_acs.ob_event.EventNameEnum.CART){var b=a.items;for(var d=new com_sas_ci_acs.ob_cart.contents,
e=0;e<b.length;e++)d.addContent(b[e]);if("undefined"!==typeof d&&null!==d){b=d.getItems();for(e=0;e<b.length;e++){var f=JSON.parse(JSON.stringify(b[e]));f.event=com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM;f=c(f);if(f!==com_sas_ci_acs.ob_util.SUCCESS)return a="cartItem invalid: "+f,com_sas_ci_acs.ob_util.log(a),a}b=com_sas_ci_acs.ob_cart.cartDetailsGeneric(a);e=new com_sas_ci_acs.ob_cart.details;e.addDetails(b);com_sas_ci_acs.ob_cart.sendCartEvent(a.cart_id,a.cart_name,a.cart_type,e,d,"generic_api");
return com_sas_ci_acs.ob_util.SUCCESS}}else{if(a.event===com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM)return com_sas_ci_acs.ob_util.SUCCESS;a="invalid event";com_sas_ci_acs.ob_util.log(a);return a}}var h=0,l=0,q={custom:{epoch:0,count:0},spot_change:{epoch:0,count:0},spot_viewable:{epoch:0,count:0},spot_clicked:{epoch:0,count:0},click:{epoch:0,count:0},jsvarchange:{epoch:0,count:0},contentchange:{epoch:0,count:0},submit:{epoch:0,count:0},change:{epoch:0,count:0},IdentityEvent:{epoch:0,count:0},
media:{epoch:0,count:0},cart:{epoch:0,count:0},cartaction:{epoch:0,count:0},logout:{epoch:0,count:0}},r={spot_change:{max_event_per_interval:200,eventname:{required:!0,default_value:"impression"},spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},spot_viewable:{max_event_per_interval:200,eventname:{required:!0,default_value:"impression_viewable"},spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},
eventSource:{default_value:"webmarketing"}},spot_clicked:{max_event_per_interval:50,spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},click:{max_event_per_interval:50,referrer:{},element_tag_name:{internal_name:"elementTagName"},elementTagName:{},anchor_id:{types:["string","number"]},anchor_name:{},anchor_href:{},location:{},target_selector_path:{internal_name:"targetSelectorPath"},targetSelectorPath:{},target_inner_text:{internal_name:"targetInnerText"},
targetInnerText:{},on_click:{internal_name:"onclick"},onclick:{},title:{},port:{types:["number","string"]},protocol:{required:!0,default_value:"http"}},submit:{max_event_per_interval:4,location:{},referrer:{},uri:{},form_o_id:{internal_name:"form._o.id"},"form._o.id":{},form_h_id:{internal_name:"form._h.id"},"form._h.id":{},form_h_name:{types:["number","string"],internal_name:"form._h.name"},"form._h.name":{types:["number","string"]},ff_obscure_1:{internal_name:"ffobscure.1"},"ffobscure.1":{}},change:{form_o_id:{required:!0,
internal_name:"form._o.id"},form_o_attempts:{types:["number","string"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.integer,internal_name:"form._o.attempts"}},jsvarchange:{max_event_per_interval:50,name:{required:!0},action:{required:!0,default_value:"update",regex:"^add$|^update$"},old_value:{types:["string","number"],internal_name:"oldvalue"},oldvalue:{types:["string","number"]},new_value:{types:["string","number"],internal_name:"newvalue",group:"newValueGroup",group_min:1},newvalue:{types:["string",
"number"],group:"newValueGroup",group_min:1}},IdentityEvent:{max_event_per_interval:50,eventname:{default_value:"IdentityEvent",regex:"^IdentityEvent$"},login_event:{required:!0},login_event_type:{required:!0,regex:"^email_id$|^login_id$|^customer_id$"},eventSource:{default_value:"webmarketing",regex:"^webmarketing$"},protocol:{},port:{types:["string","number"]}},custom:{max_event_per_interval:50},media:{max_event_per_interval:50,player_id:{required:!0},media:{required:!0,regex:"^.{0,260}$"},media_player:{types:["string",
"number"],regex:"^.{0,30}$"},media_position:{types:["string","number"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.integer},media_duration:{types:["string","number"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},media_action:{types:["string"],required:!0,regex:"^start$|^stop$|^end$|^playing$"}},contentchange:{max_event_per_interval:50,target_selector:{internal_name:"targetselector",group:"targetSelectorGroup",group_min:1},targetselector:{group:"targetSelectorGroup",
group_min:1},target_name:{internal_name:"targetname",group:"targetNameGroup",group_min:1},targetname:{group:"targetNameGroup",group_min:1},target_id:{types:["string","number"],internal_name:"targetid"},targetid:{types:["string","number"]},target_type:{regex:"^attribute$|^childremove$|^childadd$",internal_name:"targettype"},targettype:{regex:"^attribute$|^childremove$|^childadd$"},attribute_name:{internal_name:"attributename"},attributename:{},old_value:{internal_name:"oldvalue"},oldvalue:{},new_value:{internal_name:"newvalue"},
newvalue:{},event_id:{},event_uid:{internal_name:"eventuid"},eventuid:{},event_source:{internal_name:"eventSource"},eventSource:{}},cart:{max_event_per_interval:50,cart_type:{required:!0,regex:"^cartview$|^checkout$|^purchase$"},cart_id:{types:["string","number"],required:!0,regex:"^.{0,42}$"},order_id:{types:["string","number"]},cart_name:{required:!0},billing_city:{regex:"^.{0,390}$"},billing_country:{regex:"^.{0,85}$"},billing_postcode:{regex:"^.{0,10}$"},billing_region:{regex:"^.{0,256}$"},delivery_type:{regex:"^.{0,42}$"},
payment_type:{regex:"^.{0,42}$"},shipping_city:{regex:"^.{0,390}$"},shipping_cost:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},shipping_country:{regex:"^.{0,85}$"},shipping_postcode:{regex:"^.{0,10}$"},shipping_region:{regex:"^.{0,256}$"},tax:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},total_cart_value:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},items:{types:["object"]}},cartaction:{max_event_per_interval:50,
product_id:{types:["string","number"],group:"productGroup",regex:"^.{0,130}$",group_min:1},product_sku:{types:["string","number"],group:"productGroup",regex:"^.{0,100}$",group_min:1},product_name:{group:"productGroup",regex:"^.{0,130}$",group_min:1},action:{required:!0,regex:"^add$|^addFailed$|^update$|^remove$"},cart_id_internal:{types:["string","number"],group:"cartGroup",regex:"^.{0,42}$",group_min:1},cart_id:{types:["string","number"],group:"cartGroup",group_min:1},cart_name:{group:"cartGroup",
group_min:1},cart_type:{regex:"^cartview$|^checkout$"}},cartitem:{max_event_per_interval:50,product_id:{types:["string","number"],group:"cartItemGroup",regex:"^.{0,130}$",group_min:1},product_name:{group:"cartItemGroup",regex:"^.{0,130}$",group_min:1},product_sku:{types:["string","number"],group:"cartItemGroup",regex:"^.{0,100}$",group_min:1},product_quantity:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},product_unit_price:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},
product_group:{regex:"^.{0,130}$"},availability_message:{regex:"^.{0,650}$"},shipping_message:{regex:"^.{0,650}$"},savings_message:{regex:"^.{0,650}$"}},logout:{}};return{i:function(b,f,k){if("event"===b)if(k&&k.event)if(b=c(k),b===com_sas_ci_acs.ob_util.SUCCESS){a:{b=k.event;if(q[b]&&"undefined"!==typeof q[b].epoch&&"undefined"!==typeof q[b].count&&(f=(new Date).getTime(),6E4<f-l&&(l=f,h=0),6E4<f-q[b].epoch&&(q[b].epoch=f,q[b].count=0),a(r[b].max_event_per_interval,"max_event_per_interval")>q[b].count&&
500>h)){q[b].count++;h++;b=!0;break a}b=!1}if(b)switch(k.event){case com_sas_ci_acs.ob_event.EventNameEnum.JS_VAR_CHANGE:case com_sas_ci_acs.ob_event.EventNameEnum.CLICK:case com_sas_ci_acs.ob_event.EventNameEnum.SUBMIT:case com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE:case com_sas_ci_acs.ob_event.EventNameEnum.MEDIA:case com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT:case com_sas_ci_acs.ob_event.EventNameEnum.CUSTOM:case com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION:case com_sas_ci_acs.ob_event.EventNameEnum.CHANGE:return d(k);
case com_sas_ci_acs.ob_event.EventNameEnum.LOGOUT:try{if(k.event===com_sas_ci_acs.ob_event.EventNameEnum.LOGOUT){com_sas_ci_acs._o_ajax.deleteContent(com_sas_ci_acs.ob_util.getDataHubCallUrl(),null,!0,com_sas_ci_acs.ob_event_cache.handleDatahubIdResponse,null);var m=com_sas_ci_acs.ob_util.SUCCESS}else m="Invalid event."}catch(u){m="Error while sending logout event. "+u}return m;case com_sas_ci_acs.ob_event.EventNameEnum.CART:return g(k);case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE:case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE:return e(k);
case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CLICKED:return e(k,!0);default:return k="Event type not recognized",com_sas_ci_acs.ob_util.log(k),k}else return k="Maximum limit has been reached.",com_sas_ci_acs.ob_util.log(k),k}else return k="Validation failed for event: "+k.event+", "+b,com_sas_ci_acs.ob_util.log(k),k;else return k="Event is not valid",com_sas_ci_acs.ob_util.log(k),k;else return k=b+" is not a valid type.",com_sas_ci_acs.ob_util.log(k),k}}}();
com_sas_ci_acs.ob_cart_api=function(){return{isReady:function(){return"undefined"!==typeof com_sas_ci_acs.ob_configure.getLoadId()&&0<com_sas_ci_acs.ob_configure.getLoadId().length},sendCart:function(a,b,c,d,e){com_sas_ci_acs.ob_cart.sendCartEvent(a,b,c,d,e,"api")},cartDetails:function(){return new com_sas_ci_acs.ob_cart.details},cartContents:function(){return new com_sas_ci_acs.ob_cart.contents},add:function(a,b,c,d,e,f,g,h,l,q,r){var m=e;if(a||b||c)if(d?"number"!=typeof d&&(d=parseInt(d),isNaN(d)&&
(com_sas_ci_acs.ob_util.log("cart add: qty is not a valid number. defaulting to 1."),d=1)):d=1,e){if("number"!=typeof e&&(m=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator,e=parseFloat(e.replace(new RegExp("\\"+m,"g"),"").replace(/,/,".")),isNaN(e))){com_sas_ci_acs.ob_util.log("cart add: price is not a valid number.");return}com_sas_ci_acs.ob_util.isUndefined(f)||null==f?f=!0:"boolean"!=typeof f&&(com_sas_ci_acs.ob_util.log("cart add: isUnitPrice is not a valid boolean."),
f=!0);m=f?e:e/d;var v=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);v.add("action","add");v.add("initiator","api");a&&v.add("product_id",a);b&&v.add("product_name",b);c&&v.add("product_sku",c);v.add("product_quantity",d);v.add("product_unit_price",m.toFixed(2));g&&v.add("product_group",g);l&&v.add("cart_id_internal",l);q&&v.add("cart_name",q);r&&v.add("cart_type",r);if(void 0!=h&&null!=h)for(var k in h)h.hasOwnProperty(k)&&h[k]&&v.add(k,h[k]);setTimeout(function(){v.send()},
0)}else com_sas_ci_acs.ob_util.log("cart add: price is undefined, but is required.");else com_sas_ci_acs.ob_util.log("cart add: one of id, name, or sku is required.")},addFailed:function(a,b,c,d,e,f){if(a||b||c){var g=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);g.add("action","addFailed");g.add("initiator","api");a&&g.add("product_id",a);b&&g.add("product_name",b);c&&g.add("product_sku",c);d&&g.add("cart_id_internal",d);e&&g.add("cart_name",e);f&&g.add("cart_type",
f);setTimeout(function(){g.send()},0)}else com_sas_ci_acs.ob_util.log("cart addFailed: one of id, name, or sku is required.")},remove:function(a,b,c,d,e,f,g,h,l){if(a||b||c){if(e&&"number"!=typeof e){var q=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator;e=parseFloat(e.replace(new RegExp("\\"+q,"g"),"").replace(/,/,"."));isNaN(e)?(com_sas_ci_acs.ob_util.log("cart remove: unit_price is not a valid number."),e=""):
e=e.toFixed(2)}var r=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);r.add("action","remove");r.add("initiator","api");r.add("product_id",a);r.add("product_name",b);r.add("product_sku",c);r.add("product_quantity",d);r.add("product_unit_price",e);r.add("product_group",f);r.add("cart_id_internal",g);r.add("cart_name",h);r.add("cart_type",l);com_sas_ci_acs.ob_util.isSafariBrowser()?r.send(!1):setTimeout(function(){r.send()},0)}else com_sas_ci_acs.ob_util.log("cart remove: id,name,sku are undefined, but at least one is required.")},
update:function(a,b,c,d,e,f,g){if(a||b||c)if(d){if("number"!=typeof d&&(d=parseInt(d),isNaN(d))){com_sas_ci_acs.ob_util.log("cart update: qty is not a number.");return}var h=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);h.add("action","update");h.add("initiator","api");a&&h.add("product_id",a);b&&h.add("product_name",b);c&&h.add("product_sku",c);h.add("product_quantity",d);h.add("cart_id_internal",e);h.add("cart_name",f);h.add("cart_type",g);setTimeout(function(){h.send()},
0)}else com_sas_ci_acs.ob_util.log("cart update: qty is undefined, but is required.");else com_sas_ci_acs.ob_util.log("cart update: one of id, name, or sku is required.")}}}();
com_sas_ci_acs.ob_cart=function(){function a(a,b,e,f,g){f=f.getItems();for(var c=0;c<f.length;c++){var d=void 0,q=a,r=b,m=e,v=f[c],k=g,t=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM);t.add("cart_id_internal",q);t.add("cart_name",r);t.add("cart_type",m);m=r=q=!1;for(d in v)v.hasOwnProperty(d)&&v[d]&&(t.add(d,v[d]),"product_id"==d&&(q=!0),"product_name"==d&&(r=!0),"product_sku"==d&&(m=!0));if(q||r||m)t.createEventData(),t.data&&0<t.data.length&&(d=k.get("cartitem_count"),
d++,k.add("cartitem."+d,t.data),k.add("cartitem_count",d))}}function b(b,d,e,f,g,h){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART);c.add("cart_id_internal",b);c.add("cart_name",d);c.add("cart_type",e);h&&""!=h&&c.add("initiator",h);f=f.getDetails();for(var q in f)f.hasOwnProperty(q)&&f[q]&&c.add(q,f[q]);c.add("cartitem_count","0");a(b,d,e,g,c);setTimeout(function(){c.send()},0)}return{CartDetails:function(a,b,e,f,g,h,l,q,r,m,v,k,t,u,y){this.cart_id=a;this.order_id=b;
"number"===typeof e&&(e=e.toFixed(2));this.total_cart_value=e;"number"===typeof f&&(f=f.toFixed(2));this.tax=f;"number"===typeof g&&(g=g.toFixed(2));this.shipping_cost=g;this.payment_type=h;this.delivery_type=l;this.shipping_city=q;this.shipping_region=r;this.shipping_postcode=m;this.shipping_country=v;this.billing_city=k;this.billing_region=t;this.billing_postcode=u;this.billing_country=y},cartDetailsGeneric:function(a){var b=new com_sas_ci_acs.ob_cart.CartDetails,c;for(c in b)com_sas_ci_acs.ob_util.exists(a[c])&&
(b[c]=a[c]);return b},CartItem:function(a,b,e,f,g,h,l,q,r){this.product_id=a;this.product_name=b;this.product_sku=e;this.product_quantity=f;"number"===typeof g&&(g=g.toFixed(2));this.product_unit_price=g;this.product_group=h;this.availability_message=l;this.shipping_message=q;this.savings_message=r},contents:function(){var a=[];this.addItem=function(b,c,f,g,h,l,q,r,m){b=new com_sas_ci_acs.ob_cart.CartItem(b,c,f,g,h,l,q,r,m);a.push(b)};this.addContent=function(b){a.push(b)};this.getItems=function(){return a};
this.clearItems=function(){a=[]}},details:function(){var a={};this.setDetails=function(b,c,f,g,h,l,q,r,m,v,k,t,u,y){a=new com_sas_ci_acs.ob_cart.CartDetails(b,c,f,g,h,l,q,r,m,v,k,t,u,y)};this.addDetails=function(b){for(var c in b)b.hasOwnProperty(c)&&b[c]&&(a[c]=b[c])};this.getDetails=function(){return a};this.clearDetails=function(){a={}}},showCartDetails:function(a,d,e,f,g){b(a,d,e,f,g)},sendCartEvent:function(a,d,e,f,g,h){b(a,d,e,f,g,h)}}}();com_sas_ci_acs._ob_cart_configuration=function(){};
com_sas_ci_acs._ob_cart_configuration.prototype.getCartConfig=function(){};com_sas_ci_acs._ob_cart_configuration.prototype.getCheckoutConfig=function(){};com_sas_ci_acs._ob_cart_configuration.prototype.getPurchaseConfig=function(){};
com_sas_ci_acs._ob_cart_handlers=function(){function a(a,b,e,f,g,h,l,q,r){return function(){com_sas_ci_acs.ob_cart_api.remove(a,b,e,f,g,h,l,q,r)}}function b(b,d){if(b)for(var c in b)try{var f=b[c],g=f.name;if(f.selector){var h=com_sas_ci_acs.ob_util.getElementsBySelector(f.selector);if(0!=h.length){for(var l=f.item,q=new com_sas_ci_acs.ob_cart.contents,r=0;r<h.length;r++){var m={},v=!0,k;for(k in l){var t=l[k];if(t){var u,y=void 0,I=t,z=h[r],E=null;I=[].concat(I);for(var A=0;A<I.length;A++){var G=
I[A];if(G&&G.s){var B=z?com_sas_ci_acs.ob_util.getElementsBySelector(G.s,z):com_sas_ci_acs.ob_util.getElementsBySelector(G.s);if(0!=B.length&&(y=com_sas_ci_acs._ob_dom.getContent(B[0],G.a,G.f,G.p))){E=y;break}}}if(u=E)m[k]=u,v=!1}}if(!v){q.addContent(m);var O=f.removetargets;if(O){var p=com_sas_ci_acs._ob_dom.findElementMatch(h[r],O);for(v=0;v<p.length;v++)com_sas_ci_acs.ob_configure.w3c?p[v].addEventListener("click",a(m.product_id,m.product_name,m.product_sku,m.product_quantity,m.product_unit_price,
m.product_group,c,g,d)):p[v].attachEvent("onclick",a(m.product_id,m.product_name,m.product_sku,m.product_quantity,m.product_unit_price,m.product_group,c,g,d))}}}var W=new com_sas_ci_acs.ob_cart.details;com_sas_ci_acs.ob_cart.showCartDetails(c,g,d,W,q)}}}catch(ca){com_sas_ci_acs.ob_util.log("exception occurred during cart scraping: "+ca)}}return{scrapeHandler:function(){b((new com_sas_ci_acs._ob_cart_configuration).getCartConfig(),"cartview");b((new com_sas_ci_acs._ob_cart_configuration).getCheckoutConfig(),
"checkout");b((new com_sas_ci_acs._ob_cart_configuration).getPurchaseConfig(),"purchase")}}}();com_sas_ci_acs._ob_contentvisible_configuration=function(){};com_sas_ci_acs._ob_contentvisible_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_contentvisible_configuration()};com_sas_ci_acs._ob_jsvar_configuration=function(){};com_sas_ci_acs._ob_jsvar_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_jsvar_configuration()};
com_sas_ci_acs._ob_jsvarchange_configuration=function(){};com_sas_ci_acs._ob_jsvarchange_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_jsvarchange_configuration()};
com_sas_ci_acs.SasVideo={_silverlight:{},_brightcove:{},_youtube:{},_osmf:{},_wmp:{},_players:[],expressions:{html5:["video","audio","embed[html5='true']"],wmp:["object[type='application/x-oleobject']"],quicktime:["object[type='video/quicktime']"],osmf:["object[type='application/x-shockwave-flash'][data*='StrobeMediaPlayback.swf']"]},incrementMediaEventCount:function(){com_sas_ci_acs.ob_util.mediaEventsCount++},isBelowMaxMediaEvents:function(){return com_sas_ci_acs.ob_util.mediaEventsCount<com_sas_ci_acs.ob_util.getMaxMediaEvents()},
testYoutube:function(a){var b=[],c=[];"IFRAME"===a.tagName?b.push(a):b=a.getElementsByTagName("iframe");for(a=0;a<b.length;a++)/youtube.com\/embed/.test(b[a].src)&&c.push(b[a]);return c},enableYoutubeApi:function(a){for(var b=0;b<a.length;b++)-1===a[b].src.indexOf("enablejsapi=")&&(a[b].src+=(-1===a[b].src.indexOf("?")?"?":"&")+"enablejsapi=1")},instrumentYouTube:function(a){this.loadYouTubeIframeAPI(a)},filterElemsBySelector:function(a,b){for(var c=[],d=0;d<b.length;d++){com_sas_ci_acs.ob_util.exists(a.matches)&&
a.matches(b[d])&&(c=c.concat(a));var e=a.querySelectorAll(b[d]);if(com_sas_ci_acs.ob_util.exists(e)&&0<e.length)for(var f=0;f<e.length;f++)c=c.concat(e[f])}return c},testHTML5:function(a){return this.filterElemsBySelector(a,this.expressions.html5)},instrumentHTML5:function(a){a=new com_sas_ci_acs.SasVideo.Html5(a);this._players.push(a)},testWindowsMedia:function(a){return/MSIE/.test(navigator.userAgent)&&"Win32"==navigator.platform?this.filterElemsBySelector(a,this.expressions.wmp):[]},instrumentWindowsMedia:function(a){a=
new com_sas_ci_acs.SasVideo.WindowsMediaPlayer(a);this._players.push(a)},testQuicktime:function(a){return this.filterElemsBySelector(a,this.expressions.quicktime)},instrumentQuicktime:function(a){a=new com_sas_ci_acs.SasVideo.Quicktime(a);this._players.push(a)},testOpenSourceMediaFramework:function(a){return this.filterElemsBySelector(a,this.expressions.osmf)},instrumentOpenSourceMediaFramework:function(a){a=new com_sas_ci_acs.SasVideo.Osmf(a);this._players.push(a)},loadPlayers:function(a){com_sas_ci_acs.ob_util.exists(a)||
(a=document);var b=this.testYoutube(a);0<b.length&&this.instrumentYouTube(b);b=this.testHTML5(a);for(var c=0;c<b.length;c++)this.instrumentHTML5(b[c]);b=this.testWindowsMedia(a);for(c=0;c<b.length;c++)this.instrumentWindowsMedia(b[c]);b=this.testQuicktime(a);for(c=0;c<b.length;c++)this.instrumentQuicktime(b[c]);a=this.testOpenSourceMediaFramework(a);for(b=0;b<a.length;b++)this.instrumentOpenSourceMediaFramework(a[b])},unloadPlayers:function(){for(var a,b=0;b<window._players.length;b++)a=window._players[b],
a=a.send("exit"),_send(a)},loadYouTubeIframeAPI:function(a){if("undefined"!==typeof YT)com_sas_ci_acs.SasVideo.handleYoutubeIframe(a);else{a=document.createElement("script");var b=document.getElementsByTagName("script")[0];a.src="//www.youtube.com/iframe_api";b.parentNode.insertBefore(a,b)}},addSilverlight:function(a){var b={};com_sas_ci_acs.SasVideo.createSilverlight(a,b);return b},createSilverlight:function(a,b){if("Canvas"==a.toString())for(var c,d=0;d<a.children.count;d++)c=a.children.getItem(d),
"MediaElement"==c.toString()?(new com_sas_ci_acs.SasVideo.SilverLight(c),b[c.name]=c):com_sas_ci_acs.SasVideo.createSilverlight(c,b)},getSilverlight:function(a){return com_sas_ci_acs.SasVideo._silverlight.hasOwnProperty(a)?com_sas_ci_acs.SasVideo._silverlight[a]._player:null},handleBrightcove:function(a){var b=com_sas_ci_acs.SasVideo._brightcove[a.target.experience.id];b.set(a);"mediaPlay"==a.type?(com_sas_ci_acs.ob_util.log("Brightcove media event [mediaPlay]"),b.start()):"mediaStop"==a.type&&(com_sas_ci_acs.ob_util.log("Brightcove media event [mediaStop]"),
b.stop())},osmfRegister:function(a){null==a.getState?setTimeout(function(){com_sas_ci_acs.SasVideo.osmfRegister(a)},1E3):(a.addEventListener("mediaPlayerStateChange","com_sas_ci_acs.SasVideo.osmfStateChange"),a.addEventListener("currentTimeChange","com_sas_ci_acs.SasVideo.osmfTimeChange"),a.addEventListener("complete","com_sas_ci_acs.SasVideo.osmfComplete"),a.addEventListener("durationChange","com_sas_ci_acs.SasVideo.osmfDurationChange"),"playing"==a.getState()&&this.play())},osmfStateChange:function(a,
b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(b=com_sas_ci_acs.SasVideo._osmf[b],"playing"==a?(com_sas_ci_acs.ob_util.log("OSMF media event [playing]"),b.play()):"paused"==a&&(com_sas_ci_acs.ob_util.log("OSMF media event [paused]"),b.pause()))},osmfTimeChange:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&com_sas_ci_acs.ob_util.log("OSMF media event [timechange]")},osmfDurationChange:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(com_sas_ci_acs.ob_util.log("OSMF media event [durationchange]"),
com_sas_ci_acs.SasVideo._osmf[b]._duration=parseInt(a))},osmfComplete:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(com_sas_ci_acs.ob_util.log("OSMF media event [complete]"),_osmf[b].end())},handleQuicktime:function(a){var b=a.target.__player;"qt_play"==a.type?(com_sas_ci_acs.ob_util.log("Quicktime media event [play]"),b.play()):"qt_pause"==a.type?(com_sas_ci_acs.ob_util.log("Quicktime media event [pause]"),b.pause()):"qt_ended"==a.type&&(com_sas_ci_acs.ob_util.log("Quicktime media event [ended]"),
b.end())},getWindowsMedia:function(a){return com_sas_ci_acs.SasVideo._wmp.hasOwnProperty(a)?com_sas_ci_acs.SasVideo._wmp[a]:null},handleYoutubeIframe:function(a){com_sas_ci_acs.ob_util.exists(a)||(a=com_sas_ci_acs.SasVideo.testYoutube(document));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure)||"function"!=typeof com_sas_ci_acs.ob_configure.isCollectionEnabled||com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media){com_sas_ci_acs.SasVideo.enableYoutubeApi(a);
for(var b=0;b<a.length;b++){var c="";com_sas_ci_acs.ob_util.exists(a[b].id)&&""!==a[b].id&&(c=a[b].id);""===c?com_sas_ci_acs.SasVideo.handleExistingYoutubePlayer(c,a[b]):com_sas_ci_acs.SasVideo.handleExistingYoutubePlayer(c)}}},handleExistingYoutubePlayer:function(a,b){var c=YT.get(a);com_sas_ci_acs.ob_util.exists(c)||(null!=b?(c=new YT.Player(b),a=b.id):c=new YT.Player(a));b="";com_sas_ci_acs.ob_util.exists(c.getIframe())&&(b=c.getIframe().src);var d=new com_sas_ci_acs.SasVideo.YouTube(c,0,a,b);
c.addEventListener("onStateChange",function(a){d.state(a)})}};
com_sas_ci_acs.SasVideo.Html5=function(a){this._player=a;this._player.__player=this;this._type="Html5";this._source=null;this._duration=0;this._seeking=!1;com_sas_ci_acs.ob_util.isIE8Browser()?(this._player.attachEvent("play",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("pause",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("ended",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("seeking",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("seeked",
com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("durationchange",com_sas_ci_acs.SasVideo.Html5_handle)):(this._player.addEventListener("play",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("pause",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("ended",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("seeking",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("seeked",com_sas_ci_acs.SasVideo.Html5_handle),
this._player.addEventListener("durationchange",com_sas_ci_acs.SasVideo.Html5_handle))};com_sas_ci_acs.SasVideo.Html5.prototype.start=function(){this._position=0;this.send("start")};com_sas_ci_acs.SasVideo.Html5.prototype.playing=function(){var a=parseInt(this._player.currentTime);this._position!=a&&(this._position=a,this.send("playing"))};com_sas_ci_acs.SasVideo.Html5.prototype.stop=function(){this._position=0;this.send("stop")};com_sas_ci_acs.SasVideo.Html5.prototype.end=function(){this.send("end")};
com_sas_ci_acs.SasVideo.Html5.prototype.setDuration=function(a){this._duration=a};com_sas_ci_acs.SasVideo.Html5.prototype.seeking=function(){0==this._player.paused&&0==this._seeking&&(this._seeking=!0,this.send("stop"))};com_sas_ci_acs.SasVideo.Html5.prototype.seeked=function(){0==this._player.paused&&(this.send("start"),this._seeking=!1)};
com_sas_ci_acs.SasVideo.Html5.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.currentTime),c=this._duration;0==c&&0==isNaN(this._player.duration)&&(c=parseInt(this._player.duration));com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.id);d.add("media",
this._source);d.add("media_player",this._type);d.add("media_position",b);d.add("media_duration",c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.Html5_handle=function(a){var b=a.target.__player;b._source=a.target.currentSrc;"play"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [play]"),b.start()):"pause"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [pause]"),b.stop()):"ended"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [ended]"),b.end()):"timeupdate"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [timeupdate]"),0==b._player.paused&&b.playing()):"durationchange"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [durationchange]"),
a.target.hasOwnProperty("duration")&&b.setDuration(parseInt(a.target.duration))):"seeking"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [seeking]"),b.seeking(a)):"seeked"==a.type&&(com_sas_ci_acs.ob_util.log("Html5 media event [seeked]"),b.seeked(a))};
com_sas_ci_acs.SasVideo.SilverLight=function(a){this._playing=!1;this._player=a;this._type="Silverlight";com_sas_ci_acs.SasVideo._silverlight[a.name]=this;this._player.addEventListener("CurrentStateChanged",com_sas_ci_acs.SasVideo.SilverLight_state);this._player.addEventListener("MediaEnded",com_sas_ci_acs.SasVideo.SilverLight_end)};
com_sas_ci_acs.SasVideo.SilverLight.prototype.state=function(){"Playing"==this._player.currentState?(com_sas_ci_acs.ob_util.log("SilverLight media event [playing]"),0==this._playing&&(this._playing=!0,this.play())):"Paused"==this._player.currentState&&(com_sas_ci_acs.ob_util.log("SilverLight media event [paused]"),this._playing&&(this._playing=!1,this.pause()))};com_sas_ci_acs.SasVideo.SilverLight.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.SilverLight.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.SilverLight.prototype.end=function(){com_sas_ci_acs.ob_util.log("SilverLight media event [end]");this.send("end")};
com_sas_ci_acs.SasVideo.SilverLight.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.position.seconds),c=parseInt(this._player.naturalDuration.seconds);com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.name);d.add("media",this._player.Source);d.add("media_player",
this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};com_sas_ci_acs.SasVideo.SilverLight_state=function(a){com_sas_ci_acs.SasVideo._silverlight[a.name].state()};com_sas_ci_acs.SasVideo.SilverLight_end=function(a){com_sas_ci_acs.SasVideo._silverlight[a.name].end()};
com_sas_ci_acs.SasVideo.Brightcove=function(a){null!=(this._player=a)&&(this._type="Brightcove",this._id=a.id,this._position=this._duration=0,com_sas_ci_acs.SasVideo._brightcove[this._id]=this,a.addEventListener(brightcove.api.events.MediaEvent.PLAY,com_sas_ci_acs.SasVideo.handleBrightcove),a.addEventListener(brightcove.api.events.MediaEvent.STOP,com_sas_ci_acs.SasVideo.handleBrightcove))};com_sas_ci_acs.SasVideo.Brightcove.prototype.start=function(){this.send("start")};
com_sas_ci_acs.SasVideo.Brightcove.prototype.playing=function(){};com_sas_ci_acs.SasVideo.Brightcove.prototype.stop=function(){this.send("stop")};com_sas_ci_acs.SasVideo.Brightcove.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Brightcove.prototype.set=function(a){this._duration=parseInt(a.duration);this._position=parseInt(a.position);this._source=a.media.FLVFullLengthURL};
com_sas_ci_acs.SasVideo.Brightcove.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=this._position,c=this._duration;com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._id);d.add("media",this._source);d.add("media_player",this._type);d.add("media_position",b);d.add("media_duration",
c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};com_sas_ci_acs.SasVideo.YouTube=function(a,b,c,d){this._player=a;!c&&a.id&&(c=a.id);!d&&a.src&&(d=a.src);!d&&a.data&&(d=a.data);this._id=c;this._src=d;this._type="YouTube";com_sas_ci_acs.SasVideo._youtube[c]=this};
com_sas_ci_acs.SasVideo.YouTube.prototype.state=function(a){1==a.data?(com_sas_ci_acs.ob_util.log("YouTube media event [play]"),this.play()):2==a.data?(com_sas_ci_acs.ob_util.log("YouTube media event [pause]"),this.pause()):0==a.data&&(com_sas_ci_acs.ob_util.log("YouTube media event [end]"),this.end())};com_sas_ci_acs.SasVideo.YouTube.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.YouTube.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.YouTube.prototype.end=function(){this.send("end")};
com_sas_ci_acs.SasVideo.YouTube.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()&&(com_sas_ci_acs.SasVideo.incrementMediaEventCount(),"function"===typeof this._player.getCurrentTime&&"function"===typeof this._player.getDuration)){var b=parseInt(this._player.getCurrentTime()),c=parseInt(this._player.getDuration());com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);
d.add("player_id",this._id);d.add("media",this._src);d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};null!=window.onYouTubeIframeAPIReady&&(com_sas_ci_acs.SasVideo.otherYTApiReadyFn=window.onYouTubeIframeAPIReady);window.onYouTubeIframeAPIReady=function(){null!=com_sas_ci_acs.SasVideo.otherYTApiReadyFn&&(com_sas_ci_acs.SasVideo.otherYTApiReadyFn(),com_sas_ci_acs.SasVideo.otherYTApiReadyFn=null);com_sas_ci_acs.SasVideo.handleYoutubeIframe()};
null!=window.onYouTubePlayerReady&&(com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn=window.onYouTubePlayerReady);
window.onYouTubePlayerReady=function(a){null!=com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn&&(com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn(),com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn=null);(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media)&&new com_sas_ci_acs.SasVideo.YouTube(document.getElementById(a),1)};
com_sas_ci_acs.SasVideo.Osmf=function(a){this._type="OSMF";this._player=a;com_sas_ci_acs.SasVideo._osmf[this._player.getAttribute("name")]=this;this._duration=0;com_sas_ci_acs.SasVideo.osmfRegister(a)};com_sas_ci_acs.SasVideo.Osmf.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.Osmf.prototype.pause=function(){this.send("stop")};com_sas_ci_acs.SasVideo.Osmf.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Osmf.prototype.seek=function(){this.send("seek")};
com_sas_ci_acs.SasVideo.Osmf.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.getCurrentTime()),c=this._duration;0==c&&0==isNaN(this._player.getDuration())&&(c=parseInt(this._player.getDuration()));com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.getAttribute("id"));
d.add("media",this._player.getSrc());d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.Quicktime=function(a){this._player=a;this._player.__player=this;this._type="Quicktime";com_sas_ci_acs.ob_util.isIE8Browser()?(this._player.attachEvent("qt_play",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_pause",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_ended",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_timechanged",com_sas_ci_acs.SasVideo.handleQuicktime)):(this._player.addEventListener("qt_play",
com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_pause",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_ended",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_timechanged",com_sas_ci_acs.SasVideo.handleQuicktime))};com_sas_ci_acs.SasVideo.Quicktime.prototype.play=function(){this._position=0;this.send("start")};com_sas_ci_acs.SasVideo.Quicktime.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.Quicktime.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Quicktime.prototype.playing=function(){var a=parseInt(this._player.GetTime()/1E3);this._position!=a&&(this._position=a,this.send("playing"))};com_sas_ci_acs.SasVideo.Quicktime.prototype.seek=function(){this.send("seek")};
com_sas_ci_acs.SasVideo.Quicktime.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.GetTime()/1E3),c=parseInt(this._player.GetDuration()/1E3),d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("",this._player.id);d.add("player_id",this._player.GetMovieName());d.add("media",this._player.GetURL());d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",
b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer=function(a){this._player=a;this._player.__player=this;this._type="WindowsMediaPlayer";this._position=0;com_sas_ci_acs.SasVideo._wmp[a.id]=this;var b="wmpstate_"+a.id.replace(/([^_a-z0-9]+)/g,"");var c="com_sas_ci_acs.SasVideo."+b+" = function(state){var player = com_sas_ci_acs.SasVideo.getWindowsMedia('"+(a.id+"');");c+="player.handleState(state);";c+="}";eval(c);this._player.attachEvent("playStateChange",eval("com_sas_ci_acs.SasVideo."+b));b="wmpposition_"+
a.id.replace(/([^_a-z0-9]+)/g,"");c="com_sas_ci_acs.SasVideo."+b+" = function(oldPosition,newPosition){var player = com_sas_ci_acs.SasVideo.getWindowsMedia('"+(a.id+"');");c+="player.handlePosition(oldPosition,newPosition);";c+="}";eval(c);this._player.attachEvent("positionChange",eval("com_sas_ci_acs.SasVideo."+b))};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer.prototype.handleState=function(a){if(null!=this._player.controls){var b=parseInt(this._player.controls.currentPosition);1==a?(com_sas_ci_acs.ob_util.log("WMP media event [stop]"),this.send("stop",b),this._position=0):2==a?(com_sas_ci_acs.ob_util.log("WMP media event [pause]"),this.send("stop",b),this._position=b):3==a&&(com_sas_ci_acs.ob_util.log("WMP media event [play]"),this.send("play",this._position))}};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer.prototype.handlePosition=function(a,b){com_sas_ci_acs.ob_util.log("WMP media event [positionChange]");this._position=parseInt(b);3==this._player.playState&&(this.send("stop",parseInt(a)),this.send("play",this._position))};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer.prototype.send=function(a,b){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var c=parseInt(this._player.currentMedia.duration);com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.id);d.add("media",this._player.fileName);d.add("media_player",this._type);d.add("media_position",
b);d.add("media_duration",c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||l).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-e%4*8&255)<<24-(d+e)%4*8;else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-
c%4*8;b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},l=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<
24-d%8*4;return new g.init(c,b/2)}},q=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new g.init(c,b)}},r=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(q.stringify(a)))}catch(t){throw Error("Malformed UTF-8 data");}},parse:function(a){return q.parse(unescape(encodeURIComponent(a)))}},
m=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=r.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f);h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*f;e=a.min(4*b,e);if(b){for(var k=0;k<b;k+=f)this._doProcessBlock(d,k);k=d.splice(0,b);c.sigBytes-=e}return new g.init(k,e)},clone:function(){var a=f.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=m.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){m.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new v.HMAC.init(a,
c)).finalize(b)}}});var v=c.algo={};return c}(Math);
(function(a){var b=CryptoJS,c=b.lib,d=c.Base,e=c.WordArray;b=b.x64={};b.Word=d.extend({init:function(a,b){this.high=a;this.low=b}});b.WordArray=d.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=a?c:8*b.length},toX32:function(){for(var a=this.words,b=a.length,c=[],d=0;d<b;d++){var q=a[d];c.push(q.high);c.push(q.low)}return e.create(c,this.sigBytes)},clone:function(){for(var a=d.clone.call(this),b=a.words=this.words.slice(0),c=b.length,e=0;e<c;e++)b[e]=b[e].clone();return a}})})();
(function(){function a(){return e.create.apply(e,arguments)}var b=CryptoJS,c=b.lib.Hasher,d=b.x64,e=d.Word,f=d.WordArray;d=b.algo;for(var g=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),
a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,
2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),
a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,
3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],h=[],l=0;80>l;l++)h[l]=a();d=d.SHA512=c.extend({_doReset:function(){this._hash=new f.init([new e.init(1779033703,4089235720),new e.init(3144134277,2227873595),new e.init(1013904242,4271175723),new e.init(2773480762,1595750129),new e.init(1359893119,2917565137),new e.init(2600822924,725511199),new e.init(528734635,4215389547),new e.init(1541459225,327033209)])},_doProcessBlock:function(a,b){var c=this._hash.words,
d=c[0],e=c[1],f=c[2],l=c[3],q=c[4],r=c[5],z=c[6];c=c[7];for(var E=d.high,A=d.low,G=e.high,B=e.low,O=f.high,p=f.low,W=l.high,ca=l.low,ra=q.high,ia=q.low,sa=r.high,ja=r.low,ma=z.high,Z=z.low,pa=c.high,na=c.low,C=E,K=A,X=G,da=B,P=O,ea=p,qa=W,fa=ca,R=ra,N=ia,ka=sa,ha=ja,la=ma,Y=Z,n=pa,w=na,x=0;80>x;x++){var aa=h[x];if(16>x)var S=aa.high=a[b+2*x]|0,F=aa.low=a[b+2*x+1]|0;else{S=h[x-15];F=S.high;var U=S.low;S=(F>>>1|U<<31)^(F>>>8|U<<24)^F>>>7;U=(U>>>1|F<<31)^(U>>>8|F<<24)^(U>>>7|F<<25);var T=h[x-2];F=T.high;
var L=T.low;T=(F>>>19|L<<13)^(F<<3|L>>>29)^F>>>6;L=(L>>>19|F<<13)^(L<<3|F>>>29)^(L>>>6|F<<26);F=h[x-7];var oa=F.high,ba=h[x-16],V=ba.high;ba=ba.low;F=U+F.low;S=S+oa+(F>>>0<U>>>0?1:0);F+=L;S=S+T+(F>>>0<L>>>0?1:0);F+=ba;S=S+V+(F>>>0<ba>>>0?1:0);aa.high=S;aa.low=F}oa=R&ka^~R&la;ba=N&ha^~N&Y;aa=C&X^C&P^X&P;var va=K&da^K&ea^da&ea;U=(C>>>28|K<<4)^(C<<30|K>>>2)^(C<<25|K>>>7);T=(K>>>28|C<<4)^(K<<30|C>>>2)^(K<<25|C>>>7);L=g[x];var wa=L.high,ta=L.low;L=w+((N>>>14|R<<18)^(N>>>18|R<<14)^(N<<23|R>>>9));V=n+((R>>>
14|N<<18)^(R>>>18|N<<14)^(R<<23|N>>>9))+(L>>>0<w>>>0?1:0);L+=ba;V=V+oa+(L>>>0<ba>>>0?1:0);L+=ta;V=V+wa+(L>>>0<ta>>>0?1:0);L+=F;V=V+S+(L>>>0<F>>>0?1:0);F=T+va;aa=U+aa+(F>>>0<T>>>0?1:0);n=la;w=Y;la=ka;Y=ha;ka=R;ha=N;N=fa+L|0;R=qa+V+(N>>>0<fa>>>0?1:0)|0;qa=P;fa=ea;P=X;ea=da;X=C;da=K;K=L+F|0;C=V+aa+(K>>>0<L>>>0?1:0)|0}A=d.low=A+K;d.high=E+C+(A>>>0<K>>>0?1:0);B=e.low=B+da;e.high=G+X+(B>>>0<da>>>0?1:0);p=f.low=p+ea;f.high=O+P+(p>>>0<ea>>>0?1:0);ca=l.low=ca+fa;l.high=W+qa+(ca>>>0<fa>>>0?1:0);ia=q.low=ia+
N;q.high=ra+R+(ia>>>0<N>>>0?1:0);ja=r.low=ja+ha;r.high=sa+ka+(ja>>>0<ha>>>0?1:0);Z=z.low=Z+Y;z.high=ma+la+(Z>>>0<Y>>>0?1:0);na=c.low=na+w;c.high=pa+n+(na>>>0<w>>>0?1:0)},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+128>>>10<<5)+30]=Math.floor(c/4294967296);b[(d+128>>>10<<5)+31]=c;a.sigBytes=4*b.length;this._process();return this._hash.toX32()},clone:function(){var a=c.clone.call(this);a._hash=this._hash.clone();return a},blockSize:32});
b.SHA512=c._createHelper(d);b.HmacSHA512=c._createHmacHelper(d)})();
(function(){var a=CryptoJS,b=a.x64,c=b.Word,d=b.WordArray;b=a.algo;var e=b.SHA512;b=b.SHA384=e.extend({_doReset:function(){this._hash=new d.init([new c.init(3418070365,3238371032),new c.init(1654270250,914150663),new c.init(2438529370,812702999),new c.init(355462360,4144912697),new c.init(1731405415,4290775857),new c.init(2394180231,1750603025),new c.init(3675008525,1694076839),new c.init(1203062813,3204075428)])},_doFinalize:function(){var a=e._doFinalize.call(this);a.sigBytes-=16;return a}});a.SHA384=
e._createHelper(b);a.HmacSHA384=e._createHmacHelper(b)})();(function(){var a=document.getElementById("ob-script");null!=a&&"object"==typeof a.attributes&&"undefined"!=typeof a.attributes.getNamedItem?(a=a.attributes.getNamedItem("a"),a=null!=a?a.value:null):a=null;com_sas_ci_acs.ob_util.account=a})(document,"script");
