(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/ZWJ":function(t){t.exports=JSON.parse('[{"day":"2020-01-01","description":"New Year\'s Day"},{"day":"2020-01-02","description":"Day after New Year\'s Day"},{"day":"2020-02-06","description":"Waitangi Day"},{"day":"2020-04-10","description":"Good Friday"},{"day":"2020-04-13","description":"Easter Monday"},{"day":"2020-04-25","description":"ANZAC Day"},{"day":"2020-04-27","description":"ANZAC Day (observed)"},{"day":"2020-06-01","description":"Queen\'s Birthday"},{"day":"2020-10-26","description":"Labour Day"},{"day":"2020-12-25","description":"Christmas Day"},{"day":"2020-12-26","description":"Boxing Day"},{"day":"2020-12-28","description":"Boxing Day (observed)"},{"day":"2021-01-01","description":"New Year\'s Day"},{"day":"2021-01-02","description":"Day after New Year\'s Day"},{"day":"2021-01-04","description":"Day after New Year\'s Day (observed)"},{"day":"2021-02-06","description":"Waitangi Day"},{"day":"2021-02-08","description":"Waitangi Day (observed)"},{"day":"2021-04-02","description":"Good Friday"},{"day":"2021-04-05","description":"Easter Monday"},{"day":"2021-04-25","description":"ANZAC Day"},{"day":"2021-04-26","description":"ANZAC Day (observed)"},{"day":"2021-06-07","description":"Queen\'s Birthday"},{"day":"2021-10-25","description":"Labour Day"},{"day":"2021-12-25","description":"Christmas Day"},{"day":"2021-12-26","description":"Boxing Day"},{"day":"2021-12-27","description":"Christmas Day (observed)"},{"day":"2021-12-28","description":"Boxing Day (observed)"},{"day":"2022-01-01","description":"New Year\'s Day"},{"day":"2022-01-02","description":"Day after New Year\'s Day"},{"day":"2022-01-03","description":"New Year\'s Day (observed)"},{"day":"2022-01-04","description":"Day after New Year\'s Day (observed)"},{"day":"2022-02-06","description":"Waitangi Day"},{"day":"2022-02-07","description":"Waitangi Day (observed)"},{"day":"2022-04-15","description":"Good Friday"},{"day":"2022-04-18","description":"Easter Monday"},{"day":"2022-04-25","description":"ANZAC Day"},{"day":"2022-06-06","description":"Queen\'s Birthday"},{"day":"2022-10-24","description":"Labour Day"},{"day":"2022-12-25","description":"Christmas Day"},{"day":"2022-12-26","description":"Boxing Day"},{"day":"2022-12-27","description":"Christmas Day (observed)"},{"day":"2023-01-01","description":"New Year\'s Day"},{"day":"2023-01-02","description":"Day after New Year\'s Day"},{"day":"2023-01-03","description":"New Year\'s Day (observed)"},{"day":"2023-02-06","description":"Waitangi Day"},{"day":"2023-04-07","description":"Good Friday"},{"day":"2023-04-10","description":"Easter Monday"},{"day":"2023-04-25","description":"ANZAC Day"},{"day":"2023-06-05","description":"Queen\'s Birthday"},{"day":"2023-10-23","description":"Labour Day"},{"day":"2023-12-25","description":"Christmas Day"},{"day":"2023-12-26","description":"Boxing Day"}]')},"/j5y":function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o});var r=i("HEbw"),n=i.n(r),a=function(t){return n.a.randomBytes(t).toString("hex")},s=a(16),o=function(){return"00-".concat(s,"-").concat(a(8),"-01")}},0:function(t,e,i){i("j36g"),i("0Wtg"),i("46jK"),t.exports=i("lhOR")},"0Wtg":function(t,e,i){"use strict";i.r(e);i("pNMO"),i("4Brf"),i("tjZM"),i("3I1R"),i("7+kd"),i("KhsS"),i("gOCb"),i("a57n"),i("GXvd"),i("I1Gw"),i("gXIK"),i("lEou"),i("ma9I"),i("TeQF"),i("BIHw"),i("XbcX"),i("yq1k"),i("4mDm"),i("2B1R"),i("Junv"),i("+2oP"),i("ToJy"),i("94Xl"),i("pDQq"),i("QGkA"),i("c9m3"),i("wZ/5"),i("rOQg"),i("9LPj"),i("7+zs"),i("tW5y"),i("DEfu"),i("Tskq"),i("I9xj"),i("w1rZ"),i("T63A"),i("wfmh"),i("27RR"),i("07d7"),i("B6y2"),i("5s+n"),i("p532"),i("pv2x"),i("SuFq"),i("PzqY"),i("rBZX"),i("XUE8"),i("nkod"),i("f3jH"),i("x2An"),i("25bX"),i("G/JM"),i("1t3B"),i("ftMj"),i("i5pp"),i("TWNs"),i("rB9j"),i("JfAA"),i("YGK4"),i("inlA"),i("JTJg"),i("Rm1S"),i("hDyC"),i("TZCg"),i("UxlC"),i("hByQ"),i("EnZy"),i("LKBx"),i("SYor"),i("HiXI"),i("7ueG"),i("z8NH"),i("SpvK"),i("/Yfv"),i("iwkZ"),i("FDzp"),i("XMab"),i("ilnZ"),i("hMMk"),i("+ywr"),i("moxL"),i("qXVe"),i("c162"),i("waxf"),i("0TkE"),i("Onu3"),i("1dYe"),i("IL/d"),i("gvgV"),i("6R/c"),i("YL0P"),i("X5Zq"),i("MoCz"),i("P8wP"),i("7JcK"),i("ypFw"),i("JaFt"),i("zSZm"),i("KVSy"),i("ZJ55"),i("IZzc"),i("s5qe"),i("cvf0"),i("ENF9"),i("H+LF"),i("66V8"),i("iIM6"),i("2tOg"),i("gYJb"),i("EDT/"),i("j+VE"),i("wgYD"),i("R3/m"),i("l/vG"),i("0q/z"),i("n5pg"),i("zu+z"),i("ihrJ"),i("Q7Pz"),i("unQa"),i("Vnov"),i("nIe3"),i("CUyW"),i("qc1c"),i("5921"),i("VOz1"),i("Thag"),i("9D6x"),i("cOPa"),i("vdRX"),i("KrxN"),i("SL6q"),i("lehK"),i("eO0o"),i("NqR8"),i("w7s6"),i("uWhJ"),i("WPzJ"),i("NV22"),i("ny8l"),i("a5/B"),i("vzwy"),i("pevA"),i("8go2"),i("DrvE"),i("kCkZ"),i("++zV"),i("Y4C7"),i("ZsH6"),i("vZi8"),i("5r1n"),i("sQ9d"),i("bdeN"),i("AwgR"),i("qgGA"),i("49+q"),i("AVoK"),i("hcok"),i("dNT4"),i("3uUd"),i("tijO"),i("1kQv"),i("ZY7T"),i("C1JJ"),i("lmH4"),i("Co1j"),i("5JV0"),i("ctDJ"),i("8r4s"),i("JwUS"),i("qaHo"),i("Si40"),i("BGb9"),i("fN96"),i("UzNg"),i("DhMN"),i("rZ3M"),i("apDx"),i("4XaG"),i("6V7H"),i("cfiF"),i("702D"),i("TJ79"),i("Z4nd"),i("8STE"),i("spTT"),i("rb3L"),i("FZtP"),i("3bBZ"),i("Ew+T"),i("n5b4"),i("Kz25"),i("vxnP"),i("mGGf"),i("ls82"),i("bZMm"),i("jRU7");var r=i("bdgK"),n=i("rfrl");window.ResizeObserver||(window.ResizeObserver=r.default),Object(n.c)()},1:function(t,e){},2:function(t,e){},3:function(t,e){},"3BIJ":function(t,e,i){"use strict";var r=i("/j5y"),n=i("rfmQ"),a=i("rj8Y"),s=i.n(a),o=i("w+cx"),h=i.n(o),l=i("TZBG"),c=i.n(l),u=i("HrR8"),d=i.n(u),f=i("d+Bv"),p=i("kUSa"),g=i("ZEor"),m=i("jr2+"),v=i("fnv9"),b=i("zpAd"),y=i("ceso"),x=i("RFKw"),w=function(t){return function(e){return e.status===t}},O=[{status:401,handler:function(){Object(x.c)(m.a+"/app/forcedLogout?locked")}}],C=s.a.ajax;function A(t){return!t.errorHandled}s.a.ajax=function(){var t,e=c()(arguments).find(function(t){return h()(t)});if(e&&e.error&&(t=e.error,e.error=d()(t,function(t,e){Object(p.a)(w(e.status),O)||t.call(this,e)})),e&&e.success){var i=e.success;e.success=function(){arguments&&arguments[2]&&arguments[2].getResponseHeader(f.a)?Object(b.d)():i.apply(this,arguments)}}return C.apply(s.a,arguments)},s.a.ajaxSetup({beforeSend:function(t,e){e&&e.ignoreGlobalHeaders||(t.setRequestHeader("X-API-Client-ID","YouMoney"),t.setRequestHeader("BNZAPI-Request-Id",Object(r.b)()))}}),s.a.ajaxPrefilter(function(){g.a.publish("jquery:ajaxPrefilter")}),s()(document).ajaxError(function(t,e,i,r){if(e.getResponseHeader(f.a))Object(b.d)();else if(function(t){var e=Object(v.a)(t);return 403===t.status&&e&&(-1!==e.indexOf("accountBlocked")||-1!==e.indexOf("accountInactive"))}(e)&&function(t){var e=Object(v.a)(t);e&&-1!==e.indexOf("accountBlocked")&&Object(x.c)(m.a+"/app/forcedLogout?blocked"),e&&-1!==e.indexOf("accountInactive")&&Object(x.c)(m.a+"/app/forcedLogout?inactive")}(e),A(e)){var a=Object(p.a)(w(e.status),O);a?a.handler():function(t,e){return e.validationError&&400===t.status}(e,i)?function(t,e){var i=e.model;if(i){var r={};try{var n=Object(v.a)(t);r=Object(y.a)(n)}catch(t){}e.validationError(i,r,t)}else e.validationError(t);t.errorHandled=!0}(e,i):function(t){return 0===t.status}(e)?function(t,e,i){var r=t?t.status:void 0,a=t?t.statusText:void 0,s=e?e.url:void 0;n.e.reportEvents([{id:"NoNetworkError",value:{status:r,statusText:a,url:s,error:i}}]),g.a.publish("noNetworkError:show")}(e,i,r):function(t){return 504===t.status}(e)?function(t){n.e.reportEvents([{id:"GatewayTimeout",value:{status:t.status}}]),g.a.publish("gatewayTimeout:show")}(e):function(t){var e=Object(v.a)(t);return!(403!==t.status||!e||-1===e.indexOf("netGuardBlocked"))||e&&-1!==e.indexOf("<title>Internet Banking Login")&&-1!==e.indexOf("three failed NetGuard attempts")}(e)?Object(x.c)(m.a+"/app/forcedLogout?netGuardBlocked"):function(t){var e=Object(v.a)(t);return t.status===f.g&&"1"===t.getResponseHeader(f.f)||e&&-1!==e.indexOf("<title>Internet Banking Login")}(e)?Object(b.i)():function(t){return 404===t.status}(e)?function(t,e){n.e.reportEvents([{id:"ResourceNotFound",value:{status:t.status,url:e.url}}]),g.a.publish("resourceNotFound:show"),t.errorHandled=!0}(e,i):function(t,e){return e.url.indexOf("/api/secondfactor")>-1&&(400===t.status||500===t.status)}(e,i)?function(t,e,i){n.e.reportEvents([{id:"NetGuardUnavailable",value:{status:t.status,thrownError:i,url:e.url}}]),g.a.publish("netGuardUnavailable:show")}(e,i,r):A(e)&&function(t,e,i){n.e.reportEvents([{id:"UnexpectedError",value:{status:t.status,thrownError:i,url:e.url}}]),g.a.publish("unexpectedError:show")}(e,i,r)}})},4:function(t,e){},"46jK":function(t,e,i){i("Ddwv"),i("5rpj"),i("qVU/"),i("9Js9"),i("/Yq6"),i("wkJS"),i("qZLJ"),i("rj8Y"),i("/aul"),i("aASc"),i("euXP"),i("Gy4/"),i("q1tI"),i("i8i4"),i("55Ip"),i("1h/R"),i("ANjH"),i("/MKj"),i("wQmL"),i("sINF"),i("TSYQ"),i("G4qV"),i("WJ2Z"),i("LXyg"),i("Xrd8"),i("je4i")},"5SX5":function(t,e,i){"use strict";e.a={referencesMap:{},setReference:function(t,e){this.referencesMap[t]=e},getReference:function(t){return this.referencesMap[t]},clearReferences:function(){this.referencesMap={}}}},GrDe:function(t,e,i){"use strict";i.d(e,"a",function(){return M}),i.d(e,"b",function(){return H}),i.d(e,"d",function(){return U}),i.d(e,"c",function(){return f});var r=i("gVSY"),n=i("17x9"),a=i.n(n),s=i("q1tI"),o={groups:{DEFAULT:{"LTKP-paperStatementsFee-temp-20210510":!1,"SPRIN-enrichedIntlTxnDetails-temp-20210803":!1,callEngagementsApi:!1,crs:!1,feedback:!1,mpSettings:!1,myProperty:!1,"Pennybags-kiwisaverContributionRate-temp-20220301":!1,projectIris:!1,projectMaritz:!1,saveAndRetrieve:!1,"SFX-linkToIntlClient-temp-20210726":!1,"SFX-showIntlTxnReport-temp-20211221":!1,tdOnlineRates:!0,tdRateLock:!0,wakaEnabled:!1,"Chowder-termDepositV3-temp-20210811":!1,"Chowder-termDepositV3Get-temp-20210909":!1,"Chowder-termDepositV3PutMaturityInst-temp-20211027":!1,"OO7-businessloansAlert-temp-20210514":!1,businessloansLumpSumPayments:!1},Chowder:{projectIris:!0},LightKeepers:{},PixelPerfect:{},SalesOptimisation:{increaseCardLimit:!0},Tahi:{},Wutang:{crs:!0},OO7:{},Springfield:{"SPRIN-enrichedIntlTxnDetails-temp-20210803":!0},A:{},B:{},C:{},D:{},DEMO:{demoMode:!0}},environments:{"dev72-olb":"Chowder","dev73-olb":"Chowder","dev75-olb":"LightKeepers",drljib75:"LightKeepers","dev78-olb":"LightKeepers",drljib78:"LightKeepers","dev89-olb":"LightKeepers",drljib89:"LightKeepers","dev90-olb":"LightKeepers",drljib90:"LightKeepers","dev54-olb":"PixelPerfect","dev55-olb":"PixelPerfect","dev19-olb":"SalesOptimisation","dev49-olb":"SpecialFX","dev03-olb":"Tahi","dev04-olb":"Tahi","dev18-olb":"Wutang","dev24-olb":"Wutang"}};function h(){var t=sessionStorage.getItem("featureFlags");return JSON.parse(t)}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={},d=function(t){u=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){c(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},t)},f=function(t){return Boolean(u[t])},p=i("nKUr");function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach(function(e){v(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var r,n,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);s=!0);}catch(t){o=!0,n=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var x=Object(s.createContext)(null),w="nz.co.bnz.session.customer:group",O=function(t){var e=b(t,2),i=e[0],r=e[1];return i.startsWith("nz.co.bnz.featureflag:")&&"true"===r},C=function(t){return b(t,1)[0].split(":").pop()},A=function(t,e){return m(m({},t),{},{[e]:!0})};function S(t){var e=t.children,i=t.initialState,n=Object(r.x)(),a=Object(s.useMemo)(function(){return i||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=window.location.hostname,i=e.substring(0,e.indexOf(".")),r=o.environments[i],n=t[w],a=Object.entries(t).filter(O).map(C).reduce(A,{}),s=h();return m(m(m(m(m({},o.groups.DEFAULT),o.groups[r]),o.groups[n]),a),s)}(n)},[]),l=Object(s.useState)(a),c=b(l,1)[0];return Object(s.useEffect)(function(){d(c)},[c]),Object(p.jsx)(x.Provider,{value:l,children:e})}S.propTypes={children:a.a.node.isRequired,initialState:a.a.object};var M=S,N=i("23WR"),D=i("KSu2"),T=i("fJZ+"),j=i("c6s5"),k=i("Ty5D");function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function B(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?P(Object(i),!0).forEach(function(e){R(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function R(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var r,n,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);s=!0);}catch(t){o=!0,n=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var E=function(){var t=Object(s.useContext)(x);if(!t)throw new Error("useFeatures must be used within a FeatureFlagProvider");var e=L(t,2),i=e[0],r=e[1];return Object(s.useMemo)(function(){return[i,function(t,e){!function(t){var e=JSON.stringify(t);sessionStorage.setItem("featureFlags",e)}(B(B({},h()),{},{[t]:e})),r(B(B({},i),{},{[t]:e}))}]},[i,r])};function F(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?F(Object(i),!0).forEach(function(e){G(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function G(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var r,n,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);s=!0);}catch(t){o=!0,n=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Y=function(){var t=Object(k.k)(),e=W(E(),2),i=e[0],r=e[1],n=Object(s.useCallback)(function(){t.push(z(z({},t.location),{},{pathname:"/"}))},[t]),a=Object(s.useCallback)(function(t,e){var i=e.value,n=e.checked;return r(i,n)},[r]);return Object(p.jsxs)(N.b,{isOpen:!0,width:500,testId:"FeatureView",children:[Object(p.jsx)(D.b,{onCloseClick:n,children:"Features"}),Object(p.jsx)(T.b,{children:Object(p.jsx)("ul",{children:Object.entries(i).sort().map(function(t){var e=W(t,2),i=e[0],r=e[1];return Object(p.jsx)("li",{children:Object(p.jsxs)("label",{children:[Object(p.jsx)(j.b,{checked:r,onChange:a,style:{marginRight:8},value:i}),i]})},i)})})})]})};Y.propTypes={};var H=Y;function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var r,n,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);s=!0);}catch(t){o=!0,n=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Z(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var U=function(t){var e=X(E(),1)[0];return Boolean(e[t])}},RFKw:function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"a",function(){return h}),i.d(e,"d",function(){return l}),i.d(e,"b",function(){return c});var r=i("5SX5");function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){window.location.replace(t)}function h(t){if(t.startsWith("/client/")){var e=r.a.getReference("history");e.push(a(a({},e.location),{},{pathname:t.substr(7)}))}else window.location.href=t}function l(){window.location.reload(!0)}function c(t,e){window.open(t,e)}},Xrd8:function(t,e,i){"use strict";if(i.r(e),!r)var r={};r.inheriting={},r.Class=function(t){var e=function(){arguments[0]!==r.inheriting&&(this.events={},this.construct.apply(this,arguments))};for(var i in t.inherits?(e.prototype=new t.inherits(r.inheriting),e.base=t.inherits.prototype,delete t.inherits):(e.prototype.createEvents=function(){for(var t=0,e=arguments.length;t<e;t++)this.events[arguments[t]]=[]},e.prototype.listenTo=function(t,e,i){t.events[e].push({handler:i,scope:this})},e.prototype.addListener=function(t,e,i){this.events[t].push({handler:e,scope:i})},e.prototype.removeListener=function(t,e,i){for(e=(t=t.events[e]).length-1;0<=e;e--)t[e].handler===i&&t.splice(e,1)},e.prototype.fire=function(t,e){for(var i=this.events[t],r=0,n=i.length;r<n;r++){var a=i[r];a.handler.call(a.scope,e)}}),t)e.prototype[i]=t[i];return e},r.charts=[],r.addChart=function(t){r.charts.push(t)},r.removeChart=function(t){for(var e=r.charts,i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1)},r.IEversion=0,-1!=navigator.appVersion.indexOf("MSIE")&&document.documentMode&&(r.IEversion=Number(document.documentMode)),(document.addEventListener||window.opera)&&(r.isNN=!0,r.isIE=!1,r.dx=.5,r.dy=.5),document.attachEvent&&(r.isNN=!1,r.isIE=!0,9>r.IEversion&&(r.dx=0,r.dy=0)),window.chrome&&(r.chrome=!0),r.handleResize=function(){for(var t=r.charts,e=0;e<t.length;e++){var i=t[e];i&&i.div&&i.handleResize()}},r.handleMouseUp=function(t){for(var e=r.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleReleaseOutside(t)}},r.handleMouseMove=function(t){for(var e=r.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleMouseMove(t)}},r.resetMouseOver=function(){for(var t=r.charts,e=0;e<t.length;e++){var i=t[e];i&&(i.mouseIsOver=!1)}},r.onReadyArray=[],r.ready=function(t){r.onReadyArray.push(t)},r.handleLoad=function(){for(var t=r.onReadyArray,e=0;e<t.length;e++)(0,t[e])()},r.useUTC=!1,r.updateRate=40,r.uid=0,r.getUniqueId=function(){return r.uid++,"AmChartsEl-"+r.uid},r.isNN&&(document.addEventListener("mousemove",r.handleMouseMove,!0),window.addEventListener("resize",r.handleResize,!0),document.addEventListener("mouseup",r.handleMouseUp,!0),window.addEventListener("load",r.handleLoad,!0)),r.isIE&&(document.attachEvent("onmousemove",r.handleMouseMove),window.attachEvent("onresize",r.handleResize),document.attachEvent("onmouseup",r.handleMouseUp),window.attachEvent("onload",r.handleLoad)),r.clear=function(){var t=r.charts;if(t)for(var e=0;e<t.length;e++)t[e].clear();r.charts=null,r.isNN&&(document.removeEventListener("mousemove",r.handleMouseMove,!0),window.removeEventListener("resize",r.handleResize,!0),document.removeEventListener("mouseup",r.handleMouseUp,!0),window.removeEventListener("load",r.handleLoad,!0)),r.isIE&&(document.detachEvent("onmousemove",r.handleMouseMove),window.detachEvent("onresize",r.handleResize),document.detachEvent("onmouseup",r.handleMouseUp),window.detachEvent("onload",r.handleLoad))},r.AmChart=r.Class({construct:function(){this.version="2.10.0",r.addChart(this),this.createEvents("dataUpdated","init"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.numberFormatter={precision:-1,decimalSeparator:".",thousandsSeparator:","},this.percentFormatter={precision:2,decimalSeparator:".",thousandsSeparator:","},this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[];var t=document.createElement("div"),e=t.style;e.overflow="hidden",e.position="relative",e.textAlign="left",this.chartDiv=t,(e=(t=document.createElement("div")).style).overflow="hidden",e.position="relative",e.textAlign="left",this.legendDiv=t,this.balloon=new r.AmBalloon,this.balloon.chart=this,this.titleHeight=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"Î¼"},{number:.001,prefix:"m"}],this.panEventsEnabled=!1,r.bezierX=3,r.bezierY=6,this.product="amcharts"},drawChart:function(){this.drawBackground(),this.redrawLabels(),this.drawTitles()},drawBackground:function(){r.remove(this.background);var t=this.container,e=this.backgroundColor,i=this.backgroundAlpha,n=this.set,a=this.updateWidth();this.realWidth=a;var s=this.updateHeight();this.realHeight=s,this.background=e=r.polygon(t,[0,a-1,a-1,0],[0,0,s-1,s-1],e,i,1,this.borderColor,this.borderAlpha),n.push(e),(e=this.backgroundImage)&&(this.path&&(e=this.path+e),this.bgImg=t=t.image(e,0,0,a,s),n.push(t))},drawTitles:function(){var t=this.titles;if(r.ifArray(t)){var e,i=20;for(e=0;e<t.length;e++){var n=t[e];void 0===(s=n.color)&&(s=this.color);var a=n.size;isNaN(n.alpha);var s,o=this.marginLeft;(s=r.text(this.container,n.text,s,this.fontFamily,a)).translate(o+(this.realWidth-this.marginRight-o)/2,i),o=!0,void 0!==n.bold&&(o=n.bold),o&&s.attr({"font-weight":"bold"}),i+=a+6,this.freeLabelsSet.push(s)}}},write:function(t){(r=this.balloon)&&!r.chart&&(r.chart=this),(t="object"!=typeof t?document.getElementById(t):t).innerHTML="",this.div=t,t.style.overflow="hidden",t.style.textAlign="left";var e,i,r=this.chartDiv,n=this.legendDiv,a=this.legend,s=n.style,o=r.style;if(this.measure(),a)switch(a.position){case"bottom":t.appendChild(r),t.appendChild(n);break;case"top":t.appendChild(n),t.appendChild(r);break;case"absolute":(i=(e=document.createElement("div")).style).position="relative",i.width=t.style.width,i.height=t.style.height,t.appendChild(e),s.position="absolute",o.position="absolute",void 0!==a.left&&(s.left=a.left+"px"),void 0!==a.right&&(s.right=a.right+"px"),void 0!==a.top&&(s.top=a.top+"px"),void 0!==a.bottom&&(s.bottom=a.bottom+"px"),a.marginLeft=0,a.marginRight=0,e.appendChild(r),e.appendChild(n);break;case"right":(i=(e=document.createElement("div")).style).position="relative",i.width=t.style.width,i.height=t.style.height,t.appendChild(e),s.position="relative",o.position="absolute",e.appendChild(r),e.appendChild(n);break;case"left":(i=(e=document.createElement("div")).style).position="relative",i.width=t.style.width,i.height=t.style.height,t.appendChild(e),s.position="absolute",o.position="relative",e.appendChild(r),e.appendChild(n);break;case"outside":t.appendChild(r)}else t.appendChild(r);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()},createLabelsSet:function(){r.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.divIsFixed=r.findIfFixed(this.chartDiv),this.previousHeight=this.realHeight,this.previousWidth=this.realWidth,this.destroy();var t=0;document.attachEvent&&!window.opera&&(t=1),this.dmouseX=this.dmouseY=0;var e=document.getElementsByTagName("html")[0];e&&window.getComputedStyle&&(e=window.getComputedStyle(e,null))&&(this.dmouseY=r.removePx(e.getPropertyValue("margin-top")),this.dmouseX=r.removePx(e.getPropertyValue("margin-left"))),this.mouseMode=t,this.container=new r.AmDraw(this.chartDiv,this.realWidth,this.realHeight),(r.VML||r.SVG)&&(t=this.container,this.set=t.set(),this.gridSet=t.set(),this.graphsBehindSet=t.set(),this.bulletBehindSet=t.set(),this.columnSet=t.set(),this.graphsSet=t.set(),this.trendLinesSet=t.set(),this.axesLabelsSet=t.set(),this.axesSet=t.set(),this.cursorSet=t.set(),this.scrollbarsSet=t.set(),this.bulletSet=t.set(),this.freeLabelsSet=t.set(),this.balloonsSet=t.set(),this.balloonsSet.setAttr("id","balloons"),this.zoomButtonSet=t.set(),this.linkSet=t.set(),this.drb(),this.renderFix())},measure:function(){var t=this.div,e=this.chartDiv,i=t.offsetWidth,n=t.offsetHeight,a=this.container;t.clientHeight&&(i=t.clientWidth,n=t.clientHeight);var s=r.removePx(r.getStyle(t,"padding-left")),o=r.removePx(r.getStyle(t,"padding-right")),h=r.removePx(r.getStyle(t,"padding-top")),l=r.removePx(r.getStyle(t,"padding-bottom"));isNaN(s)||(i-=s),isNaN(o)||(i-=o),isNaN(h)||(n-=h),isNaN(l)||(n-=l),t=(s=t.style).width,s=s.height,-1!=t.indexOf("px")&&(i=r.removePx(t)),-1!=s.indexOf("px")&&(n=r.removePx(s)),t=r.toCoordinate(this.width,i),s=r.toCoordinate(this.height,n),t==this.previousWidth&&s==this.previousHeight||(e.style.width=t+"px",e.style.height=s+"px",a&&a.setSize(t,s),this.balloon.setBounds(2,2,t-2,s)),this.realWidth=t,this.realHeight=s,this.divRealWidth=i,this.divRealHeight=n},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts()},clearTimeOuts:function(){var t,e=this.timeOuts;if(e)for(t=0;t<e.length;t++)clearTimeout(e[t]);this.timeOuts=[]},clear:function(t){r.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||r.removeChart(this)},setMouseCursor:function(t){"auto"==t&&r.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var t,e=this.allLabels;for(this.createLabelsSet(),t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(t){if(this.container){var e=t.y,i=t.text,n=t.align,a=t.size,s=t.color,o=t.rotation,h=t.alpha,l=t.bold,c=r.toCoordinate(t.x,this.realWidth);e=r.toCoordinate(e,this.realHeight);c||(c=0),e||(e=0),void 0===s&&(s=this.color),isNaN(a)&&(a=this.fontSize),n||(n="start"),"left"==n&&(n="start"),"right"==n&&(n="end"),"center"==n&&(n="middle",o?e=this.realHeight-e+e/2:c=this.realWidth/2-c),void 0===h&&(h=1),void 0===o&&(o=0),e+=a/2,(i=r.text(this.container,i,s,this.fontFamily,a,n,l,h)).translate(c,e),0!==o&&i.rotate(o),t.url&&(i.setAttr("cursor","pointer"),i.click(function(){r.getURL(t.url)})),this.labelsSet.push(i),this.labels.push(i)}},addLabel:function(t,e,i,r,n,a,s,o,h,l){t={x:t,y:e,text:i,align:r,size:n,color:a,alpha:o,rotation:s,bold:h,url:l},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight;if(e=this.legend){var e,i=this.legendDiv.offsetHeight;"top"!=(e=e.position)&&"bottom"!=e||(0>(t-=i)&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight;if(i=this.legend){var i,r=(a=this.legendDiv).offsetWidth,n=a.offsetHeight,a=a.style,s=this.chartDiv.style;"right"!=(i=i.position)&&"left"!=i||(0>(t-=r)&&(t=0),s.width=t+"px","left"==i?s.left=r+"px":a.left=t+"px",a.top=(e-n)/2+"px")}return t},getTitleHeight:function(){var t=0,e=this.titles;if(0<e.length){var i;t=15;for(i=0;i<e.length;i++)t+=e[i].size+6}return t},addTitle:function(t,e,i,r,n){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:r,bold:n},this.titles.push(t),t},addListeners:function(){var t=this,e=t.chartDiv;r.isNN&&(t.panEventsEnabled&&"ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchMove.call(t,e),t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleTouchMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0)),e.addEventListener("mousedown",function(e){t.handleMouseDown.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0)),r.isIE&&(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){var t;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,t="dataUpdated",this.fire(t,{type:t,chart:this})),this.chartCreated||(t="init",this.fire(t,{type:t,chart:this}))},drb:function(){},validateSize:function(){var t=this;t.measure();var e=t.legend;if((t.realWidth!=t.previousWidth||t.realHeight!=t.previousHeight)&&0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},100);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated=!1,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},150),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix()},invalidateSize:function(){var t=this;t.previousWidth=NaN,t.previousHeight=NaN,t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(){this.listenersAdded=!1,this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},80)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide()},showBalloon:function(t,e,i,r,n){var a=this;clearTimeout(a.balloonTO),a.balloonTO=setTimeout(function(){a.showBalloonReal.call(a,t,e,i,r,n)},1)},showBalloonReal:function(t,e,i,r,n){this.handleMouseMove();var a=this.balloon;a.enabled&&(a.followCursor(!1),a.changeColor(e),i||a.setPosition(r,n),a.followCursor(i),t&&a.showBalloon(t))},handleTouchMove:function(t){this.hideBalloon();var e=this.chartDiv;t.touches&&(t=t.touches.item(0),this.mouseX=t.pageX-r.findPosX(e),this.mouseY=t.pageY-r.findPosY(e))},handleMouseOver:function(){r.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){r.resetMouseOver(),this.mouseIsOver=!1},handleMouseMove:function(t){if(this.mouseIsOver){var e,i,n=this.chartDiv;if(t||(t=window.event),t){switch(this.posX=r.findPosX(n),this.posY=r.findPosY(n),this.mouseMode){case 1:var a,s;if(e=t.clientX-this.posX,i=t.clientY-this.posY,!this.divIsFixed)(t=document.body)&&(a=t.scrollLeft,y1=t.scrollTop),(t=document.documentElement)&&(s=t.scrollLeft,y2=t.scrollTop),e+=a=Math.max(a,s),i+=s=Math.max(y1,y2);break;case 0:this.divIsFixed?(e=t.clientX-this.posX,i=t.clientY-this.posY):(e=t.pageX-this.posX,i=t.pageY-this.posY)}this.mouseX=e-this.dmouseX,this.mouseY=i-this.dmouseY}}},handleTouchStart:function(t){this.handleMouseDown(t)},handleTouchEnd:function(t){r.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){r.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&t.preventDefault()},addLegend:function(t,e){var i;r.extend(t,new r.AmLegend),i="object"!=typeof e?document.getElementById(e):e,this.legend=t,t.chart=this,i?(t.div=i,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,i=this.handleLegendEvent,this.listenTo(t,"showItem",i),this.listenTo(t,"hideItem",i),this.listenTo(t,"clickMarker",i),this.listenTo(t,"rollOverItem",i),this.listenTo(t,"rollOutItem",i),this.listenTo(t,"rollOverMarker",i),this.listenTo(t,"rollOutMarker",i),this.listenTo(t,"clickLabel",i)},removeLegend:function(){this.legend=void 0,this.legendDiv.innerHTML=""},handleResize:function(){(r.isPercents(this.width)||r.isPercents(this.height))&&this.invalidateSize(),this.renderFix()},renderFix:function(){if(!r.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(r.hasSVG)return this.container}}),r.Slice=r.Class({construct:function(){}}),r.SerialDataItem=r.Class({construct:function(){}}),r.GraphDataItem=r.Class({construct:function(){}}),r.Guide=r.Class({construct:function(){}}),r.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(t)}},r.removeFromArray=function(t,e){var i;for(i=t.length-1;0<=i;i--)t[i]==e&&t.splice(i,1)},r.getStyle=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]),i},r.removePx=function(t){return Number(t.substring(0,t.length-2))},r.getURL=function(t,e){if(t)if("_self"!=e&&e)if("_top"==e&&window.top)window.top.location.href=t;else if("_parent"==e&&window.parent)window.parent.location.href=t;else{var i=document.getElementsByName(e)[0];i?i.src=t:window.open(t)}else window.location.href=t},r.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),r=String(i);10>i&&(r="00"+i),10<=i&&100>i&&(r="0"+i),t=t.replace(/fff/g,r)}return t},r.ifArray=function(t){return!!(t&&0<t.length)},r.callMethod=function(t,e){var i;for(i=0;i<e.length;i++){var r=e[i];if(r){r[t]&&r[t]();var n,a=r.length;if(0<a)for(n=0;n<a;n++){var s=r[n];s&&s[t]&&s[t]()}}}},r.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},r.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){var e;for(t=t.split(","),e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t="#"+(t=t.substring(t.length-6,t.length));return t},r.toCoordinate=function(t,e,i){var r;return void 0!==t&&(t=String(t),i&&i<e&&(e=i),r=Number(t),-1!=t.indexOf("!")&&(r=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(r=e*Number(t.substr(0,t.length-1))/100)),r},r.fitToBounds=function(t,e,i){return t<e&&(t=e),t>i&&(t=i),t},r.isDefined=function(t){return void 0!==t},r.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},r.extractPeriod=function(t){var e=r.stripNumbers(t),i=1;return e!=t&&(i=Number(t.slice(0,t.indexOf(e)))),{period:e,count:i}},r.resetDateToMin=function(t,e,i,r){void 0===r&&(r=1);var n=t.getFullYear(),a=t.getMonth(),s=t.getDate(),o=t.getHours(),h=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds();switch(t=t.getDay(),e){case"YYYY":n=Math.floor(n/i)*i,a=0,s=1,c=l=h=o=0;break;case"MM":a=Math.floor(a/i)*i,s=1,c=l=h=o=0;break;case"WW":0===t&&0<r&&(t=7),s=s-t+r,c=l=h=o=0;break;case"DD":s=Math.floor(s/i)*i,c=l=h=o=0;break;case"hh":o=Math.floor(o/i)*i,c=l=h=0;break;case"mm":h=Math.floor(h/i)*i,c=l=0;break;case"ss":l=Math.floor(l/i)*i,c=0;break;case"fff":c=Math.floor(c/i)*i}return new Date(n,a,s,o,h,l,c)},r.getPeriodDuration=function(t,e){var i;switch(void 0===e&&(e=1),t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},r.roundTo=function(t,e){if(0>e)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},r.toFixed=function(t,e){var i=String(Math.round(t*Math.pow(10,e)));if(0<e){var r,n=i.length;if(n<e)for(r=0;r<e-n;r++)i="0"+i;return""===(n=i.substring(0,i.length-e))&&(n=0),n+"."+i.substring(i.length-e,i.length)}return String(i)},r.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},r.getMaxInterval=function(t,e){var i=r.intervals;return t>=i[e].contains?(t=Math.round(t/i[e].contains),e=i[e].nextInterval,r.getMaxInterval(t,e)):"ss"==e?i[e].nextInterval:e},r.formatDuration=function(t,e,i,n,a,s){var o=r.intervals,h=s.decimalSeparator;if(t>=o[e].contains){var l=t-Math.floor(t/o[e].contains)*o[e].contains;return"ss"==e&&(1==(l=r.formatNumber(l,s)).split(h)[0].length&&(l="0"+l)),("mm"==e||"hh"==e)&&10>l&&(l="0"+l),i=l+""+n[e]+i,t=Math.floor(t/o[e].contains),e=o[e].nextInterval,r.formatDuration(t,e,i,n,a,s)}if("ss"==e&&(1==(t=r.formatNumber(t,s)).split(h)[0].length&&(t="0"+t)),("mm"==e||"hh"==e)&&10>t&&(t="0"+t),i=t+""+n[e]+i,o[a].count>o[e].count)for(t=o[e].count;t<o[a].count;t++)"ss"==(e=o[e].nextInterval)||"mm"==e||"hh"==e?i="00"+n[e]+i:"DD"==e&&(i="0"+n[e]+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i},r.formatNumber=function(t,e,i,n,a){t=r.roundTo(t,e.precision),isNaN(i)&&(i=e.precision);var s,o=e.decimalSeparator;e=e.thousandsSeparator,s=0>t?"-":"",t=Math.abs(t);var h=!1;-1!=(u=String(t)).indexOf("e")&&(h=!0),0<=i&&0!==t&&!h&&(u=r.toFixed(t,i));var l="";if(h)l=u;else{var c,u=u.split(".");for(c=(h=String(u[0])).length;0<=c;c-=3)l=c!=h.length?0!==c?h.substring(c-3,c)+e+l:h.substring(c-3,c)+l:h.substring(c-3,c);void 0!==u[1]&&(l=l+o+u[1]),void 0!==i&&0<i&&"0"!=l&&(l=r.addZeroes(l,o,i))}return l=s+l,""===s&&!0===n&&0!==t&&(l="+"+l),!0===a&&(l+="%"),l},r.addZeroes=function(t,e,i){return void 0===(t=t.split(e))[1]&&0<i&&(t[1]="0"),t[1].length<i?(t[1]+="0",r.addZeroes(t[0]+e+t[1],e,i)):void 0!==t[1]?t[0]+e+t[1]:t[0]},r.scientificToNormal=function(t){var e,i;if("-"==(t=String(t).split("e"))[1].substr(0,1)){for(e="0.",i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var r=0;for((e=t[0].split("."))[1]&&(r=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-r;i++)e+="0"}return e},r.toScientific=function(t,e){if(0===t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return Math.pow(10,i),mantissa=String(mantissa).split(".").join(e),String(mantissa)+"e"+i},r.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},r.hitTest=function(t,e,i){var n=!1,a=t.x,s=t.x+t.width,o=t.y,h=t.y+t.height,l=r.isInRectangle;return n||(n=l(a,o,e)),n||(n=l(a,h,e)),n||(n=l(s,o,e)),n||(n=l(s,h,e)),!n&&!0!==i&&(n=r.hitTest(e,t,!0)),n},r.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5},r.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},r.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),r.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),r.monthNames="January February March April May June July August September October November December".split(" "),r.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),r.getWeekNumber=function(t){(t=new Date(t)).setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},r.formatDate=function(t,e){var i,n,a,s,o,h,l,c,u=r.getWeekNumber(t);r.useUTC?(i=t.getUTCFullYear(),n=t.getUTCMonth(),a=t.getUTCDate(),s=t.getUTCDay(),o=t.getUTCHours(),h=t.getUTCMinutes(),l=t.getUTCSeconds(),c=t.getUTCMilliseconds()):(i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),s=t.getDay(),o=t.getHours(),h=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds());var d=String(i).substr(2,2),f=n+1;9>n&&(f="0"+f);var p=a;10>a&&(p="0"+a);var g="0"+s;e=e.replace(/W/g,u),24==(u=o)&&(u=0);var m=u;return 10>m&&(m="0"+m),e=(e=e.replace(/JJ/g,m)).replace(/J/g,u),0===(u=o)&&(u=24),10>(m=u)&&(m="0"+m),e=(e=e.replace(/HH/g,m)).replace(/H/g,u),11<(u=o)&&(u-=12),10>(m=u)&&(m="0"+m),e=(e=e.replace(/KK/g,m)).replace(/K/g,u),0===(u=o)&&(u=12),12<u&&(u-=12),10>(m=u)&&(m="0"+m),e=(e=e.replace(/LL/g,m)).replace(/L/g,u),10>(u=h)&&(u="0"+u),e=(e=e.replace(/NN/g,u)).replace(/N/g,h),10>(h=l)&&(h="0"+h),e=(e=e.replace(/SS/g,h)).replace(/S/g,l),10>(l=c)&&(l="00"+l),100>l&&(l="0"+l),10>(h=c)&&(h="00"+h),e=(e=(e=e.replace(/QQQ/g,l)).replace(/QQ/g,h)).replace(/Q/g,c),(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=12>o?e.replace(/A/g,"am"):e.replace(/A/g,"pm")).replace(/YYYY/g,"@IIII@")).replace(/YY/g,"@II@")).replace(/MMMM/g,"@XXXX@")).replace(/MMM/g,"@XXX@")).replace(/MM/g,"@XX@")).replace(/M/g,"@X@")).replace(/DD/g,"@RR@")).replace(/D/g,"@R@")).replace(/EEEE/g,"@PPPP@")).replace(/EEE/g,"@PPP@")).replace(/EE/g,"@PP@")).replace(/E/g,"@P@")).replace(/@IIII@/g,i)).replace(/@II@/g,d)).replace(/@XXXX@/g,r.monthNames[n])).replace(/@XXX@/g,r.shortMonthNames[n])).replace(/@XX@/g,f)).replace(/@X@/g,n+1)).replace(/@RR@/g,p)).replace(/@R@/g,a)).replace(/@PPPP@/g,r.dayNames[s])).replace(/@PPP@/g,r.shortDayNames[s])).replace(/@PP@/g,g)).replace(/@P@/g,s)},r.findPosX=function(t){var e=t,i=t.offsetLeft;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetLeft;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollLeft||0}return i},r.findPosY=function(t){var e=t,i=t.offsetTop;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetTop;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollTop||0}return i},r.findIfFixed=function(t){if(t.offsetParent)for(;t=t.offsetParent;)if("fixed"==r.getStyle(t,"position"))return!0;return!1},r.findIfAuto=function(t){return!(!t.style||"auto"!=r.getStyle(t,"overflow"))||!!t.parentNode&&r.findIfAuto(t.parentNode)},r.findScrollLeft=function(t,e){return t.scrollLeft&&(e+=t.scrollLeft),t.parentNode?r.findScrollLeft(t.parentNode,e):e},r.findScrollTop=function(t,e){return t.scrollTop&&(e+=t.scrollTop),t.parentNode?r.findScrollTop(t.parentNode,e):e},r.formatValue=function(t,e,i,n,a,s,o,h){var l;if(e)for(void 0===a&&(a=""),l=0;l<i.length;l++){var c=i[l],u=e[c];void 0!==u&&(u=s?r.addPrefix(u,h,o,n):r.formatNumber(u,n),t=t.replace(RegExp("\\[\\["+a+c+"\\]\\]","g"),u))}return t},r.formatDataContextValue=function(t,e){if(t){var i,r=t.match(/\[\[.*?\]\]/g);for(i=0;i<r.length;i++){var n;void 0!==e[n=(n=r[i]).substr(2,n.length-4)]&&(t=t.replace(RegExp("\\[\\["+n+"\\]\\]","g"),e[n]))}}return t},r.massReplace=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];void 0===r&&(r=""),t=t.replace(i,r)}return t},r.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},r.addPrefix=function(t,e,i,n,a){var s,o,h,l=r.formatNumber(t,n),c="";if(0===t)return"0";if(0>t&&(c="-"),1<(t=Math.abs(t))){for(s=e.length-1;-1<s;s--)if(t>=e[s].number&&(o=t/e[s].number,1>(h=Number(n.precision))&&(h=1),i=r.roundTo(o,h),!a||o==i)){l=c+""+i+e[s].prefix;break}}else for(s=0;s<i.length;s++)if(t<=i[s].number){o=t/i[s].number,h=Math.abs(Math.round(Math.log(o)*Math.LOG10E)),l=c+""+(o=r.roundTo(o,h))+i[s].prefix;break}return l},r.remove=function(t){t&&t.remove()},r.copyProperties=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"events"!=i&&void 0!==t[i]&&"function"!=typeof t[i]&&(e[i]=t[i])},r.recommended=function(){var t="js";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(t="flash"),t},r.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},r.extend=function(t,e){for(var i in e)void 0!==e[i]&&void 0===t[i]&&(t[i]=e[i])},r.fixNewLines=function(t){return 9>r.IEversion&&0<r.IEversion&&(t=r.massReplace(t,{"\n":"\r"})),t},r.deleteObject=function(t,e){if(t&&(void 0!==e&&null!==e||(e=20),0!=e))if("[object Array]"===Object.prototype.toString.call(t))for(var i=0;i<t.length;i++)r.deleteObject(t[i],e-1),t[i]=null;else try{for(i in t)t[i]&&("object"==typeof t[i]&&r.deleteObject(t[i],e-1),"function"!=typeof t[i]&&(t[i]=null))}catch(t){}},r.changeDate=function(t,e,i,r,n){var a=-1;switch(void 0===r&&(r=!0),void 0===n&&(n=!1),!0===r&&(a=1),e){case"YYYY":t.setFullYear(t.getFullYear()+i*a),!r&&!n&&t.setDate(t.getDate()+1);break;case"MM":t.setMonth(t.getMonth()+i*a),!r&&!n&&t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+i*a);break;case"WW":t.setDate(t.getDate()+7*i*a+1);break;case"hh":t.setHours(t.getHours()+i*a);break;case"mm":t.setMinutes(t.getMinutes()+i*a);break;case"ss":t.setSeconds(t.getSeconds()+i*a);break;case"fff":t.setMilliseconds(t.getMilliseconds()+i*a)}return t},r.Bezier=r.Class({construct:function(t,e,i,n,a,s,o,h,l,c){for("object"==typeof o&&(o=o[0]),"object"==typeof h&&(h=h[0]),s={fill:o,"fill-opacity":h,"stroke-width":s},void 0!==l&&0<l&&(s["stroke-dasharray"]=l),isNaN(a)||(s["stroke-opacity"]=a),n&&(s.stroke=n),n="M"+Math.round(e[0])+","+Math.round(i[0]),a=[],l=0;l<e.length;l++)a.push({x:Number(e[l]),y:Number(i[l])});1<a.length&&(e=this.interpolate(a),n+=this.drawBeziers(e)),c?n+=c:r.VML||(n+="M0,0 L0,0"),this.path=t.path(n).attr(s)},interpolate:function(t){var e=[];e.push({x:t[0].x,y:t[0].y});var i,n=t[1].x-t[0].x,a=t[1].y-t[0].y,s=r.bezierX,o=r.bezierY;for(e.push({x:t[0].x+n/s,y:t[0].y+a/o}),i=1;i<t.length-1;i++){var h=t[i-1],l=t[i];n=(a=t[i+1]).x-l.x,a=a.y-h.y;(h=l.x-h.x)>n&&(h=n),e.push({x:l.x-h/s,y:l.y-a/o}),e.push({x:l.x,y:l.y}),e.push({x:l.x+h/s,y:l.y+a/o})}return a=t[t.length-1].y-t[t.length-2].y,n=t[t.length-1].x-t[t.length-2].x,e.push({x:t[t.length-1].x-n/s,y:t[t.length-1].y-a/o}),e.push({x:t[t.length-1].x,y:t[t.length-1].y}),e},drawBeziers:function(t){var e,i="";for(e=0;e<(t.length-1)/3;e++)i+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return i},drawBezierMidpoint:function(t,e,i,r){var n=Math.round,a=this.getPointOnSegment(t,e,.75),s=this.getPointOnSegment(r,i,.75),o=(r.x-t.x)/16,h=(r.y-t.y)/16,l=this.getPointOnSegment(t,e,.375);return(t=this.getPointOnSegment(a,s,.375)).x-=o,t.y-=h,(e=this.getPointOnSegment(s,a,.375)).x+=o,e.y+=h,i=this.getPointOnSegment(r,i,.375),o=this.getMiddle(l,t),a=this.getMiddle(a,s),s=this.getMiddle(e,i),l=" Q"+n(l.x)+","+n(l.y)+","+n(o.x)+","+n(o.y),l+=" Q"+n(t.x)+","+n(t.y)+","+n(a.x)+","+n(a.y),(l+=" Q"+n(e.x)+","+n(e.y)+","+n(s.x)+","+n(s.y))+" Q"+n(i.x)+","+n(i.y)+","+n(r.x)+","+n(r.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}}),r.Cuboid=r.Class({construct:function(t,e,i,r,n,a,s,o,h,l,c,u,d){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=r,this.dy=n,this.colors=a,this.alpha=s,this.bwidth=o,this.bcolor=h,this.balpha=l,this.colors=a,d?0>e&&0===c&&(c=180):0>i&&270==c&&(c=90),this.gradientRotation=c,0===r&&0===n&&(this.cornerRadius=u),this.draw()},draw:function(){var t=this.set;t.clear();var e,i,n,a,s,o,h,l,c,u=this.container,d=this.w,f=this.h,p=this.dx,g=this.dy,m=this.colors,v=this.alpha,b=this.bwidth,y=this.bcolor,x=this.balpha,w=this.gradientRotation,O=this.cornerRadius,C=m,A=m;for("object"==typeof m&&(C=m[0],A=m[m.length-1]),(0<p||0<g)&&(h=A,A=r.adjustLuminosity(C,-.2),A=r.adjustLuminosity(C,-.2),e=r.polygon(u,[0,p,d+p,d,0],[0,g,g,0,0],A,v,0,0,0,w),0<x&&(c=r.line(u,[0,p,d+p],[0,g,g],y,x,b)),(i=r.polygon(u,[0,0,d,d,0],[0,f,f,0,0],A,v,0,0,0,0,w)).translate(p,g),0<x&&(n=r.line(u,[p,p],[g,g+f],y,1,b)),a=r.polygon(u,[0,0,p,p,0],[0,f,f+g,g,0],A,v,0,0,0,w),s=r.polygon(u,[d,d,d+p,d+p,d],[0,f,f+g,g,0],A,v,0,0,0,w),0<x&&(o=r.line(u,[d,d+p,d+p,d],[0,g,f+g,f],y,x,b)),A=r.adjustLuminosity(h,.2),h=r.polygon(u,[0,p,d+p,d,0],[f,f+g,f+g,f,f],A,v,0,0,0,w),0<x&&(l=r.line(u,[0,p,d+p],[f,f+g,f+g],y,x,b))),1>Math.abs(f)&&(f=0),1>Math.abs(d)&&(d=0),u=0===f?r.line(u,[0,d],[0,0],C,x,b):0===d?r.line(u,[0,0],[0,f],C,x,b):0<O?r.rect(u,d,f,m,v,b,y,x,O,w):r.polygon(u,[0,0,d,d,0],[0,f,f,0,0],m,v,b,y,x,w),f=0>f?[e,c,i,n,a,s,o,h,l,u]:[h,l,i,n,a,s,e,c,o,u],e=0;e<f.length;e++)(i=f[e])&&t.push(i)},width:function(t){this.w=t,this.draw()},height:function(t){this.h=t,this.draw()},animateHeight:function(t,e){var i=this;i.easing=e,i.totalFrames=1e3*t/r.updateRate,i.rh=i.h,i.frame=0,i.height(1),setTimeout(function(){i.updateHeight.call(i)},r.updateRate)},updateHeight:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rh-1,e),t.height(e),setTimeout(function(){t.updateHeight.call(t)},r.updateRate))},animateWidth:function(t,e){var i=this;i.easing=e,i.totalFrames=1e3*t/r.updateRate,i.rw=i.w,i.frame=0,i.width(1),setTimeout(function(){i.updateWidth.call(i)},r.updateRate)},updateWidth:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rw-1,e),t.width(e),setTimeout(function(){t.updateWidth.call(t)},r.updateRate))}}),r.AmLegend=r.Class({construct:function(){this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.dateFormat="DD-MM-YYYY",this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.showEntries=!0},setData:function(t){this.data=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],r.ifArray(this.data)&&this.drawLegend()},drawLegend:function(){var t=this.chart,e=this.position,i=this.width,n=t.divRealWidth,a=t.divRealHeight,s=this.div,o=this.data;if(isNaN(this.fontSize)&&(this.fontSize=t.fontSize),"right"==e||"left"==e)this.maxColumns=1,this.marginLeft=this.marginRight=10;else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var h=t.autoMarginOffset;"bottom"==e?(this.marginBottom=h,this.marginTop=0):(this.marginTop=h,this.marginBottom=0)}if(i=void 0!==i?r.toCoordinate(i,n):t.realWidth,"outside"==e?(i=s.offsetWidth,a=s.offsetHeight,s.clientHeight&&(i=s.clientWidth,a=s.clientHeight)):(s.style.width=i+"px",s.className="amChartsLegend"),this.divWidth=i,this.container=new r.AmDraw(s,i,a),this.lx=0,this.ly=8,(e=this.markerSize)>this.fontSize&&(this.ly=e/2-1),0<e&&(this.lx+=e+this.markerLabelGap),this.titleWidth=0,(e=this.title)&&((t=r.text(this.container,e,this.color,t.fontFamily,this.fontSize,"start",!0)).translate(0,this.marginTop+this.verticalGap+this.ly+1),t=t.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<o.length;t++)this.createEntry(o[t]);for(t=this.index=0;t<o.length;t++)this.createValue(o[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,i=this.marginRight,n=this.marginTop,a=this.marginBottom,s=this.horizontalGap,o=this.div,h=this.divWidth,l=this.maxColumns,c=this.verticalGap,u=this.spacing,d=h-i-e,f=0,p=0,g=this.container,m=g.set();this.set=m,g=g.set(),m.push(g);var v,b,y=this.entries;for(b=0;b<y.length;b++){var x=(v=y[b].getBBox()).width;x>f&&(f=x),(v=v.height)>p&&(p=v)}var w=x=0,O=s;for(b=0;b<y.length;b++){var C,A=y[b];this.reversedOrder&&(A=y[y.length-b-1]),v=A.getBBox(),this.equalWidths?C=s+w*(f+u+this.markerLabelGap):(C=O,O=O+v.width+s+u),C+v.width>d&&0<b&&0!=w&&(x++,w=0,O=(C=s)+v.width+s+u,skipNewRow=!0),A.translate(C,(p+c)*x),w++,!isNaN(l)&&w>=l&&(w=0,x++),g.push(A)}l=(v=g.getBBox()).height+2*c-1,"left"==t||"right"==t?(h=v.width+2*s,o.style.width=h+e+i+"px"):h=h-e-i-1,i=r.polygon(this.container,[0,h,h,0],[0,0,l,l],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),m.push(i),m.translate(e,n),i.toBack(),e=s,"top"!=t&&"bottom"!=t&&"absolute"!=t&&"outside"!=t||("center"==this.align?e=s+(h-v.width)/2:"right"==this.align&&(e=s+h-v.width)),g.translate(e,c+1),this.titleHeight>l&&(l=this.titleHeight),0>(t=l+n+a+1)&&(t=0),o.style.height=Math.round(t)+"px"},createEntry:function(t){if(!1!==t.visibleInLegend){var e=this.chart,i=t.markerType;i||(i=this.markerType);var n=t.color,a=t.alpha;t.legendKeyColor&&(n=t.legendKeyColor()),t.legendKeyAlpha&&(a=t.legendKeyAlpha()),!0===t.hidden&&(n=this.markerDisabledColor);var s=this.createMarker(i,n,a);this.addListeners(s,t),a=this.container.set([s]),this.switchable&&a.setAttr("cursor","pointer");var o,h=this.switchType;if(h)(o="x"==h?this.createX():this.createV()).dItem=t,!0!==t.hidden?"x"==h?o.hide():o.show():"x"!=h&&o.hide(),this.switchable||o.hide(),this.addListeners(o,t),t.legendSwitch=o,a.push(o);h=this.color,t.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(h=this.selectedColor),this.useMarkerColorForLabels&&(h=n),!0===t.hidden&&(h=this.markerDisabledColor);n=r.massReplace(this.labelText,{"[[title]]":t.title});var l,c=this.fontSize,u=this.markerSize;if(s&&u<=c){var d=0;"bubble"!=i&&"circle"!=i||(d=u/2),i=d+this.ly-c/2+(c+2-u)/2,s.translate(d,i),o&&o.translate(d,i)}n&&((l=r.text(this.container,n,h,e.fontFamily,c,"start")).translate(this.lx,this.ly),a.push(l),e=l.getBBox().width,this.maxLabelWidth<e&&(this.maxLabelWidth=e)),this.entries[this.index]=a,t.legendEntry=this.entries[this.index],t.legendLabel=l,this.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(){i.rollOverMarker(e)}).mouseout(function(){i.rollOutMarker(e)}).click(function(){i.clickMarker(e)})},rollOverMarker:function(t){this.switchable&&this.dispatch("rollOverMarker",t),this.dispatch("rollOverItem",t)},rollOutMarker:function(t){this.switchable&&this.dispatch("rollOutMarker",t),this.dispatch("rollOutItem",t)},clickMarker:function(t){this.switchable?!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t):this.textClickEnabled&&this.dispatch("clickMarker",t)},rollOverLabel:function(t){t.hidden||(this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t))},rollOutLabel:function(t){if(!t.hidden){if(this.textClickEnabled&&t.legendLabel){var e=this.color;void 0!==this.selectedColor&&t.showBalloon&&(e=this.selectedColor),this.useMarkerColorForLabels&&(void 0===(e=t.lineColor)&&(e=t.color)),t.legendLabel.attr({fill:e})}this.dispatch("rollOutItem",t)}},clickLabel:function(t){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t))},dispatch:function(t,e){this.fire(t,{type:t,dataItem:e,target:this,chart:this.chart})},createValue:function(t){var e=this,i=e.fontSize;if(!1!==t.visibleInLegend){var n=e.maxLabelWidth;e.equalWidths||(e.valueAlign="left"),"left"==e.valueAlign&&(n=t.legendEntry.getBBox().width);var a=n;if(e.valueText){var s=e.color;e.useMarkerColorForValues&&(s=t.color,t.legendKeyColor&&(s=t.legendKeyColor())),!0===t.hidden&&(s=e.markerDisabledColor);var o=e.valueText,h=(n=n+e.lx+e.markerLabelGap+e.valueWidth,"end");"left"==e.valueAlign&&(n-=e.valueWidth,h="start"),(s=r.text(e.container,o,s,e.chart.fontFamily,i,h)).translate(n,e.ly),e.entries[e.index].push(s),a+=e.valueWidth+2*e.markerLabelGap,s.dItem=t,e.valueLabels.push(s)}e.index++,(s=e.markerSize)<i+7&&(s=i+7,r.VML&&(s+=3)),(i=e.container.rect(e.markerSize,0,a,s,0,0).attr({stroke:"none",fill:"#ffffff","fill-opacity":.005})).dItem=t,e.entries[e.index-1].push(i),i.mouseover(function(){e.rollOverLabel(t)}).mouseout(function(){e.rollOutLabel(t)}).click(function(){e.clickLabel(t)})}},createV:function(){var t=this.markerSize;return r.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=this.markerSize-3,e={stroke:this.switchColor,"stroke-width":3},i=this.container,n=r.line(i,[3,t],[3,t]).attr(e);t=r.line(i,[3,t],[t,3]).attr(e);return this.container.set([n,t])},createMarker:function(t,e,i){var n,a=this.markerSize,s=this.container,o=this.markerBorderColor;o||(o=e);var h=this.markerBorderThickness,l=this.markerBorderAlpha;switch(t){case"square":n=r.polygon(s,[0,a,a,0],[0,0,a,a],e,i,h,o,l);break;case"circle":(n=r.circle(s,a/2,e,i,h,o,l)).translate(a/2,a/2);break;case"line":n=r.line(s,[0,a],[a/2,a/2],e,i,h);break;case"dashedLine":n=r.line(s,[0,a],[a/2,a/2],e,i,h,3);break;case"triangleUp":n=r.polygon(s,[0,a/2,a,a],[a,0,a,a],e,i,h,o,l);break;case"triangleDown":n=r.polygon(s,[0,a/2,a,a],[0,a,0,0],e,i,h,o,l);break;case"bubble":(n=r.circle(s,a/2,e,i,h,o,l,!0)).translate(a/2,a/2)}return n},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,e=this.valueLabels,i=this.chart;for(t=0;t<e.length;t++){var r=e[t],n=r.dItem;if(void 0!==n.type){var a=n.currentDataItem;if(a){var s=this.valueText;n.legendValueText&&(s=n.legendValueText),n=s,n=i.formatString(n,a),r.text(n)}else r.text(" ")}else a=i.formatString(this.valueText,n),r.text(a)}},renderFix:function(){if(!r.VML){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",r.remove(this.set)}}),r.AmBalloon=r.Class({construct:function(){this.enabled=!0,this.fillColor="#CC0000",this.fillAlpha=1,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=6,this.maximumWidth=220,this.horizontalPadding=8,this.verticalPadding=5,this.pointerWidth=10,this.pointerOrientation="V",this.color="#FFFFFF",this.textShadowColor="#000000",this.adjustBorderColor=!1,this.showBullet=!0,this.show=this.follow=!1,this.bulletSize=3,this.textAlign="middle"},draw:function(){var t=this.pointToX,e=this.pointToY,i=this.textAlign;if(!isNaN(t)){var n=this.chart,a=n.container,s=this.set;if(r.remove(s),r.remove(this.pointer),this.set=s=a.set(),n.balloonsSet.push(s),this.show){var o=this.l,h=this.t,l=this.r,c=this.b,u=this.textShadowColor;this.color==u&&(u=void 0);var d=this.balloonColor,f=this.fillColor,p=this.borderColor;void 0!=d&&(this.adjustBorderColor?p=d:f=d);var g,m=this.horizontalPadding,v=(d=this.verticalPadding,this.pointerWidth),b=this.pointerOrientation,y=this.cornerRadius,x=n.fontFamily;void 0==(O=this.fontSize)&&(O=n.fontSize),n=r.text(a,this.text,this.color,x,O,i),s.push(n),void 0!=u&&(g=r.text(a,this.text,u,x,O,i,!1,.4),s.push(g)),u=(x=n.getBBox()).height+2*d,x=x.width+2*m,window.opera&&(u+=2);var w,O=O/2+d;switch(i){case"middle":w=x/2;break;case"left":w=m;break;case"right":w=x-m}n.translate(w,O),g&&g.translate(w+1,O+1),"H"!=b?(w=t-x/2,i=e<h+u+10&&"down"!=b?e+v:e-u-v):(2*v>u&&(v=u/2),i=e-u/2,w=t<o+(l-o)/2?t+v:t-x-v),i+u>=c&&(i=c-u),i<h&&(i=h),w<o&&(w=o),w+x>l&&(w=l-x),0<y||0===v?(p=r.rect(a,x,u,f,this.fillAlpha,this.borderThickness,p,this.borderAlpha,this.cornerRadius),this.showBullet&&((a=r.circle(a,this.bulletSize,f,this.fillAlpha)).translate(t,e),this.pointer=a)):(c=[],y=[],"H"!=b?((o=t-w)>x-v&&(o=x-v),o<v&&(o=v),c=[0,o-v,t-w,o+v,x,x,0,0],y=e<h+u+10&&"down"!=b?[0,0,e-i,0,0,u,u,0]:[u,u,e-i,u,u,0,0,u]):((h=e-i)>u-v&&(h=u-v),h<v&&(h=v),y=[0,h-v,e-i,h+v,u,u,0,0],c=t<o+(l-o)/2?[0,0,w<t?0:t-w,0,0,x,x,0]:[x,x,w+x>t?x:t-w,x,x,0,0,x]),p=r.polygon(a,c,y,f,this.fillAlpha,this.borderThickness,p,this.borderAlpha)),s.push(p),p.toFront(),g&&g.toFront(),n.toFront(),t=1,9>r.IEversion&&this.follow&&(t=6),s.translate(w-t,i),s=n.getBBox(),this.bottom=i+s.y+s.height+2*d+2,this.yPos=s.y+i}}},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX,e=this.chart.mouseY-3;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var r=i.getBBox(),n=(t=t-r.width/2,e-r.height-10);t<this.l&&(t=this.l),t>this.r-r.width&&(t=this.r-r.width),n<this.t&&(n=e+10),i.translate(t,n)}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,r){this.l=t,this.t=e,this.r=i,this.b=r},showBalloon:function(t){this.text=t,this.show=!0,this.draw()},hide:function(){this.follow=this.show=!1,this.destroy()},setPosition:function(t,e,i){this.pointToX=t,this.pointToY=e,i&&(t!=this.previousX||e!=this.previousY)&&this.draw(),this.previousX=t,this.previousY=e},followCursor:function(t){var e=this;(e.follow=t)?(e.pShowBullet=e.showBullet,e.showBullet=!1):void 0!==e.pShowBullet&&(e.showBullet=e.pShowBullet),clearInterval(e.interval);var i=e.chart.mouseX,r=e.chart.mouseY;!isNaN(i)&&t&&(e.pointToX=i,e.pointToY=r-3,e.interval=setInterval(function(){e.followMouse.call(e)},40))},destroy:function(){clearInterval(this.interval),r.remove(this.set),this.set=null,r.remove(this.pointer),this.pointer=null}}),r.AmCoordinateChart=r.Class({inherits:r.AmChart,construct:function(){r.AmCoordinateChart.base.construct.call(this),this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem"),this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[]},initChart:function(){r.AmCoordinateChart.base.initChart.call(this),this.createValueAxes(),r.VML&&(this.startAlpha=1);var t=this.legend;t&&t.setData(this.graphs)},createValueAxes:function(){if(0===this.valueAxes.length){var t=new r.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(){r.AmSerialChart.base.parseData.call(this);var t,e=this.graphs,i={},n=this.seriesIdField;n||(n=this.categoryField),this.chartData=[];var a=this.dataProvider;if(a){var s,o,h,l=!1,c=this.categoryAxis;if(c){l=c.parseDates;var u=c.forceShowField;s=c.categoryFunction}l&&(o=(t=r.extractPeriod(c.minPeriod)).period,h=t.count);var d,f={};for(this.lookupTable=f,d=0;d<a.length;d++){var p={},g=a[d];t=g[this.categoryField],p.category=s?s(t,g,c):String(t),u&&(p.forceShow=g[u]),f[g[n]]=p,l&&(t=c.categoryFunction?c.categoryFunction(t,g,c):isNaN(t)?new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()):new Date(t),t=r.resetDateToMin(t,o,h),p.category=t,p.time=t.getTime());var m,v=this.valueAxes;for(p.axes={},p.x={},m=0;m<v.length;m++){var b,y=v[m].id;for(p.axes[y]={},p.axes[y].graphs={},b=0;b<e.length;b++){var x=(t=e[b]).id,w=t.periodValue;if(t.valueAxis.id==y){p.axes[y].graphs[x]={};var O={};O.index=d,t.dataProvider&&(g=i),O.values=this.processValues(g,t,w),this.processFields(t,O,g),O.category=p.category,O.serialDataItem=p,O.graph=t,p.axes[y].graphs[x]=O}}}this.chartData[d]=p}}for(i=0;i<e.length;i++)(t=e[i]).dataProvider&&this.parseGraphData(t)},processValues:function(t,e,i){var r,n={},a=!1;return"candlestick"!=e.type&&"ohlc"!=e.type||""===i||(a=!0),r=Number(t[e.valueField+i]),isNaN(r)||(n.value=r),a&&(i="Open"),r=Number(t[e.openField+i]),isNaN(r)||(n.open=r),a&&(i="Close"),r=Number(t[e.closeField+i]),isNaN(r)||(n.close=r),a&&(i="Low"),r=Number(t[e.lowField+i]),isNaN(r)||(n.low=r),a&&(i="High"),r=Number(t[e.highField+i]),isNaN(r)||(n.high=r),n},parseGraphData:function(t){var e,i=t.dataProvider,r=t.seriesIdField;for(r||(r=this.seriesIdField),r||(r=this.categoryField),e=0;e<i.length;e++){var n=i[e],a=this.lookupTable[String(n[r])],s=t.valueAxis.id;a&&((s=a.axes[s].graphs[t.id]).serialDataItem=a,s.values=this.processValues(n,t,t.periodValue),this.processFields(t,s,n))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--){var r=i[e];r&&r.valueAxis==t&&this.removeGraph(r)}for(e=(i=this.valueAxes).length-1;0<=e;e--)i[e]==t&&i.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--)i[e]==t&&(i.splice(e,1),t.destroy());this.validateData()},processValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];i.chart=this,i.id||(i.id="valueAxis"+t+"_"+(new Date).getTime()),!0!==this.usePrefixes&&!1!==this.usePrefixes||(i.usePrefixes=this.usePrefixes)}},processGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.chart=this,i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.id||(i.id="graph"+t+"_"+(new Date).getTime())}},formatString:function(t,e){var i=e.graph,n=i.valueAxis;return n.duration&&e.values.value&&(n=r.formatDuration(e.values.value,n.duration,"",n.durationUnits,n.maxInterval,n.numberFormatter),t=t.split("[[value]]").join(n)),t=r.massReplace(t,{"[[title]]":i.title,"[[description]]":e.description,"<br>":"\n"}),t=r.fixNewLines(t),r.cleanFromEmpty(t)},getBalloonColor:function(t,e){var i=t.lineColor,r=t.balloonColor;if("object"==typeof(n=t.fillColors)?i=n[0]:void 0!==n&&(i=n),e.isNegative){var n=t.negativeLineColor,a=t.negativeFillColors;"object"==typeof a?n=a[0]:void 0!==a&&(n=a),void 0!==n&&(i=n)}return void 0!==e.color&&(i=e.color),void 0===r&&(r=i),r},getGraphById:function(t){return this.getObjById(this.graphs,t)},getValueAxisById:function(t){return this.getObjById(this.valueAxes,t)},getObjById:function(t,e){var i,r;for(r=0;r<t.length;r++){var n=t[r];n.id==e&&(i=n)}return i},processFields:function(t,e,i){if(t.itemColors){var n=t.itemColors,a=e.index;e.color=a<n.length?n[a]:r.randomColor()}for(n="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor".split(" "),a=0;a<n.length;a++){var s=n[a],o=t[s+"Field"];o&&(o=i[o],r.isDefined(o)&&(e[s]=o))}e.dataContext=i},chooseGraphColor:function(t,e){var i;void 0==t.lineColor&&(i=this.colors.length>e?this.colors[e]:r.randomColor(),t.lineColor=i)},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var i=t.hidden,r=t.showBalloon;switch(e){case"clickMarker":case"clickLabel":r?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":i||this.highlightGraph(t);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e,i=this.graphs,r=.2;if(this.legend&&(r=this.legend.rollOverGraphAlpha),1!=r)for(e=0;e<i.length;e++){var n=i[e];n!=t&&n.changeOpacity(r)}},unhighlightGraph:function(){if(this.legend&&(alpha=this.legend.rollOverGraphAlpha),1!=alpha){var t,e=this.graphs;for(t=0;t<e.length;t++)e[t].changeOpacity(1)}},showGraph:function(t){t.hidden=!1,this.dataChanged=!0,this.marginsUpdated=!1,this.chartCreated&&this.initChart()},hideGraph:function(t){this.dataChanged=!0,this.marginsUpdated=!1,t.hidden=!0,this.chartCreated&&this.initChart()},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t,e=this.graphs;if(e)for(t=0;t<e.length;t++)e[t].animationPlayed=!1},animateAgain:function(){this.resetAnimation(),this.validateNow()}}),r.AmRectangularChart=r.Class({inherits:r.AmCoordinateChart,construct:function(){r.AmRectangularChart.base.construct.call(this),this.createEvents("zoomed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0,this.heightMultiplier=this.widthMultiplier=1,this.zoomOutText="Show all",this.zoomOutButton={backgroundColor:"#b2e1ff",backgroundAlpha:1},this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10},initChart:function(){r.AmRectangularChart.base.initChart.call(this),this.updateDxy();var t=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),t=!1),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),t&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){if(r.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),r.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw(),""!==(t=this.zoomOutText)&&t&&this.drawZoomOutButton()}},resetMargins:function(){var t,e={};if("serial"==this.chartType){var i=this.valueAxes;for(t=0;t<i.length;t++){var r=i[t];r.ignoreAxisWidth||(r.setOrientation(this.rotate),r.fixAxisPosition(),e[r.position]=!0)}(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}else{for(r=this.xAxes,i=this.yAxes,t=0;t<r.length;t++){var n=r[t];n.ignoreAxisWidth||(n.setOrientation(!0),n.fixAxisPosition(),e[n.position]=!0)}for(t=0;t<i.length;t++)(r=i[t]).ignoreAxisWidth||(r.setOrientation(!1),r.fixAxisPosition(),e[r.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e,i=this.valueAxes,r=this.autoMarginOffset,n=this.fixMargins,a=this.realWidth,s=this.realHeight,o=r,h=r,l=a-r;for(t=s-r,e=0;e<i.length;e++)o=(t=this.getAxisBounds(i[e],o,l,h,t)).l,l=t.r,h=t.t,t=t.b;(i=this.categoryAxis)&&(o=(t=this.getAxisBounds(i,o,l,h,t)).l,l=t.r,h=t.t,t=t.b),n.left&&o<r&&(this.marginLeft=Math.round(-o+r)),n.right&&l>a-r&&(this.marginRight=Math.round(l-a+r)),n.top&&h<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-h+r+this.titleHeight)),n.bottom&&t>s-r&&(this.marginBottom=Math.round(t-s+r)),this.resetAnimation(),this.initChart()},getAxisBounds:function(t,e,i,r,n){if(!t.ignoreAxisWidth){var a=t.labelsSet,s=t.tickLength;if(t.inside&&(s=0),a)switch(a=t.getBBox(),t.position){case"top":r>(t=a.y)&&(r=t);break;case"bottom":n<(t=a.y+a.height)&&(n=t);break;case"right":i<(t=a.x+a.width+s+3)&&(i=t);break;case"left":e>(t=a.x-s)&&(e=t)}}return{l:e,t:r,r:i,b:n}},drawZoomOutButton:function(){var t=this,e=t.container.set();t.zoomButtonSet.push(e);var i=t.color,n=t.fontSize,a=t.zoomOutButton;for(a&&(a.fontSize&&(n=a.fontSize),a.color&&(i=a.color)),n=(i=r.text(t.container,t.zoomOutText,i,t.fontFamily,n,"start")).getBBox(),i.translate(29,6+n.height/2),a=r.rect(t.container,n.width+40,n.height+15,a.backgroundColor,a.backgroundAlpha),e.push(a),t.zbBG=a,void 0!==t.pathToImages&&((a=t.container.image(t.pathToImages+"lens.png",0,0,16,16)).translate(7,n.height/2-1),a.toFront(),e.push(a)),i.toFront(),e.push(i),a=e.getBBox(),e.translate(t.marginLeftReal+t.plotAreaWidth-a.width,t.marginTopReal),e.hide(),e.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()}),a=0;a<e.length;a++)e[a].attr({cursor:"pointer"});t.zbSet=e},rollOverZB:function(){this.zbBG.show()},rollOutZB:function(){this.zbBG.hide()},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0,this.zoom()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,n=this.marginTopReal,a=this.plotAreaWidth-1,s=this.plotAreaHeight-1,o=this.plotAreaFillColors,h=this.plotAreaFillAlphas,l=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(i,n,a,s),"object"==typeof h&&(h=h[0]),(o=r.polygon(this.container,[0,a,a,0],[0,0,s,s],o,h,1,l,c,this.plotAreaGradientAngle)).translate(i+t,n+e),o.node.setAttribute("class","amChartsPlotArea"),this.set.push(o),0!==t&&0!==e&&("object"==typeof(o=this.plotAreaFillColors)&&(o=o[0]),o=r.adjustLuminosity(o,-.15),(a=r.polygon(this.container,[0,t,a+t,a,0],[0,e,e,0,0],o,h,1,l,c)).translate(i,n+s),this.set.push(a),(t=r.polygon(this.container,[0,0,t,t,0],[0,s,s+e,e,0],o,h,1,l,c)).translate(i,n),this.set.push(t))},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e),t=t-this.marginLeftReal-this.marginRightReal-this.dx,e=e-this.marginTopReal-this.marginBottomReal,1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy+t,this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes,i=this.marginLeftReal,n=this.marginTopReal,a=this.plotAreaHeight,s=this.plotAreaWidth;for(t=0;t<e.length;t++){var o=e[t];o.axisRenderer=r.RecAxis,o.guideFillRenderer=r.RecFill,o.axisItemRenderer=r.RecItem,o.dx=this.dx,o.dy=this.dy,o.viW=s-1,o.viH=a-1,o.marginsChanged=!0,o.viX=i,o.viY=n,this.updateObjectSize(o)}},updateObjectSize:function(t){t.width=(this.plotAreaWidth-1)*this.widthMultiplier,t.height=(this.plotAreaHeight-1)*this.heightMultiplier,t.x=this.marginLeftReal+this.horizontalPosition,t.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.width=this.plotAreaWidth*this.widthMultiplier,i.height=this.plotAreaHeight*this.heightMultiplier,i.index=t,i.dx=this.dx,i.dy=this.dy,i.rotate=this.rotate,i.chartType=this.chartType}},updateChartCursor:function(){var t=this.chartCursor;t&&(t.x=this.marginLeftReal,t.y=this.marginTopReal,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.chart=this)},updateScrollbars:function(){},addChartCursor:function(t){r.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"zoomed",this.handleCursorZoom)),this.chartCursor=t},removeChartCursor:function(){r.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.draw())}},addTrendLine:function(t){this.trendLines.push(t)},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.scrollbarHeight;"top"==t.position?e?this.marginLeftReal+=i:this.marginTopReal+=i:e?this.marginRightReal+=i:this.marginBottomReal+=i},getScrollbarPosition:function(t,e,i){t.position=e?"bottom"==i||"left"==i?"bottom":"top":"top"==i||"right"==i?"bottom":"top"},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,r=this.marginLeftReal,n=t.scrollbarHeight,a=this.dx,s=this.dy;"top"==t.position?e?(t.y=i,t.x=r-n):(t.y=i-n+s,t.x=r+a):e?(t.y=i+s,t.x=r+this.plotAreaWidth+a):(t.y=i+this.plotAreaHeight+1,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;e&&(t?e.show():e.hide(),this.zbBG.hide())},handleReleaseOutside:function(t){r.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside()},handleMouseDown:function(t){r.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown(t)},handleCursorChange:function(){}}),r.TrendLine=r.Class({construct:function(){this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1},draw:function(){var t=this;t.destroy();var e,i,n,a,s=t.chart,o=s.container,h=t.categoryAxis,l=t.initialDate,c=t.initialCategory,u=t.finalDate,d=t.finalCategory,f=t.valueAxis,p=t.valueAxisX,g=t.initialXValue,m=t.finalXValue,v=t.initialValue,b=t.finalValue,y=f.recalculateToPercents;h&&(l&&(e=h.dateToCoordinate(l)),c&&(e=h.categoryToCoordinate(c)),u&&(i=h.dateToCoordinate(u)),d&&(i=h.categoryToCoordinate(d))),p&&!y&&(isNaN(g)||(e=p.getCoordinate(g)),isNaN(m)||(i=p.getCoordinate(m))),f&&!y&&(isNaN(v)||(n=f.getCoordinate(v)),isNaN(b)||(a=f.getCoordinate(b))),!isNaN(e)&&!isNaN(i)&&!isNaN(n)&&!isNaN(n)&&(s.rotate?(h=[n,a],i=[e,i]):(h=[e,i],i=[n,a]),n=t.lineColor,e=r.line(o,h,i,n,t.lineAlpha,t.lineThickness,t.dashLength),i=r.line(o,h,i,n,.005,5),(o=o.set([e,i])).translate(s.marginLeftReal,s.marginTopReal),s.trendLinesSet.push(o),t.line=e,t.set=o,i.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),i.touchend&&i.touchend(function(){t.handleLineClick()}))},handleLineClick:function(){var t={type:"click",trendLine:this,chart:this.chart};this.fire(t.type,t)},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){r.remove(this.set)}}),r.AmSerialChart=r.Class({inherits:r.AmRectangularChart,construct:function(){r.AmSerialChart.base.construct.call(this),this.createEvents("changed"),this.columnSpacing=5,this.columnWidth=.8,this.updateScrollbar=!0;var t=new r.CategoryAxis;t.chart=this,this.categoryAxis=t,this.chartType="serial",this.zoomOutOnDataUpdate=!0,this.skipZoom=!1,this.minSelectedTime=0},initChart:function(){r.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),(e=this.chartCursor)&&e.updateData();var t,e=this.countColumns(),i=this.graphs;for(t=0;t<i.length;t++)i[t].columnCount=e;this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN),r.AmSerialChart.base.validateData.call(this)},drawChart:function(){r.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(r.ifArray(t)){if((i=this.chartScrollbar)&&i.draw(),0<this.realWidth&&0<this.realHeight){var e,i;t=t.length-1;(i=this.categoryAxis).parseDates&&!i.equalSpacing?(i=this.startTime,e=this.endTime,(isNaN(i)||isNaN(e))&&(i=this.firstTime,e=this.lastTime)):(i=this.start,e=this.end,(isNaN(i)||isNaN(e))&&(i=0,e=t)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(i,e)}}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},cleanChart:function(){r.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(){var t=this.categoryAxis;t.id="categoryAxis",t.rotate=this.rotate,t.axisRenderer=r.RecAxis,t.guideFillRenderer=r.RecFill,t.axisItemRenderer=r.RecItem,t.setOrientation(!this.rotate),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.viW=this.plotAreaWidth-1,t.viH=this.plotAreaHeight-1,t.viX=this.marginLeftReal,t.viY=this.marginTopReal,t.marginsChanged=!0},updateValueAxes:function(){r.AmSerialChart.base.updateValueAxes.call(this);var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],n=this.rotate;i.rotate=n,i.setOrientation(n),(n=this.categoryAxis).startOnAxis&&!n.parseDates||(i.expandMinMax=!0)}},updateData:function(){this.parseData();var t,e=this.graphs,i=this.chartData;for(t=0;t<e.length;t++)e[t].data=i;0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time))},getStartTime:function(t){var e=this.categoryAxis;return r.resetDateToMin(new Date(t),e.minPeriod,1,e.firstDayOfWeek).getTime()},getEndTime:function(t){var e=this.categoryAxis;return e.minDuration(),r.changeDate(new Date(t),e.minPeriod,1,!0).getTime()-1},updateMargins:function(){r.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate))},updateScrollbars:function(){this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e)},timeZoom:function(t,e){var i=this.maxSelectedTime;(isNaN(i)||(e!=this.endTime&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.startTime&&e-t>i&&(e=t+i,this.updateScrollbar=!0)),0<(o=this.minSelectedTime)&&e-t<o)&&(t=(a=Math.round(t+(e-t)/2))-(o=Math.round(o/2)),e=a+o);var n=this.chartData,a=this.categoryAxis;if(r.ifArray(n)&&(t!=this.startTime||e!=this.endTime)){var s=a.minDuration(),o=this.firstTime,h=this.lastTime;t||(t=o,isNaN(i)||(t=h-i)),e||(e=h),t>h&&(t=h),e<o&&(e=o),t<o&&(t=o),e>h&&(e=h),e<t&&(e=t+s),e-t<s/5&&(e<h?e=t+s/5:t=e-s/5),this.startTime=t,this.endTime=e,i=n.length-1,s=this.getClosestIndex(n,"time",t,!0,0,i),n=this.getClosestIndex(n,"time",e,!1,s,i),a.timeZoom(t,e),a.zoom(s,n),this.start=r.fitToBounds(s,0,i),this.end=r.fitToBounds(n,0,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),t!=o||e!=h?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},indexZoom:function(t,e){var i=this.maxSelectedSeries;if(isNaN(i)||(e!=this.end&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.start&&e-t>i&&(e=t+i,this.updateScrollbar=!0)),t!=this.start||e!=this.end){var r=this.chartData.length-1;isNaN(t)&&(t=0,isNaN(i)||(t=r-i)),isNaN(e)&&(e=r),e<t&&(e=t),e>r&&(e=r),t>r&&(t=r-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){r.AmSerialChart.base.updateGraphs.call(this);var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.columnWidth=this.columnWidth,i.categoryAxis=this.categoryAxis}},updateColumnsDepth:function(){var t,e,i=this.graphs;for(r.remove(this.columnsSet),this.columnsArray=[],t=0;t<i.length;t++){var n,a=(e=i[t]).columnsArray;if(a)for(n=0;n<a.length;n++)this.columnsArray.push(a[n])}if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(i=this.container.set(),this.columnSet.push(i),t=0;t<this.columnsArray.length;t++)i.push(this.columnsArray[t].column.set);e&&i.translate(e.x,e.y),this.columnsSet=i}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;t&&this.updateScrollbar&&(e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.chart=this,i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);this.zoomTrendLines(),(t=this.chartCursor)&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var t,e,i,r,n=0,a=this.valueAxes.length,s=this.graphs.length,o=!1;for(r=0;r<a;r++){var h=(e=this.valueAxes[r]).stackType;if("100%"==h||"regular"==h)for(o=!1,i=0;i<s;i++)!(t=this.graphs[i]).hidden&&t.valueAxis==e&&"column"==t.type&&(!o&&t.stackable&&(n++,o=!0),t.stackable||n++,t.columnIndex=n-1);if("none"==h||"3d"==h)for(i=0;i<s;i++)!(t=this.graphs[i]).hidden&&t.valueAxis==e&&"column"==t.type&&(t.columnIndex=n,n++);if("3d"==h){for(r=0;r<s;r++)(t=this.graphs[r]).depthCount=n;n=1}}return n},parseData:function(){r.AmSerialChart.base.parseData.call(this),this.parseSerialData()},getCategoryIndexByValue:function(t){var e,i,r=this.chartData;for(i=0;i<r.length;i++)r[i].category==t&&(e=i);return e},handleCursorChange:function(t){this.updateLegendValues(t.index)},handleCursorZoom:function(t){this.updateScrollbar=!0,this.zoom(t.start,t.end)},handleScrollbarZoom:function(t){this.updateScrollbar=!1,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var e=this.categoryAxis,i=r.extractPeriod(e.minPeriod).period;e=e.dateFormatsObject[i];t.startValue=r.formatDate(t.startDate,e),t.endValue=r.formatDate(t.endDate,e),t.chart=this,t.target=this,this.fire(t.type,t)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(r.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var e={chart:this,target:this,type:"zoomed"};e.startIndex=this.start,e.endIndex=this.end,e.startValue=t[this.start].category,e.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(e.type,e)}}},updateLegendValues:function(t){var e,i=this.graphs;for(e=0;e<i.length;e++){var r=i[e];r.currentDataItem=isNaN(t)?void 0:this.chartData[t].axes[r.valueAxis.id].graphs[r.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,r,n,a){0>n&&(n=0),a>t.length-1&&(a=t.length-1);var s=n+Math.round((a-n)/2),o=t[s][e];return 1>=a-n?r?n:(r=t[a][e],Math.abs(t[n][e]-i)<Math.abs(r-i)?n:a):i==o?s:i<o?this.getClosestIndex(t,e,i,r,n,s):this.getClosestIndex(t,e,i,r,s,a)},zoomToIndexes:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(i){var r=i.length;0<r&&(0>t&&(t=0),e>r-1&&(e=r-1),(r=this.categoryAxis).parseDates&&!r.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(this.categoryAxis.equalSpacing){var r=this.getClosestIndex(i,"time",t.getTime(),!0,0,i.length);i=this.getClosestIndex(i,"time",e.getTime(),!1,0,i.length);this.zoom(r,i)}else this.zoom(t.getTime(),e.getTime())},zoomToCategoryValues:function(t,e){this.updateScrollbar=!0,this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatString:function(t,e){var i=e.graph;if(-1!=t.indexOf("[[category]]")){var n=e.serialDataItem.category;if(this.categoryAxis.parseDates){var a=this.balloonDateFormat,s=this.chartCursor;s&&(a=s.categoryBalloonDateFormat),-1!=t.indexOf("[[category]]")&&(-1!=(a=r.formatDate(n,a)).indexOf("fff")&&(a=r.formatMilliseconds(a,n)),n=a)}t=t.replace(/\[\[category\]\]/g,String(n))}return(i=i.numberFormatter)||(i=this.numberFormatter),(a=(n=e.graph.valueAxis).duration)&&!isNaN(e.values.value)&&(n=r.formatDuration(e.values.value,a,"",n.durationUnits,n.maxInterval,i),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),n)),n="value open low high close total".split(" "),a=this.percentFormatter,t=r.formatValue(t,e.percents,n,a,"percents\\."),t=r.formatValue(t,e.values,n,i,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(t=r.formatValue(t,e.values,["percents"],a)).indexOf("[[")&&(t=r.formatDataContextValue(t,e.dataContext)),r.AmSerialChart.base.formatString.call(this,t,e)},addChartScrollbar:function(t){r.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),this.chartScrollbar=t},removeChartScrollbar:function(){r.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},handleReleaseOutside:function(t){r.AmSerialChart.base.handleReleaseOutside.call(this,t),r.callMethod("handleReleaseOutside",[this.chartScrollbar])}}),r.AmRadarChart=r.Class({inherits:r.AmCoordinateChart,construct:function(){r.AmRadarChart.base.construct.call(this),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0,this.chartType="radar",this.radius="35%"},initChart:function(){r.AmRadarChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.drawChart()},updateData:function(){this.parseData();var t,e=this.graphs;for(t=0;t<e.length;t++)e[t].data=this.chartData},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.width=this.realRadius,i.height=this.realRadius,i.x=this.marginLeftReal,i.y=this.marginTopReal,i.chartType=this.chartType}},parseData:function(){r.AmRadarChart.base.parseData.call(this),this.parseSerialData()},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];i.axisRenderer=r.RadAxis,i.guideFillRenderer=r.RadarFill,i.axisItemRenderer=r.RadItem,i.autoGridCount=!1,i.x=this.marginLeftReal,i.y=this.marginTopReal,i.width=this.realRadius,i.height=this.realRadius}},drawChart:function(){r.AmRadarChart.base.drawChart.call(this);var t=this.updateWidth(),e=this.updateHeight(),i=this.marginTop+this.getTitleHeight(),n=this.marginLeft;e=e-i-this.marginBottom;if(this.marginLeftReal=n+(t-n-this.marginRight)/2,this.marginTopReal=i+e/2,this.realRadius=r.toCoordinate(this.radius,t,e),this.updateValueAxes(),this.updateGraphs(),t=this.chartData,r.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){for(t=t.length-1,n=this.valueAxes,i=0;i<n.length;i++)n[i].zoom(0,t);for(n=this.graphs,i=0;i<n.length;i++)n[i].zoom(0,t);(t=this.legend)&&t.invalidateSize()}}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},formatString:function(t,e){var i=e.graph;return-1!=t.indexOf("[[category]]")&&(t=t.replace(/\[\[category\]\]/g,String(e.serialDataItem.category))),(i=i.numberFormatter)||(i=this.numberFormatter),t=r.formatValue(t,e.values,["value"],i,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),r.AmRadarChart.base.formatString.call(this,t,e)},cleanChart:function(){this.callMethod("destroy",[this.valueAxes,this.graphs])}}),r.AxisBase=r.Class({construct:function(){this.viY=this.viX=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.valueRollOverColor="#CC0000",this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minGap=75,this.titleBold=!0},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},draw:function(){var t=this.chart;void 0===this.titleColor&&(this.titleColor=t.color),isNaN(this.titleFontSize)&&(this.titleFontSize=t.fontSize+1),this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.labels=[];var e=t.container,i=e.set();t.gridSet.push(i),this.set=i,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount&&("V"==this.orientation?3>(t=this.height/35)&&(t=3):t=this.width/this.minGap,this.gridCount=Math.max(t,1)),this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var t=this.title;if(t){var e=this.chart;this.titleLabel=r.text(e.container,t,this.titleColor,e.fontFamily,this.titleFontSize,"middle",this.titleBold)}},positionTitle:function(){var t=this.titleLabel;if(t){var e,i,n={};0<(a=this.labelsSet).length()?n=a.getBBox():(n.x=0,n.y=0,n.width=this.viW,n.height=this.viH),a.push(t);var a=n.x,s=n.y;r.VML&&(this.rotate?a-=this.x:s-=this.y);var o=n.width,h=(n=n.height,this.viW),l=this.viH;t.getBBox();var c=0,u=this.titleFontSize/2,d=this.inside;switch(this.position){case"top":e=h/2,i=s-10-u;break;case"bottom":e=h/2,i=s+n+10+u;break;case"left":e=a-10-u,d&&(e-=5),i=l/2,c=-90;break;case"right":e=a+o+10+u-3,d&&(e+=7),i=l/2,c=-90}this.marginsChanged?(t.translate(e,i),this.tx=e,this.ty=i):t.translate(this.tx,this.ty),this.marginsChanged=!1,0!==c&&t.rotate(c)}},pushAxisItem:function(t,e){var i=t.graphics();0<i.length()&&(e?this.labelsSet.push(i):this.set.push(i)),(i=t.getLabel())&&this.labelsSet.push(i)},addGuide:function(t){this.guides.push(t)},removeGuide:function(t){var e,i=this.guides;for(e=0;e<i.length;e++)i[e]==t&&i.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=(i=t.graphics.getBBox()).x+i.width/2,i=i.y+i.height/2,r=t.fillColor;void 0===r&&(r=t.lineColor),this.chart.showBalloon(t.balloonText,r,!0,e,i)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.handleGuideOver(e)}),t.mouseout(function(){i.handleGuideOut(e)})},getBBox:function(){var t=this.labelsSet.getBBox();return r.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}),t},destroy:function(){r.remove(this.set),r.remove(this.labelsSet);var t=this.axisLine;t&&r.remove(t.set),r.remove(this.grid0)}}),r.ValueAxis=r.Class({inherits:r.AxisBase,construct:function(){this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed"),r.ValueAxis.base.construct.call(this),this.dataChanged=!0,this.gridCount=8,this.stackType="none",this.position="left",this.unitPosition="right",this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.minMaxMultiplier=1},updateData:function(){0>=this.gridCount&&(this.gridCount=1),this.totals=[],this.data=this.chart.chartData,"xy"!=this.chart.chartType&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWithAxis?this.foundGraphs=!0:(this.foundGraphs=!1,this.getMinMax())},draw:function(){r.ValueAxis.base.draw.call(this);var t=this.chart,e=this.set;if("duration"==this.type&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),this.logarithmic&&(0>=this.getMin(0,this.data.length-1)||0>=this.minimum))this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:t});else{this.grid0=null;var i,n,a=t.dx,s=t.dy,o=!1,h=this.logarithmic,l=t.chartType;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)o=!0;else{var c,u=this.labelFrequency,d=this.showFirstLabel,f=this.showLastLabel,p=1,g=0,m=Math.round((this.max-this.min)/this.step)+1;!0===h?(c=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/c,2<c&&(m=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,g=Math.round(Math.log(this.minReal)*Math.LOG10E),m>this.gridCount&&(p=Math.ceil(m/this.gridCount)))):this.stepWidth=this.axisWidth/(this.max-this.min),i=0,1>this.step&&-1<this.step&&(i=this.getDecimals(this.step)),this.integersOnly&&(i=0),i>this.maxDecCount&&(i=this.maxDecCount);var v=this.precision;isNaN(v)||(i=v),this.max=r.roundTo(this.max,this.maxDecCount),this.min=r.roundTo(this.min,this.maxDecCount);var b={};b.precision=i,b.decimalSeparator=t.numberFormatter.decimalSeparator,b.thousandsSeparator=t.numberFormatter.thousandsSeparator,this.numberFormatter=b;var y,x=this.guides;if(0<(D=x.length)){var w=this.fillAlpha;for(n=this.fillAlpha=0;n<D;n++){var O=x[n],C=NaN,A=O.above;isNaN(O.toValue)||(C=this.getCoordinate(O.toValue),y=new this.axisItemRenderer(this,C,"",!0,NaN,NaN,O),this.pushAxisItem(y,A));var S=NaN;isNaN(O.value)||(S=this.getCoordinate(O.value),y=new this.axisItemRenderer(this,S,O.label,!0,NaN,(C-S)/2,O),this.pushAxisItem(y,A)),isNaN(C-S)||(y=new this.guideFillRenderer(this,S,C,O),this.pushAxisItem(y,A),y=y.graphics(),O.graphics=y,O.balloonText&&this.addEventListeners(y,O))}this.fillAlpha=w}for(x=!1,n=g;n<m;n+=p)y=r.roundTo(this.step*n+this.min,i),-1!=String(y).indexOf("e")&&(x=!0,String(y).split("e"));for(this.duration&&(this.maxInterval=r.getMaxInterval(this.max,this.duration)),n=g;n<m;n+=p)if(g=this.step*n+this.min,g=r.roundTo(g,this.maxDecCount+1),(!this.integersOnly||Math.round(g)==g)&&(isNaN(v)||Number(r.toFixed(g,v))==g)&&(!0===h&&(0===g&&(g=this.minReal),2<c&&(g=Math.pow(10,n)),x=-1!=String(g).indexOf("e")),this.useScientificNotation&&(x=!0),this.usePrefixes&&(x=!1),x?(y=(y=-1==String(g).indexOf("e")?g.toExponential(15):String(g)).split("e"),i=Number(y[0]),y=Number(y[1]),10==(i=r.roundTo(i,14))&&(i=1,y+=1),y=i+"e"+y,0===g&&(y="0"),1==g&&(y="1")):(h&&(i=String(g).split("."),b.precision=i[1]?i[1].length:-1),y=this.usePrefixes?r.addPrefix(g,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,b,!0):r.formatNumber(g,b,b.precision)),this.duration&&(y=r.formatDuration(g,this.duration,"",this.durationUnits,this.maxInterval,b)),this.recalculateToPercents?y+="%":(i=this.unit)&&(y="left"==this.unitPosition?i+y:y+i),Math.round(n/u)!=n/u&&(y=void 0),(0===n&&!d||n==m-1&&!f)&&(y=" "),i=this.getCoordinate(g),this.labelFunction&&(y=this.labelFunction(g,y,this)),y=new this.axisItemRenderer(this,i,y),this.pushAxisItem(y),g==this.baseValue&&"radar"!=l)){var M,N,D=this.viW;w=this.viH,g=this.viX;y=this.viY,"H"==this.orientation?0<=i&&i<=D+1&&(M=[i,i,i+a],N=[w,0,s]):0<=i&&i<=w+1&&(M=[0,D,D+a],N=[i,i,i+s]),M&&(i=r.fitToBounds(2*this.gridAlpha,0,1),(i=r.line(t.container,M,N,this.gridColor,i,1,this.dashLength)).translate(g,y),this.grid0=i,t.axesSet.push(i),i.toBack())}n=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(n=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(n=this.max),h&&n<this.minReal&&(n=this.minReal),this.baseCoord=this.getCoordinate(n),(t={type:"axisChanged",target:this,chart:t}).min=h?this.minReal:this.min,t.max=this.max,this.fire("axisChanged",t),this.axisCreated=!0}h=this.axisLine.set,t=this.labelsSet,this.positionTitle(),"radar"!=l?(l=this.viX,n=this.viY,e.translate(l,n),t.translate(l,n)):h.toFront(),!this.visible||o?(e.hide(),h.hide(),t.hide()):(e.show(),h.show(),t.show())}},getDecimals:function(t){var e=0;return isNaN(t)||(-1!=(t=String(t)).indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},stackGraphs:function(t){var e=this.stackType;"stacked"==e&&(e="regular"),"line"==e&&(e="none"),"100% stacked"==e&&(e="100%"),this.stackType=e;var i,n,a,s,o,h=[],l=[],c=[],u=[],d=this.chart.graphs,f=this.baseValue,p=!1;if("line"!=t&&"step"!=t&&"smoothedLine"!=t||(p=!0),p&&("regular"==e||"100%"==e))for(o=0;o<d.length;o++)(s=d[o]).hidden||(a=s.type,s.chart==this.chart&&s.valueAxis==this&&t==a&&s.stackable&&(n&&(s.stackGraph=n),n=s));for(n=this.start;n<=this.end;n++){var g=0;for(o=0;o<d.length;o++)if(!(s=d[o]).hidden&&(a=s.type,s.chart==this.chart&&s.valueAxis==this&&t==a&&s.stackable&&(i=(a=this.data[n].axes[this.id].graphs[s.id]).values.value,!isNaN(i)))){var m=this.getDecimals(i);g<m&&(g=m),u[n]=isNaN(u[n])?Math.abs(i):u[n]+Math.abs(i),u[n]=r.roundTo(u[n],g),s=s.fillToGraph,p&&s&&(s=this.data[n].axes[this.id].graphs[s.id])&&(a.values.open=s.values.value),"regular"==e&&(p&&(isNaN(h[n])?(h[n]=i,a.values.close=i,a.values.open=this.baseValue):(a.values.close=isNaN(i)?h[n]:i+h[n],a.values.open=h[n],h[n]=a.values.close)),"column"==t&&!isNaN(i)&&(a.values.close=i,0>i?(a.values.close=i,isNaN(l[n])?a.values.open=f:(a.values.close+=l[n],a.values.open=l[n]),l[n]=a.values.close):(a.values.close=i,isNaN(c[n])?a.values.open=f:(a.values.close+=c[n],a.values.open=c[n]),c[n]=a.values.close)))}}for(n=this.start;n<=this.end;n++)for(o=0;o<d.length;o++)(s=d[o]).hidden||(a=s.type,s.chart==this.chart&&s.valueAxis==this&&t==a&&s.stackable&&(i=(a=this.data[n].axes[this.id].graphs[s.id]).values.value,isNaN(i)||(h=i/u[n]*100,a.values.percents=h,a.values.total=u[n],"100%"==e&&(isNaN(l[n])&&(l[n]=0),isNaN(c[n])&&(c[n]=0),0>h?(a.values.close=r.fitToBounds(h+l[n],-100,100),a.values.open=l[n],l[n]=a.values.close):(a.values.close=r.fitToBounds(h+c[n],-100,100),a.values.open=c[n],c[n]=a.values.close)))))},recalculate:function(){var t,e=this.chart.graphs;for(t=0;t<e.length;t++){var i=e[t];if(i.valueAxis==this){var n="value";"candlestick"!=i.type&&"ohlc"!=i.type||(n="open");var a,s,o,h=this.end;h=r.fitToBounds(this.end+1,0,this.data.length-1);for(0<(c=this.start)&&c--,o=this.start;o<=h&&(a=(s=this.data[o].axes[this.id].graphs[i.id]).values[n],isNaN(a));o++);for(n=c;n<=h;n++){(s=this.data[n].axes[this.id].graphs[i.id]).percents={};var l,c=s.values;for(l in c)s.percents[l]="percents"!=l?c[l]/a*100-100:c[l]}}}},getMinMax:function(){var t,e=!1,i=this.chart,n=i.graphs;for(t=0;t<n.length;t++){var a=n[t].type;"line"!=a&&"step"!=a&&"smoothedLine"!=a||this.expandMinMax&&(e=!0)}if(e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.chartType&&!0===i.categoryAxis.parseDates&&!e&&this.end<this.data.length-1&&this.end++,e=this.minMaxMultiplier,this.min=this.getMin(this.start,this.end),this.max=this.getMax(),e=(this.max-this.min)*(e-1),this.min-=e,this.max+=e,e=this.guides.length,this.includeGuidesInMinMax&&0<e)for(i=0;i<e;i++)(n=this.guides[i]).toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min>this.max&&(e=this.max,this.max=this.min,this.min=e),isNaN(this.minTemp)||(this.min=this.minTemp),isNaN(this.maxTemp)||(this.max=this.maxTemp),this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),e=this.min,i=this.max,t=0===(n=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/t)*t+t),isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/t)*t-t),0>this.min&&0<=e&&(this.min=0),0<this.max&&0>=i&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),n=this.max-this.min,t=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,this.step=Math.ceil(n/this.gridCount/t)*t,n=(n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))).toExponential(0).split("e"),t=Number(n[1]),9==Number(n[0])&&t++,n=this.generateNumber(1,t),5<(t=Math.ceil(this.step/n))&&(t=10),5>=t&&2<t&&(t=5),this.step=Math.ceil(this.step/(n*t))*n*t,1>n?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=r.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=e&&(this.min=0),0<this.max&&0>=i&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=n),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),n=Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E,this.logarithmic&&(2<n?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10)<(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10)&&(this.minReal=this.min=10*e))},generateNumber:function(t,e){var i,r,n="";for(i=0>e?Math.abs(e)-1:Math.abs(e),r=0;r<i;r++)n+="0";return 0>e?Number("0."+n+String(t)):Number(String(t)+n)},getMin:function(t,e){var i,r;for(r=t;r<=e;r++){var n,a=this.data[r].axes[this.id].graphs;for(n in a)if(a.hasOwnProperty(n)){var s,o=this.chart.getGraphById(n);if(o.includeInMinMax&&(!o.hidden||this.includeHidden))if(isNaN(i)&&(i=1/0),this.foundGraphs=!0,o=a[n].values,this.recalculateToPercents&&(o=a[n].percents),this.minMaxField)(s=o[this.minMaxField])<i&&(i=s);else for(var h in o)o.hasOwnProperty(h)&&"percents"!=h&&"total"!=h&&((s=o[h])<i&&(i=s))}}return i},getMax:function(){var t,e;for(e=this.start;e<=this.end;e++){var i,r=this.data[e].axes[this.id].graphs;for(i in r)if(r.hasOwnProperty(i)){var n,a=this.chart.getGraphById(i);if(a.includeInMinMax&&(!a.hidden||this.includeHidden))if(isNaN(t)&&(t=-1/0),this.foundGraphs=!0,a=r[i].values,this.recalculateToPercents&&(a=r[i].percents),this.minMaxField)(n=a[this.minMaxField])>t&&(t=n);else for(var s in a)a.hasOwnProperty(s)&&"percents"!=s&&"total"!=s&&((n=a[s])>t&&(t=n))}}return t},dispatchZoomEvent:function(t,e){var i={type:"axisZoomed",startValue:t,endValue:e,target:this,chart:this.chart};this.fire(i.type,i)},zoomToValues:function(t,e){if(e<t){var i=e;e=t,t=i}t<this.min&&(t=this.min),e>this.max&&(e=this.max),(i={type:"axisSelfZoomed"}).chart=this.chart,i.valueAxis=this,i.multiplier=this.axisWidth/Math.abs(this.getCoordinate(e)-this.getCoordinate(t)),i.position="V"==this.orientation?this.reversed?this.getCoordinate(t):this.getCoordinate(e):this.reversed?this.getCoordinate(e):this.getCoordinate(t),this.fire(i.type,i)},coordinateToValue:function(t){if(isNaN(t))return NaN;var e=this.axisWidth,i=this.stepWidth,r=this.reversed,n=this.rotate,a=this.min,s=this.minReal;return!0===this.logarithmic?Math.pow(10,(n?!0===r?(e-t)/i:t/i:!0===r?t/i:(e-t)/i)+Math.log(s)*Math.LOG10E):!0===r?n?a-(t-e)/i:t/i+a:n?t/i+a:a-(t-e)/i},getCoordinate:function(t){if(isNaN(t))return NaN;var e=this.rotate,i=this.reversed,r=this.axisWidth,n=this.stepWidth,a=this.min,s=this.minReal;return!0===this.logarithmic?(t=Math.log(t)*Math.LOG10E-Math.log(s)*Math.LOG10E,e=e?!0===i?r-n*t:n*t:!0===i?n*t:r-n*t):e=!0===i?e?r-n*(t-a):n*(t-a):e?n*(t-a):r-n*(t-a),e=this.rotate?e+(this.x-this.viX):e+(this.y-this.viY),Math.round(e)},synchronizeWithAxis:function(t){this.synchronizeWithAxis=t,this.removeListener(this.synchronizeWithAxis,"axisChanged",this.handleSynchronization),this.listenTo(this.synchronizeWithAxis,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){var t=(i=this.synchronizeWithAxis).min,e=i.max,i=i.step,r=this.synchronizationMultiplier;r&&(this.min=t*r,this.max=e*r,this.step=i*r,t=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),t=Math.abs(Math.log(Math.abs(t))*Math.LOG10E),this.maxDecCount=t=Math.round(t),this.draw())}}),r.CategoryAxis=r.Class({inherits:r.AxisBase,construct:function(){r.CategoryAxis.base.construct.call(this),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.firstDayOfWeek=1,this.gridPosition="middle",this.boldPeriodBeginning=!0,this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={},this.nextPeriod.fff="ss",this.nextPeriod.ss="mm",this.nextPeriod.mm="hh",this.nextPeriod.hh="DD",this.nextPeriod.DD="MM",this.nextPeriod.MM="YYYY"},draw:function(){r.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,r.ifArray(t)){var e,i=this.chart,n=this.start,a=this.labelFrequency,s=0;e=this.end-n+1;var o,h,l,c,u,d,f=this.gridCount,p=this.showFirstLabel,g=this.showLastLabel,m="";m=r.extractPeriod(this.minPeriod);o=r.getPeriodDuration(m.period,m.count),h=this.rotate;var v,b=this.firstDayOfWeek,y=this.boldPeriodBeginning;t=r.resetDateToMin(new Date(t[t.length-1].time+1.05*o),this.minPeriod,1,b).getTime();if(this.endTime>t&&(this.endTime=t),this.parseDates&&!this.equalSpacing){if(this.timeDifference=this.endTime-this.startTime,a=(n=this.choosePeriod(0)).period,h=n.count,(t=r.getPeriodDuration(a,h))<o&&(a=m.period,h=m.count,t=o),"WW"==(l=a)&&(l="DD"),this.stepWidth=this.getStepWidth(this.timeDifference),f=Math.ceil(this.timeDifference/t)+1,m=r.resetDateToMin(new Date(this.startTime-t),a,h,b).getTime(),l==a&&1==h&&(c=t*this.stepWidth),this.cellWidth=o*this.stepWidth,n=-1,(e=Math.round(m/t))/2==Math.round(e/2)&&(n=-2,m-=t),0<this.gridCount)for(e=n;e<=f;e++)u=m+1.5*t,o=((u=r.resetDateToMin(new Date(u),a,h,b).getTime())-this.startTime)*this.stepWidth,d=!1,this.nextPeriod[l]&&(d=this.checkPeriodChange(this.nextPeriod[l],1,u,m)),v=!1,d?(m=this.dateFormatsObject[this.nextPeriod[l]],v=!0):m=this.dateFormatsObject[l],y||(v=!1),m=r.formatDate(new Date(u),m),(e==n&&!p||e==f&&!g)&&(m=" "),this.labelFunction&&(m=this.labelFunction(m,new Date(u),this)),m=new this.axisItemRenderer(this,o,m,!1,c,0,!1,v),this.pushAxisItem(m),m=u}else if(this.parseDates){if(this.parseDates&&this.equalSpacing)for(s=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,a=(n=this.choosePeriod(0)).period,h=n.count,(t=r.getPeriodDuration(a,h))<o&&(a=m.period,h=m.count,t=o),"WW"==(l=a)&&(l="DD"),this.stepWidth=this.getStepWidth(e),f=Math.ceil(this.timeDifference/t)+1,m=r.resetDateToMin(new Date(this.startTime-t),a,h,b).getTime(),this.cellWidth=this.getStepWidth(e),n=-1,(e=Math.round(m/t))/2==Math.round(e/2)&&(n=-2,m-=t),(e=this.start)/2==Math.round(e/2)&&e--,0>e&&(e=0),(c=this.end+2)>=this.data.length&&(c=this.data.length),b=!1,this.end-this.start>this.gridCount&&(b=!0),this.previousPos=0;e<c;e++)u=this.data[e].time,this.checkPeriodChange(a,h,u,m)&&(o=this.getCoordinate(e-this.start),d=!1,this.nextPeriod[l]&&(d=this.checkPeriodChange(this.nextPeriod[l],1,u,m)),v=!1,d?(m=this.dateFormatsObject[this.nextPeriod[l]],v=!0):m=this.dateFormatsObject[l],m=r.formatDate(new Date(u),m),(e==n&&!p||e==f&&!g)&&(m=" "),b?b=!1:(y||(v=!1),40<o-this.previousPos&&(this.labelFunction&&(m=this.labelFunction(m,new Date(u),this)),t=(m=new this.axisItemRenderer(this,o,m,void 0,void 0,void 0,void 0,v)).graphics(),this.pushAxisItem(m),this.previousPos=o+t.getBBox().width)),m=u)}else if(this.cellWidth=this.getStepWidth(e),e<f&&(f=e),s+=this.start,this.stepWidth=this.getStepWidth(e),0<f)for(y=Math.floor(e/f),(e=s)/2==Math.round(e/2)&&e--,0>e&&(e=0),f=0;e<=this.end+2;e++)0<=e&&e<this.data.length?m=(l=this.data[e]).category:m="",(e/y==Math.round(e/y)||l.forceShow)&&(o=this.getCoordinate(e-s),c=0,"start"==this.gridPosition&&(o-=this.cellWidth/2,c=this.cellWidth/2),(e==n&&!p||e==this.end&&!g)&&(m=void 0),Math.round(f/a)!=f/a&&(m=void 0),f++,b=this.cellWidth,h&&(b=NaN),this.labelFunction&&(m=this.labelFunction(m,l,this)),m=r.fixNewLines(m),m=new this.axisItemRenderer(this,o,m,!0,b,c,void 0,!1,c),this.pushAxisItem(m));for(e=0;e<this.data.length;e++)(p=this.data[e])&&(g=this.parseDates&&!this.equalSpacing?Math.round((p.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(e-s),p.x[this.id]=g);for(p=this.guides.length,e=0;e<p;e++)o=o=o=f=y=NaN,n=(g=this.guides[e]).above,g.toCategory&&(o=i.getCategoryIndexByValue(g.toCategory),isNaN(o)||(y=this.getCoordinate(o-s),m=new this.axisItemRenderer(this,y,"",!0,NaN,NaN,g),this.pushAxisItem(m,n))),g.category&&(o=i.getCategoryIndexByValue(g.category),isNaN(o)||(o=(y-(f=this.getCoordinate(o-s)))/2,m=new this.axisItemRenderer(this,f,g.label,!0,NaN,o,g),this.pushAxisItem(m,n))),g.toDate&&(this.equalSpacing?(o=i.getClosestIndex(this.data,"time",g.toDate.getTime(),!1,0,this.data.length-1),isNaN(o)||(y=this.getCoordinate(o-s))):y=(g.toDate.getTime()-this.startTime)*this.stepWidth,m=new this.axisItemRenderer(this,y,"",!0,NaN,NaN,g),this.pushAxisItem(m,n)),g.date&&(this.equalSpacing?(o=i.getClosestIndex(this.data,"time",g.date.getTime(),!1,0,this.data.length-1),isNaN(o)||(f=this.getCoordinate(o-s))):f=(g.date.getTime()-this.startTime)*this.stepWidth,o=(y-f)/2,m="H"==this.orientation?new this.axisItemRenderer(this,f,g.label,!1,2*o,NaN,g):new this.axisItemRenderer(this,f,g.label,!1,NaN,o,g),this.pushAxisItem(m,n)),f=(y=new this.guideFillRenderer(this,f,y,g)).graphics(),this.pushAxisItem(y,n),g.graphics=f,f.index=e,g.balloonText&&this.addEventListeners(f,g)}this.axisCreated=!0,i=this.x,s=this.y,this.set.translate(i,s),this.labelsSet.translate(i,s),this.positionTitle(),(i=this.axisLine.set)&&i.toFront()},choosePeriod:function(t){var e=r.getPeriodDuration(this.periods[t].period,this.periods[t].count),i=Math.ceil(this.timeDifference/e),n=this.periods;return this.timeDifference<e&&0<t?n[t-1]:i<=this.gridCount?n[t]:t+1<n.length?this.choosePeriod(t+1):n[t]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var t=r.extractPeriod(this.minPeriod);return r.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,e,i,n){n=new Date(n);var a=this.firstDayOfWeek;return(i=r.resetDateToMin(new Date(i),t,e,a).getTime())!=(t=r.resetDateToMin(n,t,e,a).getTime())},generateDFObject:function(){var t;for(this.dateFormatsObject={},t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},xToIndex:function(t){var e,i,n=this.data,a=(e=this.chart).rotate,s=this.stepWidth;return this.parseDates&&!this.equalSpacing?(t=this.startTime+Math.round(t/s)-this.minDuration()/2,e=e.getClosestIndex(n,"time",t,!1,this.start,this.end+1)):(this.startOnAxis||(t-=s/2),e=this.start+Math.round(t/s)),n[e=r.fitToBounds(e,0,n.length-1)]&&(i=n[e].x[this.id]),a?i>this.height+1&&e--:i>this.width+1&&e--,0>i&&e++,r.fitToBounds(e,0,n.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?(t=this.chart.getCategoryIndexByValue(t),this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)}}),r.RecAxis=r.Class({construct:function(t){var e=t.chart,i=t.axisThickness,n=t.axisColor,a=t.axisAlpha,s=t.offset,o=t.dx,h=t.dy,l=t.viX,c=t.viY,u=t.viH,d=t.viW,f=e.container;"H"==t.orientation?(n=r.line(f,[0,d],[0,0],n,a,i),this.axisWidth=t.width,"bottom"==t.position?(t=i/2+s+u+c-1,i=l):(t=-i/2-s+c+h,i=o+l)):(this.axisWidth=t.height,"right"==t.position?(n=r.line(f,[0,0,-o],[0,u,u-h],n,a,i),t=c+h,i=i/2+s+o+d+l-1):(n=r.line(f,[0,0],[0,u],n,a,i),t=c,i=-i/2-s+l)),n.translate(i,t),e.axesSet.push(n),this.set=n}}),r.RecItem=r.Class({construct:function(t,e,i,n,a,s,o,h,l){e=Math.round(e),void 0==i&&(i=""),l||(l=0),void 0==n&&(n=!0);var c=t.chart.fontFamily,u=t.fontSize;void 0==u&&(u=t.chart.fontSize);var d=t.color;void 0==d&&(d=t.chart.color);var f=t.chart.container,p=f.set();this.set=p;var g,m,v=t.axisThickness,b=t.axisColor,y=t.axisAlpha,x=t.tickLength,w=t.gridAlpha,O=t.gridThickness,C=t.gridColor,A=t.dashLength,S=t.fillColor,M=t.fillAlpha,N=t.labelsEnabled,D=t.labelRotation,T=t.counter,j=t.inside,k=t.dx,P=t.dy,B=t.orientation,R=t.position,L=t.previousCoord,I=t.viH,E=t.viW,F=t.offset;o?(N=!0,isNaN(o.tickLength)||(x=o.tickLength),void 0!=o.lineColor&&(C=o.lineColor),isNaN(o.lineAlpha)||(w=o.lineAlpha),isNaN(o.dashLength)||(A=o.dashLength),isNaN(o.lineThickness)||(O=o.lineThickness),!0===o.inside&&(j=!0),isNaN(o.labelRotation)||(D=o.labelRotation),isNaN(o.fontSize)||(u=o.fontSize),o.position&&(R=o.position)):""===i&&(x=0),m="start",a&&(m="middle");var z,G,W=D*Math.PI/180,V=0,Y=0,H=0,X=z=0;"V"==B&&(D=0),N&&(X=(G=r.text(f,i,d,c,u,m,h)).getBBox().width),"H"==B?(0<=e&&e<=E+1&&(0<x&&0<y&&e+l<=E+1&&(g=r.line(f,[e+l,e+l],[0,x],b,y,O),p.push(g)),0<w&&(m=r.line(f,[e,e+k,e+k],[I,I+P,P],C,w,O,A),p.push(m))),Y=0,V=e,o&&90==D&&(V-=u),!1===n?(m="start",Y="bottom"==R?j?Y+x:Y-x:j?Y-x:Y+x,V+=3,a&&(V+=a/2,m="middle"),0<D&&(m="middle")):m="middle",1==T&&0<M&&!o&&L<E&&(0<(z=(n=r.fitToBounds(e,0,E))-(L=r.fitToBounds(L,0,E)))&&(fill=r.rect(f,z,t.height,S,M),fill.translate(n-z+k,P),p.push(fill))),"bottom"==R?(Y+=I+u/2+F,j?0<D?(Y=I-X/2*Math.sin(W)-x-3,V+=X/2*Math.cos(W)):Y-=x+u+3+3:0<D?(Y=I+X/2*Math.sin(W)+x+3,V-=X/2*Math.cos(W)):Y+=x+v+3+3):(Y+=P+u/2-F,V+=k,j?0<D?(Y=X/2*Math.sin(W)+x+3,V-=X/2*Math.cos(W)):Y+=x+3:0<D?(Y=-X/2*Math.sin(W)-x-6,V+=X/2*Math.cos(W)):Y-=x+u+3+v+3),"bottom"==R?z=(j?I-x-1:I+v-1)+F:(H=k,z=(j?P:P-x-v+1)-F),s&&(V+=s),P=V,0<D&&(P+=X/2*Math.cos(W)),G&&(R=0,j&&(R=X/2*Math.cos(W)),P+R>E+1||0>P)&&(G.remove(),G=null)):(0<=e&&e<=I+1&&(0<x&&0<y&&e+l<=I+1&&(g=r.line(f,[0,x],[e+l,e+l],b,y,O),p.push(g)),0<w&&(m=r.line(f,[0,k,E+k],[e,e+P,e+P],C,w,O,A),p.push(m))),m="end",(!0===j&&"left"==R||!1===j&&"right"==R)&&(m="start"),Y=e-u/2,1==T&&0<M&&!o&&(W=(n=r.fitToBounds(e,0,I))-(L=r.fitToBounds(L,0,I)),fill=r.polygon(f,[0,t.width,t.width,0],[0,0,W,W],S,M),fill.translate(k,n-W+P),p.push(fill)),Y+=u/2,"right"==R?(V+=k+E+F,Y+=P,j?(V-=x+4,s||(Y-=u/2+3)):(V+=x+4+v,Y-=2)):j?(V+=x+4-F,s||(Y-=u/2+3),o&&(V+=k,Y+=P)):(V+=-x-v-4-2-F,Y-=2),g&&("right"==R?(H+=k+F+E,z+=P,H=j?H-v:H+v):(H-=F,j||(H-=x+v))),s&&(Y+=s),j=-3,"right"==R&&(j+=P),G&&(Y>I+1||Y<j)&&(G.remove(),G=null)),g&&g.translate(H,z),!1===t.visible&&(g&&g.remove(),G&&(G.remove(),G=null)),G&&(G.attr({"text-anchor":m}),G.translate(V,Y),0!==D&&G.rotate(-D),t.allLabels.push(G)," "!=i&&(this.label=G)),t.counter=0===T?1:0,t.previousCoord=e,0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}}),r.RecFill=r.Class({construct:function(t,e,i,n){var a=t.dx,s=t.dy,o=t.orientation,h=0;if(i<e){var l=e;e=i,i=l}var c=n.fillAlpha;isNaN(c)&&(c=0),l=t.chart.container,n=n.fillColor,"V"==o?(e=r.fitToBounds(e,0,t.viH),i=r.fitToBounds(i,0,t.viH)):(e=r.fitToBounds(e,0,t.viW),i=r.fitToBounds(i,0,t.viW)),i-=e,isNaN(i)&&(i=4,h=2,c=0),0>i&&"object"==typeof n&&(n=n.join(",").split(",").reverse()),"V"==o?(t=r.rect(l,t.width,i,n,c)).translate(a,e-h+s):(t=r.rect(l,i,t.height,n,c)).translate(e-h+a,s),this.set=l.set([t])},graphics:function(){return this.set},getLabel:function(){}}),r.RadAxis=r.Class({construct:function(t){var e=t.chart,i=t.axisThickness,n=t.axisColor,a=t.axisAlpha,s=t.x,o=t.y;this.set=e.container.set(),e.axesSet.push(this.set);var h=t.axisTitleOffset,l=t.radarCategoriesEnabled,c=t.chart.fontFamily,u=t.fontSize;void 0===u&&(u=t.chart.fontSize);var d=t.color;if(void 0===d&&(d=t.chart.color),e){this.axisWidth=t.height;var f,p=(t=e.chartData).length;for(f=0;f<p;f++){var g=180-360/p*f,m=s+this.axisWidth*Math.sin(g/180*Math.PI),v=o+this.axisWidth*Math.cos(g/180*Math.PI);if(0<a&&(m=r.line(e.container,[s,m],[o,v],n,a,i),this.set.push(m)),l){var b="start";m=s+(this.axisWidth+h)*Math.sin(g/180*Math.PI),v=o+(this.axisWidth+h)*Math.cos(g/180*Math.PI);180!=g&&0!==g||(b="middle",m-=5),0>g&&(b="end",m-=10),180==g&&(v-=5),0===g&&(v+=5),(g=r.text(e.container,t[f].category,d,c,u,b)).translate(m+5,v),this.set.push(g),g.getBBox()}}}}}),r.RadItem=r.Class({construct:function(t,e,i,n,a,s,o){void 0===i&&(i="");var h=t.chart.fontFamily,l=t.fontSize;void 0===l&&(l=t.chart.fontSize);var c=t.color;void 0===c&&(c=t.chart.color);var u=t.chart.container;this.set=n=u.set();var d=t.axisColor,f=t.axisAlpha,p=t.tickLength,g=t.gridAlpha,m=t.gridThickness,v=t.gridColor,b=t.dashLength,y=t.fillColor,x=t.fillAlpha,w=t.labelsEnabled;a=t.counter;var O,C,A=t.inside,S=t.gridType;e-=t.height,s=t.x;var M=t.y;o?(w=!0,isNaN(o.tickLength)||(p=o.tickLength),void 0!=o.lineColor&&(v=o.lineColor),isNaN(o.lineAlpha)||(g=o.lineAlpha),isNaN(o.dashLength)||(b=o.dashLength),isNaN(o.lineThickness)||(m=o.lineThickness),!0===o.inside&&(A=!0)):i||(g/=3,p/=2);var N,D="end",T=-1;if(A&&(D="start",T=1),w&&((N=r.text(u,i,c,h,l,D)).translate(s+(p+3)*T,e),n.push(N),this.label=N,C=r.line(u,[s,s+p*T],[e,e],d,f,m),n.push(C)),e=t.y-e,i=[],h=[],0<g){if("polygons"==S){for(O=t.data.length,l=0;l<O;l++)c=180-360/O*l,i.push(e*Math.sin(c/180*Math.PI)),h.push(e*Math.cos(c/180*Math.PI));i.push(i[0]),h.push(h[0]),g=r.line(u,i,h,v,g,m,b)}else g=r.circle(u,e,"#FFFFFF",0,m,v,g);g.translate(s,M),n.push(g)}if(1==a&&0<x&&!o){if(o=t.previousCoord,"polygons"==S){for(l=O;0<=l;l--)c=180-360/O*l,i.push(o*Math.sin(c/180*Math.PI)),h.push(o*Math.cos(c/180*Math.PI));O=r.polygon(u,i,h,y,x)}else O=r.wedge(u,0,0,0,-360,e,e,o,0,{fill:y,"fill-opacity":x,stroke:0,"stroke-opacity":0,"stroke-width":0});n.push(O),O.translate(s,M)}!1===t.visible&&(C&&C.hide(),N&&N.hide()),t.counter=0===a?1:0,t.previousCoord=e},graphics:function(){return this.set},getLabel:function(){return this.label}}),r.RadarFill=r.Class({construct:function(t,e,i,n){e-=t.axisWidth,i-=t.axisWidth;var a=Math.max(e,i);e=i=Math.min(e,i),i=t.chart.container;var s=n.fillAlpha,o=n.fillColor;a=Math.abs(a-t.y);e=Math.abs(e-t.y);var h=Math.max(a,e);if(e=Math.min(a,e),a=h,h=-n.angle,n=-n.toAngle,isNaN(h)&&(h=0),isNaN(n)&&(n=-360),this.set=i.set(),void 0===o&&(o="#000000"),isNaN(s)&&(s=0),"polygons"==t.gridType){n=[];var l,c=[],u=t.data.length;for(l=0;l<u;l++)h=180-360/u*l,n.push(a*Math.sin(h/180*Math.PI)),c.push(a*Math.cos(h/180*Math.PI));for(n.push(n[0]),c.push(c[0]),l=u;0<=l;l--)h=180-360/u*l,n.push(e*Math.sin(h/180*Math.PI)),c.push(e*Math.cos(h/180*Math.PI));this.fill=r.polygon(i,n,c,o,s)}else this.fill=r.wedge(i,0,0,h,n-h,a,a,e,0,{fill:o,"fill-opacity":s,stroke:0,"stroke-opacity":0,"stroke-width":0});this.set.push(this.fill),this.fill.translate(t.x,t.y)},graphics:function(){return this.set},getLabel:function(){}}),r.AmGraph=r.Class({construct:function(){this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=0,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.columnWidth=.8,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletAlpha=this.bulletBorderAlpha=1,this.bulletSize=8,this.hideBulletsCount=this.bulletOffset=0,this.labelPosition="top",this.cornerRadiusTop=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.y=this.x=0},draw:function(){var t=(a=this.chart).container;this.container=t,this.destroy();var e=t.set(),i=t.set();if(this.behindColumns?(a.graphsBehindSet.push(e),a.bulletBehindSet.push(i)):(a.graphsSet.push(e),a.bulletSet.push(i)),this.bulletSet=i,!this.scrollbar){var n=a.marginLeftReal,a=a.marginTopReal;e.translate(n,a),i.translate(n,a)}t=t.set(),r.remove(this.columnsSet),e.push(t),this.set=e,this.columnsSet=t,this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],r.ifArray(this.data)&&(e=!1,"xy"==this.chartType?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph())},createGraph:function(){var t=this.chart;if("inside"==this.labelPosition&&(this.labelPosition="bottom"),this.startAlpha=t.startAlpha,this.seqAn=t.sequencedAnimation,this.baseCoord=this.valueAxis.baseCoord,this.fillColors||(this.fillColors=this.lineColor),void 0===this.fillAlphas&&(this.fillAlphas=0),void 0===this.bulletColor&&(this.bulletColor=this.lineColor,this.bulletColorNegative=this.negativeLineColor),void 0===this.bulletAlpha&&(this.bulletAlpha=this.lineAlpha),this.bulletBorderColor||(this.bulletBorderAlpha=0),!isNaN(this.valueAxis.min)&&!isNaN(this.valueAxis.max)){switch(this.chartType){case"serial":this.createSerialGraph(),"candlestick"==this.type&&1>this.valueAxis.minMaxMultiplier&&this.positiveClip(this.set);break;case"radar":this.createRadarGraph();break;case"xy":this.createXYGraph(),this.positiveClip(this.set)}this.animationPlayed=!0}},createXYGraph:function(){var t,e=[],i=[],r=this.xAxis,n=this.yAxis;for(this.pmh=n.viH+1,this.pmw=r.viW+1,this.pmy=this.pmx=0,t=this.start;t<=this.end;t++){var a=this.data[t].axes[r.id].graphs[this.id],s=(h=a.values).x,o=h.y,h=r.getCoordinate(s),l=n.getCoordinate(o);!isNaN(s)&&!isNaN(o)&&(e.push(h),i.push(l),(s=this.createBullet(a,h,l,t))||(s=0),o=this.labelText)&&(a=this.createLabel(a,h,l,o),this.allBullets.push(a),this.positionLabel(h,l,a,this.labelPosition,s))}this.drawLineGraph(e,i),this.launchAnimation()},createRadarGraph:function(){var t,e,i,r=this.valueAxis.stackType,n=[],a=[];for(i=this.start;i<=this.end;i++){var s,o=this.data[i].axes[this.valueAxis.id].graphs[this.id];if(s="none"==r||"3d"==r?o.values.value:o.values.close,isNaN(s))this.drawLineGraph(n,a),n=[],a=[];else{var h=this.y-(this.valueAxis.getCoordinate(s)-this.height),l=180-360/(this.end-this.start+1)*i;s=h*Math.sin(l/180*Math.PI),h*=Math.cos(l/180*Math.PI),n.push(s),a.push(h),(l=this.createBullet(o,s,h,i))||(l=0);var c=this.labelText;c&&(o=this.createLabel(o,s,h,c),this.allBullets.push(o),this.positionLabel(s,h,o,this.labelPosition,l)),isNaN(t)&&(t=s),isNaN(e)&&(e=h)}}n.push(t),a.push(e),this.drawLineGraph(n,a),this.launchAnimation()},positionLabel:function(t,e,i,r,n){var a=i.getBBox();switch(r){case"left":t-=(a.width+n)/2+2;break;case"top":e-=(n+a.height)/2+1;break;case"right":t+=(a.width+n)/2+2;break;case"bottom":e+=(n+a.height)/2+1}i.translate(t,e)},createSerialGraph:function(){var t,e,i,n=this.id,a=this.index,s=this.data,o=this.chart.container,h=this.valueAxis,l=this.type,c=this.columnWidth,u=this.width,d=this.height,f=this.y,p=this.rotate,g=this.columnCount,m=r.toCoordinate(this.cornerRadiusTop,c/2),v=this.connect,b=[],y=[],x=this.chart.graphs.length,w=this.dx/this.depthCount,O=this.dy/this.depthCount,C=h.stackType,A=this.labelPosition,S=this.start,M=this.end,N=this.scrollbar,D=this.categoryAxis,T=this.baseCoord,j=this.negativeBase,k=this.columnIndex,P=this.lineThickness,B=this.lineAlpha,R=this.lineColor,L=this.dashLength,I=this.set;"above"==A&&(A="top"),"below"==A&&(A="bottom");var E=A,F=270;"horizontal"==this.gradientOrientation&&(F=0),this.gradientRotation=F;var z=this.chart.columnSpacing,G=D.cellWidth,W=(G*c-g)/g;z>W&&(z=W);var V,Y,H,X,Z,U,_,q=d+1,J=u+1,K=0,Q=0,$=this.fillColors,tt=this.negativeFillColors,et=this.negativeLineColor,it=this.fillAlphas,rt=this.negativeFillAlphas;"object"==typeof it&&(it=it[0]),"object"==typeof rt&&(rt=rt[0]);var nt=h.getCoordinate(h.min);if(h.logarithmic&&(nt=h.getCoordinate(h.minReal)),this.minCoord=nt,this.resetBullet&&(this.bullet="none"),!N&&("line"==l||"smoothedLine"==l||"step"==l)&&(1==s.length&&"step"!=l&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),tt||void 0!=et)){var at=j;at>h.max&&(at=h.max),at<h.min&&(at=h.min),h.logarithmic&&(at=h.minReal);var st=h.getCoordinate(at),ot=h.getCoordinate(h.max);p?(q=d,J=Math.abs(ot-st),X=d,Z=Math.abs(nt-st),_=Q=0,h.reversed?(K=0,U=st):(K=st,U=0)):(J=u,q=Math.abs(ot-st),Z=u,X=Math.abs(nt-st),U=K=0,h.reversed?(_=f,Q=st):_=st+1)}var ht,lt=Math.round;if(this.pmx=lt(K),this.pmy=lt(Q),this.pmh=lt(q),this.pmw=lt(J),this.nmx=lt(U),this.nmy=lt(_),this.nmh=lt(X),this.nmw=lt(Z),1>(c="column"==l?(G*c-z*(g-1))/g:G*c)&&(c=1),"line"==l||"step"==l||"smoothedLine"==l){if(0<S)for(ht=S-1;-1<ht;ht--)if(H=(Y=(V=s[ht]).axes[h.id].graphs[n]).values.value){S=ht;break}if(M<s.length-1)for(ht=M+1;ht<s.length;ht++)if(H=(Y=(V=s[ht]).axes[h.id].graphs[n]).values.value){M=ht;break}}M<s.length-1&&M++;var ct=[],ut=[],dt=!1;for("line"!=l&&"step"!=l&&"smoothedLine"!=l||(this.stackable&&"regular"==C||"100%"==C||this.fillToGraph)&&(dt=!0),ht=S;ht<=M;ht++){(Y=(V=s[ht]).axes[h.id].graphs[n]).index=ht;var ft,pt,gt,mt,vt,bt,yt=NaN,xt=NaN,wt=NaN,Ot=NaN,Ct=NaN,At=NaN,St=NaN,Mt=NaN,Nt=NaN,Dt=NaN,Tt=NaN,jt=NaN,kt=NaN,Pt=NaN,Bt=NaN,Rt=NaN,Lt=NaN,It=void 0,Et=$,Ft=it,zt=R;void 0!=Y.color&&(Et=Y.color),Y.fillColors&&(Et=Y.fillColors),isNaN(Y.alpha)||(Ft=Y.alpha);var Gt=Y.values;if(h.recalculateToPercents&&(Gt=Y.percents),Gt){if(Pt=this.stackable&&"none"!=C&&"3d"!=C?Gt.close:Gt.value,"candlestick"!=l&&"ohlc"!=l||(Pt=Gt.close,Rt=Gt.low,St=h.getCoordinate(Rt),Bt=Gt.high,Nt=h.getCoordinate(Bt)),Lt=Gt.open,wt=h.getCoordinate(Pt),isNaN(Lt)||(Ct=h.getCoordinate(Lt)),!N)switch(this.showBalloonAt){case"close":Y.y=wt;break;case"open":Y.y=Ct;break;case"high":Y.y=Nt;break;case"low":Y.y=St}yt=V.x[D.id];var Wt=Math.floor(G/2),Vt=Wt;switch("start"==this.pointPosition&&(yt-=G/2,Wt=0,Vt=G),N||(Y.x=yt),-1e5>yt&&(yt=-1e5),yt>u+1e5&&(yt=u+1e5),p?(xt=wt,Ot=Ct,Ct=wt=yt,isNaN(Lt)&&!this.fillToGraph&&(Ot=T),At=St,Mt=Nt):(Ot=xt=yt,isNaN(Lt)&&!this.fillToGraph&&(Ct=T)),Pt<Lt&&(Y.isNegative=!0,tt&&(Et=tt),rt&&(Ft=rt),void 0!=et&&(zt=et)),l){case"line":isNaN(Pt)?v||(this.drawLineGraph(b,y,ct,ut),b=[],y=[],ct=[],ut=[]):(Y.isNegative=Pt<j,b.push(xt),y.push(wt),Dt=xt,Tt=wt,jt=xt,kt=wt,dt&&!isNaN(Ct)&&!isNaN(Ot)&&(ct.push(Ot),ut.push(Ct)));break;case"smoothedLine":isNaN(Pt)?v||(this.drawSmoothedGraph(b,y,ct,ut),b=[],y=[],ct=[],ut=[]):(Y.isNegative=Pt<j,b.push(xt),y.push(wt),Dt=xt,Tt=wt,jt=xt,kt=wt,dt&&!isNaN(Ct)&&!isNaN(Ot)&&(ct.push(Ot),ut.push(Ct)));break;case"step":isNaN(Pt)?v||(e=NaN,this.drawLineGraph(b,y,ct,ut),b=[],y=[],ct=[],ut=[]):(Y.isNegative=Pt<j,p?(isNaN(t)||(b.push(t),y.push(wt-Wt)),y.push(wt-Wt),b.push(xt),y.push(wt+Vt),b.push(xt),dt&&!isNaN(Ct)&&!isNaN(Ot)&&(ct.push(Ot),ut.push(Ct-Wt),ct.push(Ot),ut.push(Ct+Vt))):(isNaN(e)||(y.push(e),b.push(xt-Wt)),b.push(xt-Wt),y.push(wt),b.push(xt+Vt),y.push(wt),dt&&!isNaN(Ct)&&!isNaN(Ot)&&(ct.push(Ot-Wt),ut.push(Ct),ct.push(Ot+Vt),ut.push(Ct))),t=xt,e=wt,Dt=xt,Tt=wt,jt=xt,kt=wt);break;case"column":if(vt=zt,void 0!=Y.lineColor&&(vt=Y.lineColor),!isNaN(Pt)){Pt<j?(Y.isNegative=!0,tt&&(Et=tt),void 0!=et&&(zt=et)):Y.isNegative=!1;var Yt=h.min,Ht=h.max;if(!(Pt<Yt&&Lt<Yt||Pt>Ht&&Lt>Ht))if(p){"3d"==C?(pt=wt-.5*(c+z)+z/2+O*k,ft=Ot+w*k):(pt=wt-(g/2-k)*(c+z)+z/2,ft=Ot),Dt=xt,Tt=pt+c/2,jt=xt,kt=pt+c/2,pt+(gt=c)>d&&(gt=d-pt),0>pt&&(gt+=pt,pt=0),mt=xt-Ot,mt+=ft-(ft=r.fitToBounds(ft,0,u)),mt=r.fitToBounds(mt,-ft,u-ft+w*k),pt<d&&0<gt&&(It=new r.Cuboid(o,mt,gt,w,O,Et,Ft,P,vt,B,F,m,p),"bottom"!=A)&&(A=h.reversed?"left":"right",0>Pt?A=h.reversed?"right":"left":"regular"!=C&&"100%"!=C||(Dt+=this.dx))}else{"3d"==C?(ft=xt-.5*(c+z)+z/2+w*k,pt=Ct+O*k):(ft=xt-(g/2-k)*(c+z)+z/2,pt=Ct),Dt=ft+c/2,Tt=wt,jt=ft+c/2,kt=wt,ft+(gt=c)>u+k*w&&(gt=u-ft+k*w),0>ft&&(gt+=ft,ft=0),mt=wt-Ct,mt+=pt-(pt=r.fitToBounds(pt,this.dy,d)),mt=r.fitToBounds(mt,O*k-pt,d-pt),ft<u+k*w&&0<gt&&(It=new r.Cuboid(o,gt,mt,w,O,Et,Ft,P,vt,this.lineAlpha,F,m,p),0>Pt&&"middle"!=A?A="bottom":(A=E,("regular"==C||"100%"==C)&&(Tt+=this.dy)))}It&&((bt=It.set).translate(ft,pt),this.columnsSet.push(bt),Y.url&&bt.setAttr("cursor","pointer"),!N)&&("none"==C&&(i=p?(this.end+1-ht)*x-a:x*ht+a),"3d"==C&&(p?(i=(x-a)*(this.end+1-ht),Dt+=w*this.columnIndex,jt+=w*this.columnIndex,Y.y+=w*this.columnIndex):(i=(x-a)*(ht+1),Dt+=3,Tt+=O*this.columnIndex+7,kt+=O*this.columnIndex,Y.y+=O*this.columnIndex)),"regular"!=C&&"100%"!=C||(A="middle",i=p?0<Gt.value?(this.end+1-ht)*x+a:(this.end+1-ht)*x-a:0<Gt.value?x*ht+a:x*ht-a),this.columnsArray.push({column:It,depth:i}),Y.x=p?pt+gt/2:ft+gt/2,this.ownColumns.push(It),this.animateColumns(It,ht,xt,Ot,wt,Ct),this.addListeners(bt,Y))}break;case"candlestick":if(!isNaN(Lt)&&!isNaN(Pt)){var Xt,Zt,Ut,_t;if(vt=zt,void 0!=Y.lineColor&&(vt=Y.lineColor),p){if(ft=Ot,(pt=wt-c/2)+(gt=c)>d&&(gt=d-pt),0>pt&&(gt+=pt,pt=0),pt<d&&0<gt)Pt>Lt?(Ut=[xt,Mt],_t=[Ot,At]):(Ut=[Ot,Mt],_t=[xt,At]),!isNaN(Mt)&&!isNaN(At)&&wt<d&&0<wt&&(Xt=r.line(o,Ut,[wt,wt],vt,B,P),Zt=r.line(o,_t,[wt,wt],vt,B,P)),mt=xt-Ot,It=new r.Cuboid(o,mt,gt,w,O,Et,it,P,vt,B,F,m,p)}else if(pt=Ct+P/2,(ft=xt-c/2)+(gt=c)>u&&(gt=u-ft),0>ft&&(gt+=ft,ft=0),mt=wt-Ct,ft<u&&0<gt){var qt,Jt;It=new r.Cuboid(o,gt,mt,w,O,Et,Ft,P,vt,B,F,m,p);Pt>Lt?(qt=[wt,Nt],Jt=[Ct,St]):(qt=[Ct,Nt],Jt=[wt,St]),!isNaN(Nt)&&!isNaN(St)&&xt<u&&0<xt&&(Xt=r.line(o,[xt,xt],qt,vt,B,P),Zt=r.line(o,[xt,xt],Jt,vt,B,P))}It&&(bt=It.set,I.push(bt),bt.translate(ft,pt),Y.url&&bt.setAttr("cursor","pointer"),Xt&&(I.push(Xt),I.push(Zt)),Dt=xt,Tt=wt,jt=xt,kt=wt,N||(Y.x=p?pt+gt/2:ft+gt/2,this.animateColumns(It,ht,xt,Ot,wt,Ct),this.addListeners(bt,Y)))}break;case"ohlc":if(!(isNaN(Lt)||isNaN(Bt)||isNaN(Rt)||isNaN(Pt))){var Kt,Qt,$t;if(Pt<Lt&&(Y.isNegative=!0,void 0!=et&&(zt=et)),p){var te=wt-c/2,ee=(te=r.fitToBounds(te,0,d),r.fitToBounds(wt,0,d)),ie=wt+c/2;ie=r.fitToBounds(ie,0,d);Qt=r.line(o,[Ot,Ot],[te,ee],zt,B,P,L),0<wt&&wt<d&&(Kt=r.line(o,[At,Mt],[wt,wt],zt,B,P,L)),$t=r.line(o,[xt,xt],[ee,ie],zt,B,P,L)}else{var re=xt-c/2,ne=(re=r.fitToBounds(re,0,u),r.fitToBounds(xt,0,u)),ae=xt+c/2;ae=r.fitToBounds(ae,0,u);Qt=r.line(o,[re,ne],[Ct,Ct],zt,B,P,L),0<xt&&xt<u&&(Kt=r.line(o,[xt,xt],[St,Nt],zt,B,P,L)),$t=r.line(o,[ne,ae],[wt,wt],zt,B,P,L)}I.push(Qt),I.push(Kt),I.push($t),Dt=xt,Tt=wt,jt=xt,kt=wt}}if(!N&&!isNaN(Pt)){var se=this.hideBulletsCount;if(this.end-this.start<=se||0===se){var oe=this.createBullet(Y,jt,kt,ht);oe||(oe=0);var he=this.labelText;if(he){var le=this.createLabel(Y,0,0,he),ce=0,ue=0,de=le.getBBox(),fe=de.width,pe=de.height;switch(A){case"left":ce=-(fe/2+oe/2+3);break;case"top":ue=-(pe/2+oe/2+3);break;case"right":ce=oe/2+2+fe/2;break;case"bottom":p&&"column"==l?(Dt=T,0>Pt?(ce=-6,le.attr({"text-anchor":"end"})):(ce=6,le.attr({"text-anchor":"start"}))):(ue=oe/2+pe/2,le.x=-(fe/2+2));break;case"middle":"column"==l&&(p?(ue=-pe/2+this.fontSize/2,ce=-(xt-Ot)/2-w,0>mt&&(ce+=w),Math.abs(xt-Ot)<fe&&!this.showAllValueLabels&&(le.remove(),le=null)):(ue=-(wt-Ct)/2,0>mt&&(ue-=O),Math.abs(wt-Ct)<pe&&!this.showAllValueLabels&&(le.remove(),le=null)))}if(le){if(isNaN(Tt)||isNaN(Dt))le.remove(),le=null;else if(Dt+=ce,Tt+=ue,le.translate(Dt,Tt),p)(0>Tt||Tt>d)&&(le.remove(),le=null);else{var ge=0;"3d"==C&&(ge=w*k),(0>Dt||Dt>u+ge)&&(le.remove(),le=null)}le&&this.allBullets.push(le)}}if("column"==l&&"regular"==C||"100%"==C){var me=h.totalText;if(me){var ve=this.createLabel(Y,0,0,me);this.allBullets.push(ve);var be,ye,xe=ve.getBBox(),we=xe.width,Oe=xe.height,Ce=h.totals[ht];Ce&&Ce.remove(),p?(ye=wt,be=0>Pt?xt-we/2-2:xt+we/2+3):(be=xt,ye=0>Pt?wt+Oe/2:wt-Oe/2-3),ve.translate(be,ye),h.totals[ht]=ve,p?(0>ye||ye>d)&&ve.remove():(0>be||be>u)&&ve.remove()}}}}}}"line"!=l&&"step"!=l&&"smoothedLine"!=l||("smoothedLine"==l?this.drawSmoothedGraph(b,y,ct,ut):this.drawLineGraph(b,y,ct,ut),N||this.launchAnimation())},animateColumns:function(t,e){var i=this,r=i.chart.startDuration;0<r&&!i.animationPlayed&&(i.seqAn?(t.set.hide(),i.animationArray.push(t),r=setTimeout(function(){i.animate.call(i)},1e3*r/(i.end-i.start+1)*(e-i.start)),i.timeOuts.push(r)):i.animate(t))},createLabel:function(t,e,i,n){var a=this.chart,s=t.labelColor;void 0==s&&(s=this.color),void 0==s&&(s=a.color);var o=this.fontSize;return void 0===o&&(this.fontSize=o=a.fontSize),t=a.formatString(n,t,this),t=r.cleanFromEmpty(t),(a=r.text(this.container,t,s,a.fontFamily,o)).translate(e,i),this.bulletSet.push(a),a},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,e,i,n){if(1<t.length){var a=this.set,s=this.container,o=s.set(),h=s.set();a.push(o),a.push(h);var l=this.lineAlpha,c=this.lineThickness,u=this.dashLength,d=(a=this.fillAlphas,this.fillColors),f=this.negativeLineColor,p=this.negativeFillColors,g=this.negativeFillAlphas,m=this.baseCoord,v=r.line(s,t,e,this.lineColor,l,c,u,!1,!0);o.push(v),void 0!==f&&(l=r.line(s,t,e,f,l,c,u,!1,!0),h.push(l)),0<a&&(l=t.join(";").split(";"),c=e.join(";").split(";"),"serial"==this.chartType&&(0<i.length?(i.reverse(),n.reverse(),l=t.concat(i),c=e.concat(n)):this.rotate?(c.push(c[c.length-1]),l.push(m),c.push(c[0]),l.push(m),c.push(c[0]),l.push(l[0])):(l.push(l[l.length-1]),c.push(m),l.push(l[0]),c.push(m),l.push(t[0]),c.push(c[0]))),t=r.polygon(s,l,c,d,a,0,0,0,this.gradientRotation),o.push(t),p||void 0!==f)&&(isNaN(g)&&(g=a),p||(p=f),s=r.polygon(s,l,c,p,g,0,0,0,this.gradientRotation),h.push(s)),this.applyMask(h,o)}},applyMask:function(t,e){var i=t.length();"serial"==this.chartType&&!this.scrollbar&&(this.positiveClip(e),0<i&&this.negativeClip(t))},drawSmoothedGraph:function(t,e,i,n){if(1<t.length){var a=this.set,s=this.container,o=s.set(),h=s.set();a.push(o),a.push(h);var l=this.lineAlpha,c=this.lineThickness,u=(a=this.dashLength,this.fillAlphas),d=this.fillColors,f=this.negativeLineColor,p=this.negativeFillColors,g=this.negativeFillAlphas,m=this.baseCoord,v=new r.Bezier(s,t,e,this.lineColor,l,c,d,0,a);o.push(v.path),void 0!==f&&(l=new r.Bezier(s,t,e,f,l,c,d,0,a),h.push(l.path)),0<u&&(c=t.join(";").split(";"),v=e.join(";").split(";"),l="",0<i.length?(i.reverse(),n.reverse(),c=t.concat(i),v=e.concat(n)):(this.rotate?(l+=" L"+m+","+e[e.length-1],l+=" L"+m+","+e[0]):(l+=" L"+t[t.length-1]+","+m,l+=" L"+t[0]+","+m),l+=" L"+t[0]+","+e[0]),i=new r.Bezier(s,c,v,NaN,0,0,d,u,a,l),o.push(i.path),p||void 0!==f)&&(g||(g=u),p||(p=f),t=new r.Bezier(s,t,e,NaN,0,0,p,g,a,l),h.push(t.path)),this.applyMask(h,o)}},launchAnimation:function(){var t=this,e=t.chart.startDuration;if(0<e&&!t.animationPlayed){var i=t.set,n=t.bulletSet;r.VML||(i.attr({opacity:t.startAlpha}),n.attr({opacity:t.startAlpha})),i.hide(),n.hide(),t.seqAn?(e=setTimeout(function(){t.animateGraphs.call(t)},1e3*t.index*e),t.timeOuts.push(e)):t.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,i=this.bulletSet,r=this.x,n=this.y;e.show(),i.show();var a=t.startDuration;t=t.startEffect;e&&(this.rotate?(e.translate(-1e3,n),i.translate(-1e3,n)):(e.translate(r,-1e3),i.translate(r,-1e3)),e.animate({opacity:1,translate:r+","+n},a,t),i.animate({opacity:1,translate:r+","+n},a,t))},animate:function(t){var e=this.chart,i=this.container,n=this.animationArray;!t&&0<n.length&&(t=n[0],n.shift()),i=i[r.getEffect(e.startEffect)],e=e.startDuration,t&&(this.rotate?t.animateWidth(e,i):t.animateHeight(e,i),t.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColor,0===e&&(e=this.fillColors)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(0===(t=this.lineAlpha)&&this.fillAlphas&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(t,e,i){var n,a=this.container,s=this.bulletOffset,o=this.bulletSize;if(isNaN(t.bulletSize)||(o=t.bulletSize),!isNaN(this.maxValue)){var h=t.values.value;isNaN(h)||(o=h/this.maxValue*this.maxBulletSize)}if(o<this.minBulletSize&&(o=this.minBulletSize),this.rotate?e+=s:i-=s,"none"!=this.bullet||t.bullet){var l=this.bulletColor;t.isNegative&&void 0!==this.bulletColorNegative&&(l=this.bulletColorNegative),void 0!==t.color&&(l=t.color),s=this.bullet,t.bullet&&(s=t.bullet);h=this.bulletBorderThickness;var c=this.bulletBorderColor,u=this.bulletBorderAlpha,d=l,f=this.bulletAlpha;l=t.alpha;switch(isNaN(l)||(f=l),l=0,s){case"round":n=r.circle(a,o/2,d,f,h,c,u);break;case"square":n=r.polygon(a,[0,o,o,0],[0,0,o,o],d,f,h,c,u),e-=o/2,i-=o/2,l=-o/2;break;case"triangleUp":n=r.triangle(a,o,0,d,f,h,c,u);break;case"triangleDown":n=r.triangle(a,o,180,d,f,h,c,u);break;case"triangleLeft":n=r.triangle(a,o,270,d,f,h,c,u);break;case"triangleRight":n=r.triangle(a,o,90,d,f,h,c,u);break;case"bubble":n=r.circle(a,o/2,d,f,h,c,u,!0)}}return h=s=0,(this.customBullet||t.customBullet)&&(c=this.customBullet,t.customBullet&&(c=t.customBullet),c&&(n&&n.remove(),"function"==typeof c?((n=new c).chart=this.chart,t.bulletConfig&&(n.availableSpace=i,n.graph=this,t.bulletConfig.minCoord=this.minCoord-i,n.bulletConfig=t.bulletConfig),n.write(a),n=n.set):(this.chart.path&&(c=this.chart.path+c),n=a.image(c,0,0,o,o),this.centerCustomBullets&&(e-=o/2,i-=o/2,s-=o/2,h-=o/2)))),n&&(t.url&&n.setAttr("cursor","pointer"),"serial"==this.chartType&&(e-s<l||e-s>this.width||i<-o/2||i-h>this.height)&&(n.remove(),n=null),n&&(this.bulletSet.push(n),n.translate(e,i),this.addListeners(n,t),this.allBullets.push(n))),o},showBullets:function(){var t,e=this.allBullets;for(t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(t=0;t<e.length;t++)e[t].hide()},addListeners:function(t,e){var i=this;t.mouseover(function(){i.handleRollOver(e)}).mouseout(function(){i.handleRollOut(e)}).touchend(function(){i.handleRollOver(e)}).touchstart(function(){i.handleRollOver(e)}).click(function(){i.handleClick(e)}).dblclick(function(){i.handleDoubleClick(e)}).contextmenu(function(){i.handleRightClick(e)})},handleRollOver:function(t){if(t){var e=this.chart,i={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart};this.fire("rollOverGraphItem",i),e.fire("rollOverGraphItem",i),clearTimeout(e.hoverInt),i=this.showBalloon,e.chartCursor&&"serial"==this.chartType&&(i=!1,!e.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(i=!0)),i&&(i=e.formatString(this.balloonText,t,t.graph),i=r.cleanFromEmpty(i),t=e.getBalloonColor(this,t),e.balloon.showBullet=!1,e.balloon.pointerOrientation="V",e.showBalloon(i,t,!0))}},handleRollOut:function(t){this.chart.hideBalloon(),t&&(t={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart},this.fire("rollOutGraphItem",t),this.chart.fire("rollOutGraphItem",t))},handleClick:function(t){if(t){var e={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart};this.fire("clickGraphItem",e),this.chart.fire("clickGraphItem",e),r.getURL(t.url,this.urlTarget)}},handleRightClick:function(t){t&&(t={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart},this.fire("rightClickGraphItem",t),this.chart.fire("rightClickGraphItem",t))},handleDoubleClick:function(t){t&&(t={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart},this.fire("doubleClickGraphItem",t),this.chart.fire("doubleClickGraphItem",t))},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e,i=this.set;if(i&&i.setAttr("opacity",t),i=this.ownColumns)for(e=0;e<i.length;e++){var r=i[e].set;r&&r.setAttr("opacity",t)}(i=this.bulletSet)&&i.setAttr("opacity",t)},destroy:function(){r.remove(this.set),r.remove(this.bulletSet);var t,e=this.timeOuts;if(e)for(t=0;t<e.length;t++)clearTimeout(e[t]);this.timeOuts=[]}}),r.ChartCursor=r.Class({construct:function(){this.createEvents("changed","zoomed","onHideCursor","draw","selected"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.animate=!0,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1},draw:function(){var t=this;t.destroy();var e=t.chart,i=e.container;t.rotate=e.rotate,t.container=i,(i=i.set()).translate(t.x,t.y),t.set=i,e.cursorSet.push(i),(i=new r.AmBalloon).chart=e,t.categoryBalloon=i,i.cornerRadius=0,i.borderThickness=0,i.borderAlpha=0,i.showBullet=!1;var n=t.categoryBalloonColor;if(void 0===n&&(n=t.cursorColor),i.fillColor=n,i.fillAlpha=t.categoryBalloonAlpha,i.borderColor=n,i.color=t.color,t.rotate&&(i.pointerOrientation="H"),t.valueBalloonsEnabled)for(i=0;i<e.graphs.length;i++)(n=new r.AmBalloon).chart=e,r.copyProperties(e.balloon,n),e.graphs[i].valueBalloon=n;"cursor"==t.type?t.createCursor():t.createCrosshair(),t.interval=setInterval(function(){t.detectMovement.call(t)},40)},updateData:function(){var t=this.chart;this.data=t.chartData,this.firstTime=t.firstTime,this.lastTime=t.lastTime},createCursor:function(){var t,e,i=this.chart,n=this.cursorAlpha,a=i.categoryAxis,s=a.position,o=a.inside,h=a.axisThickness,l=this.categoryBalloon,c=i.dx,u=i.dy,d=this.x,f=this.y,p=this.width,g=this.height,m=(i=i.rotate,a.tickLength);l.pointerWidth=m,i?(t=[0,p,p+c],e=[0,0,u]):(t=[c,0,0],e=[u,0,g]),this.line=n=r.line(this.container,t,e,this.cursorColor,n,1),this.set.push(n),i?(o&&(l.pointerWidth=0),"right"==s?o?l.setBounds(d,f+u,d+p+c,f+g+u):l.setBounds(d+p+c+h,f+u,d+p+1e3,f+g+u):o?l.setBounds(d,f,p+d,g+f):l.setBounds(-1e3,-1e3,d-m-h,f+g+15)):(l.maxWidth=p,a.parseDates&&(m=0,l.pointerWidth=0),"top"==s?o?l.setBounds(d+c,f+u,p+c+d,g+f):l.setBounds(d+c,-1e3,p+c+d,f+u-m-h):o?l.setBounds(d,f,p+d,g+f-m):l.setBounds(d,f+g+m+h-1,d+p,f+g+m+h)),this.hideCursor()},createCrosshair:function(){var t=this.cursorAlpha,e=this.container,i=r.line(e,[0,0],[0,this.height],this.cursorColor,t,1);t=r.line(e,[0,this.width],[0,0],this.cursorColor,t,1);this.set.push(i),this.set.push(t),this.vLine=i,this.hLine=t,this.hideCursor()},detectMovement:function(){var t=this.chart;if(t.mouseIsOver){var e=t.mouseX-this.x,i=t.mouseY-this.y;0<e&&e<this.width&&0<i&&i<this.height?(this.drawing?this.rolledOver||t.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||t.setMouseCursor("move")),this.rolledOver=!0,this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},getMousePosition:function(){var t,e=this.width,i=this.height;return t=this.chart,this.rotate?(0>(t=t.mouseY-this.y)&&(t=0),t>i&&(t=i)):(0>(t=t.mouseX-this.x)&&(t=0),t>e&&(t=e)),t},updateCrosshair:function(){var t=this.chart,e=t.mouseX-this.x,i=t.mouseY-this.y,n=this.vLine,a=this.hLine;e=r.fitToBounds(e,0,this.width),i=r.fitToBounds(i,0,this.height);0<this.cursorAlpha&&(n.show(),a.show(),n.translate(e,0),a.translate(0,i)),this.zooming&&(t.hideXScrollbar&&(e=NaN),t.hideYScrollbar&&(i=NaN),this.updateSelectionSize(e,i)),!t.mouseIsOver&&!this.zooming&&this.hideCursor()},updateSelectionSize:function(t,e){r.remove(this.selection);var i=this.selectionPosX,n=this.selectionPosY,a=0,s=0,o=this.width,h=this.height;isNaN(t)||(i>t&&(a=t,o=i-t),i<t&&(a=i,o=t-i),i==t&&(a=t,o=0)),isNaN(e)||(n>e&&(s=e,h=n-e),n<e&&(s=n,h=e-n),n==e&&(s=e,h=0)),0<o&&0<h&&((i=r.rect(this.container,o,h,this.cursorColor,this.selectionAlpha)).translate(a+this.x,s+this.y),this.selection=i)},arrangeBalloons:function(){var t,e=this.valueBalloons,i=this.x,r=this.y,n=this.height+r;for(e.sort(this.compareY),t=0;t<e.length;t++){var a=e[t].balloon;a.setBounds(i,r,i+this.width,n),a.draw(),n=a.yPos-3}this.arrangeBalloons2()},compareY:function(t,e){return t.yy<e.yy?1:-1},arrangeBalloons2:function(){var t=this.valueBalloons;t.reverse();var e,i,r,n=this.x;for(r=0;r<t.length;r++){var a=t[r].balloon;e=a.bottom;var s=a.bottom-a.yPos;0<r&&e-s<i+3&&(a.setBounds(n,i+3,n+this.width,i+s+3),a.draw()),a.set&&a.set.show(),i=a.bottom}},showBullets:function(){r.remove(this.allBullets);var t=this.container,e=t.set();this.set.push(e),this.set.show(),this.allBullets=e;var i;e=this.chart.graphs;for(i=0;i<e.length;i++){var n=e[i];if(!n.hidden&&n.balloonText){var a,s,o=this.data[this.index].axes[n.valueAxis.id].graphs[n.id],h=o.y;if(!isNaN(h))a=o.x,this.rotate?(s=h,h=a):s=a,(n=r.circle(t,this.bulletSize/2,this.chart.getBalloonColor(n,o),n.cursorBulletAlpha)).translate(s,h),this.allBullets.push(n)}}},destroy:function(){this.clear(),r.remove(this.selection),this.selection=null;var t=this.categoryBalloon;t&&t.destroy(),this.destroyValueBalloons(),r.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var t,e=this.valueBalloons;if(e)for(t=0;t<e.length;t++)e[t].balloon.hide()},zoom:function(t,e,i,r){var n,a=this.chart;this.destroyValueBalloons(),this.zooming=!1,this.rotate?this.selectionPosY=n=a.mouseY:this.selectionPosX=n=a.mouseX,this.start=t,this.end=e,this.startTime=i,this.endTime=r,this.zoomed=!0;var s=a.categoryAxis;a=this.rotate;n=this.width;var o=this.height;s.parseDates&&!s.equalSpacing?(t=r-i+s.minDuration(),t=a?o/t:n/t):t=a?o/(e-t):n/(e-t),this.stepWidth=t,this.setPosition(),this.hideCursor()},hideObj:function(t){t&&t.hide()},hideCursor:function(t){void 0===t&&(t=!0),this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||r.remove(this.selection),this.previousIndex=NaN,t&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto")},setPosition:function(t,e){if(void 0===e&&(e=!0),"cursor"==this.type){if(r.ifArray(this.data)){if(isNaN(t)&&(t=this.getMousePosition()),(t!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(t)){var i=this.chart.categoryAxis.xToIndex(t);(i!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(i,e),this.zoomed=!1)}this.previousMousePosition=t}}else this.updateCrosshair()},updateCursor:function(t,e){var i=(M=this.chart).mouseX-this.x,n=M.mouseY-this.y;if(this.drawingNow&&(r.remove(this.drawingLine),this.drawingLine=r.line(this.container,[this.x+this.drawStartX,this.x+i],[this.y+this.drawStartY,this.y+n],this.cursorColor,1,1)),this.enabled){void 0===e&&(e=!0),this.index=t;var a=M.categoryAxis,s=M.dx,o=M.dy,h=this.x,l=this.y,c=this.width,u=this.height,d=this.data[t];if(d){var f=d.x[a.id],p=M.rotate,g=a.inside,m=this.stepWidth,v=this.categoryBalloon,b=this.firstTime,y=this.lastTime,x=this.cursorPosition,w=a.position,O=this.zooming,C=this.panning,A=M.graphs,S=a.axisThickness;if(M.mouseIsOver||O||C||this.forceShow)if(this.forceShow=!1,C){s=this.panClickPos;var M=this.panClickEndTime,N=(O=this.panClickStartTime,this.panClickEnd);h=this.panClickStart,i=(p?s-n:s-i)/m;a.parseDates&&!a.equalSpacing||(i=Math.round(i)),0!==i&&((s={type:"zoomed",target:this}).chart=this.chart,a.parseDates&&!a.equalSpacing?(M+i>y&&(i=y-M),O+i<b&&(i=b-O),s.start=O+i,s.end=M+i,this.fire(s.type,s)):N+i>=this.data.length||0>h+i||(s.start=h+i,s.end=N+i,this.fire(s.type,s)))}else{if("start"==x&&(f-=a.cellWidth/2),"mouse"==x&&M.mouseIsOver&&(f=p?n-2:i-2),p){if(0>f){if(!O)return void this.hideCursor();f=0}if(f>u+1){if(!O)return void this.hideCursor();f=u+1}}else{if(0>f){if(!O)return void this.hideCursor();f=0}if(f>c){if(!O)return void this.hideCursor();f=c}}if(0<this.cursorAlpha&&(b=this.line,p?b.translate(0,f+o):b.translate(f,0),b.show()),this.linePos=p?f+o:f,O&&(p?this.updateSelectionSize(NaN,f):this.updateSelectionSize(f,NaN)),b=!0,O&&(b=!1),this.categoryBalloonEnabled&&b?(p?(g&&("right"==w?v.setBounds(h,l+o,h+c+s,l+f+o):v.setBounds(h,l+o,h+c+s,l+f)),"right"==w?g?v.setPosition(h+c+s,l+f+o):v.setPosition(h+c+s+S,l+f+o):g?v.setPosition(h,l+f):v.setPosition(h-S,l+f)):"top"==w?g?v.setPosition(h+f+s,l+o):v.setPosition(h+f+s,l+o-S+1):g?v.setPosition(h+f,l+u):v.setPosition(h+f,l+u+S-1),a.parseDates?(-1!=(a=r.formatDate(d.category,this.categoryBalloonDateFormat)).indexOf("fff")&&(a=r.formatMilliseconds(a,d.category)),v.showBalloon(a)):v.showBalloon(d.category)):v.hide(),A&&this.bulletsEnabled&&this.showBullets(),this.destroyValueBalloons(),A&&this.valueBalloonsEnabled&&b&&M.balloon.enabled){if(this.valueBalloons=b=[],this.oneBalloonOnly){for(o=1/0,a=0;a<A.length;a++)(m=A[a]).showBalloon&&!m.hidden&&m.balloonText&&(y=(v=d.axes[m.valueAxis.id].graphs[m.id]).y,isNaN(y)||(p?Math.abs(i-y)<o&&(o=Math.abs(i-y),N=m):Math.abs(n-y)<o&&(o=Math.abs(n-y),N=m)));this.mostCloseGraph&&(N=this.mostCloseGraph)}for(a=0;a<A.length;a++)m=A[a],this.oneBalloonOnly&&m!=N||!m.showBalloon||m.hidden||!m.balloonText||(y=(v=d.axes[m.valueAxis.id].graphs[m.id]).y,isNaN(y))||(f=v.x,g=!0,p?(o=y,(0>f||f>u)&&(g=!1)):(o=f,f=y,(0>o||o>c+s)&&(g=!1)),g&&(g=m.valueBalloon,w=M.getBalloonColor(m,v),g.setBounds(h,l,h+c,l+u),g.pointerOrientation="H",g.changeColor(w),void 0!==m.balloonAlpha&&(g.fillAlpha=m.balloonAlpha),void 0!==m.balloonTextColor&&(g.color=m.balloonTextColor),g.setPosition(o+h,f+l),""!==(m=M.formatString(m.balloonText,v,m))&&g.showBalloon(m),!p&&g.set&&g.set.hide(),b.push({yy:y,balloon:g})));p||this.arrangeBalloons()}e?((s={type:"changed"}).index=t,s.target=this,s.chart=this.chart,s.zooming=O,s.mostCloseGraph=N,s.position=p?n:i,s.target=this,M.fire("changed",s),this.fire("changed",s),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,M.updateLegendValues(t)),this.previousIndex=t}}}else this.hideCursor()},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.rolledOver=!1,this.drawing=t},isZooming:function(t){t&&t!=this.zooming&&this.handleMouseDown("fake"),!t&&t!=this.zooming&&this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var t={type:"changed",index:void 0,target:this};t.chart=this.chart,this.fire("changed",t),this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var t,e=this.chart,i=this.data;if(e){var n=e.mouseX-this.x,a=e.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1,r.remove(this.drawingLine),t=this.drawStartX;var s=this.drawStartY;(2<Math.abs(t-n)||2<Math.abs(s-a))&&(t={type:"draw",target:this,chart:e,initialX:t,initialY:s,finalX:n,finalY:a},this.fire(t.type,t))}if(this.enabled&&0<i.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){if((t=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"}).target=this,t.chart=e,"cursor"==this.type)this.rotate?this.selectionPosY=a:this.selectionPosX=a=n,2>Math.abs(a-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(t.end=this.fromIndex,t.start=this.index):(t.end=this.index,t.start=this.fromIndex),(a=e.categoryAxis).parseDates&&!a.equalSpacing&&(t.start=i[t.start].time,t.end=e.getEndTime(i[t.end].time)),this.skipZoomDispatch||this.fire(t.type,t));else{var o=this.initialMouseX,h=this.initialMouseY;3>Math.abs(n-o)&&3>Math.abs(a-h)||(i=Math.min(o,n),s=Math.min(h,a),n=Math.abs(o-n),a=Math.abs(h-a),e.hideXScrollbar&&(i=0,n=this.width),e.hideYScrollbar&&(s=0,a=this.height),t.selectionHeight=a,t.selectionWidth=n,t.selectionY=s,t.selectionX=i,this.skipZoomDispatch||this.fire(t.type,t))}this.selectWithoutZooming||r.remove(this.selection)}this.panning=this.zooming=this.skipZoomDispatch=!1}}},showCursorAt:function(t){var e=this.chart.categoryAxis;t=e.parseDates?e.dateToCoordinate(t):e.categoryToCoordinate(t),this.previousMousePosition=NaN,this.forceShow=!0,this.setPosition(t,!1)},handleMouseDown:function(t){if(this.zoomable||this.pan||this.drawing){var e=this.rotate,i=this.chart,n=i.mouseX-this.x,a=i.mouseY-this.y;(0<n&&n<this.width&&0<a&&a<this.height||"fake"==t)&&(this.setPosition(),this.selectWithoutZooming&&r.remove(this.selection),this.drawing?(this.drawStartY=a,this.drawStartX=n,this.drawingNow=!0):this.pan?(this.zoomable=!1,i.setMouseCursor("move"),this.panning=!0,this.panClickPos=e?a:n,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,e?(this.initialMouse=a,this.selectionPosY=this.linePos):(this.initialMouse=n,this.selectionPosX=this.linePos)):(this.initialMouseX=n,this.initialMouseY=a,this.selectionPosX=n,this.selectionPosY=a),this.zooming=!0))}}}),r.SimpleChartScrollbar=r.Class({construct:function(){this.createEvents("zoomed"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconWidth=11,this.dragIconHeight=18},draw:function(){var t=this;t.destroy(),t.interval=setInterval(function(){t.updateScrollbar.call(t)},40);var e,i,n=t.chart.container,a=t.rotate,s=t.chart,o=n.set();if(t.set=o,s.scrollbarsSet.push(o),a?(e=t.scrollbarHeight,i=s.plotAreaHeight):(i=t.scrollbarHeight,e=s.plotAreaWidth),t.width=e,(t.height=i)&&e){var h=r.rect(n,e,i,t.backgroundColor,t.backgroundAlpha);t.bg=h,o.push(h),h=r.rect(n,e,i,"#000",.005),o.push(h),t.invisibleBg=h,h.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),h=r.rect(n,e,i,t.selectedBackgroundColor,t.selectedBackgroundAlpha),t.selectedBG=h,o.push(h),e=r.rect(n,e,i,"#000",.005),t.dragger=e,o.push(e),e.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),e=s.pathToImages,a?(h=e+"dragIconH.gif",e=t.dragIconWidth,a=t.dragIconHeight):(h=e+"dragIcon.gif",a=t.dragIconWidth,e=t.dragIconHeight),i=n.image(h,0,0,a,e);h=n.image(h,0,0,a,e);var l=10,c=20;s.panEventsEnabled&&(l=25,c=t.scrollbarHeight);var u=r.rect(n,l,c,"#000",.005),d=r.rect(n,l,c,"#000",.005);d.translate(-(l-a)/2,-(c-e)/2),u.translate(-(l-a)/2,-(c-e)/2),a=n.set([i,d]),n=n.set([h,u]),t.iconLeft=a,o.push(t.iconLeft),t.iconRight=n,o.push(n),a.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),n.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),r.ifArray(s.chartData)?o.show():o.hide(),t.hideDragIcons()}o.translate(t.x,t.y),t.clipDragger(!1)},updateScrollbarSize:function(t,e){var i,r,n,a,s=this.dragger;this.rotate?(i=0,r=t,n=this.width+1,a=e-t,s.setAttr("height",e-t),s.setAttr("y",r)):(i=t,r=0,n=e-t,a=this.height+1,s.setAttr("width",e-t),s.setAttr("x",i)),this.clipAndUpdate(i,r,n,a)},updateScrollbar:function(){var t,e,i,r=!1,n=this.x,a=this.y,s=this.dragger;e=(h=this.getDBox()).x+n,i=h.y+a;var o=h.width,h=h.height,l=this.rotate,c=this.chart,u=this.width,d=this.height,f=c.mouseX,p=c.mouseY;t=this.initialMouse,c.mouseIsOver&&(this.dragging&&(c=this.initialCoord,l?(0>(t=c+(p-t))&&(t=0),t>(c=d-h)&&(t=c),s.setAttr("y",t)):(0>(t=c+(f-t))&&(t=0),t>(c=u-o)&&(t=c),s.setAttr("x",t))),this.resizingRight&&(l?((t=p-i)+i>d+a&&(t=d-i+a),0>t?(this.resizingRight=!1,r=this.resizingLeft=!0):(0===t&&(t=.1),s.setAttr("height",t))):((t=f-e)+e>u+n&&(t=u-e+n),0>t?(this.resizingRight=!1,r=this.resizingLeft=!0):(0===t&&(t=.1),s.setAttr("width",t)))),this.resizingLeft&&(l?(e=i,(i=p)<a&&(i=a),i>d+a&&(i=d+a),0>(t=!0===r?e-i:h+e-i)?(this.resizingRight=!0,this.resizingLeft=!1,s.setAttr("y",e+h-a)):(0===t&&(t=.1),s.setAttr("y",i-a),s.setAttr("height",t))):((i=f)<n&&(i=n),i>u+n&&(i=u+n),0>(t=!0===r?e-i:o+e-i)?(this.resizingRight=!0,this.resizingLeft=!1,s.setAttr("x",e+o-n)):(0===t&&(t=.1),s.setAttr("x",i-n),s.setAttr("width",t)))),this.clipDragger(!0))},clipDragger:function(t){var e=(n=this.getDBox()).x,i=n.y,r=n.width,n=n.height,a=!1;this.rotate?(e=0,r=this.width+1,(this.clipY!=i||this.clipH!=n)&&(a=!0)):(i=0,n=this.height+1,(this.clipX!=e||this.clipW!=r)&&(a=!0)),a&&(this.clipAndUpdate(e,i,r,n),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))},maskGraphs:function(){},clipAndUpdate:function(t,e,i,r){this.clipX=t,this.clipY=e,this.clipW=i,this.clipH=r,this.selectedBG.clipRect(t,e,i,r),this.updateDragIconPositions(),this.maskGraphs(t,e,i,r)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=(n=this.getDBox()).x,i=n.y,r=n.width,n=n.height;this.rotate?(e=i,r=this.height/n):r=this.width/r,t={type:"zoomed",position:e,chart:t,target:this,multiplier:r},this.fire(t.type,t)}},updateDragIconPositions:function(){var t,e,i=this.getDBox(),r=i.x,n=i.y,a=this.iconLeft,s=this.iconRight,o=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,a.translate((o-e)/2,n-t/2),s.translate((o-e)/2,n+i.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,a.translate(r-e/2,(o-t)/2),s.translate(r+-e/2+i.width,(o-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){!this.resizingLeft&&!this.resizingRight&&!this.dragging&&(this.hideResizeGrips&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(t,e){this.dragger.stop(),this.multiplier=t,this.position=e,this.updateScrollbarSize(e,this.rotate?e+this.height/t:e+this.width/t)},destroy:function(){this.clear(),r.remove(this.set)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var t=this.chart;this.dragger.stop(),this.removeCursors(),this.dragging=!0;var e=this.getDBox();this.rotate?(this.initialCoord=e.y,this.initialMouse=t.mouseY):(this.initialCoord=e.x,this.initialMouse=t.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop(),this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},rightDragStart:function(){this.dragger.stop(),this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize"),this.handleMouseOver()},getDBox:function(){return this.dragger.getBBox()},handleBgClick:function(){if(!this.resizingRight&&!this.resizingLeft){this.zooming=!0;var t,e,i=this.scrollDuration,n=this.dragger,a=(t=this.getDBox()).height,s=t.width;e=this.chart;var o=this.y,h=this.x,l=this.rotate;l?(t="y",e=e.mouseY-a/2-o,e=r.fitToBounds(e,0,this.height-a)):(t="x",e=e.mouseX-s/2-h,e=r.fitToBounds(e,0,this.width-s)),this.updateOnReleaseOnly?(this.skipEvent=!1,n.setAttr(t,e),this.dispatchScrollbarEvent(),this.clipDragger()):(e=Math.round(e),l?n.animate({y:e},i,">"):n.animate({x:e},i,">"))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.updateOnRelease(),this.removeCursors()),this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.updateScrollbar())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons()}}),r.ChartScrollbar=r.Class({inherits:r.SimpleChartScrollbar,construct:function(){r.ChartScrollbar.base.construct.call(this),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1},init:function(){var t=this.categoryAxis,e=this.chart;t||(this.categoryAxis=t=new r.CategoryAxis),t.chart=e,t.id="scrollbar",t.dateFormats=e.categoryAxis.dateFormats,t.boldPeriodBeginning=e.categoryAxis.boldPeriodBeginning,t.axisItemRenderer=r.RecItem,t.axisRenderer=r.RecAxis,t.guideFillRenderer=r.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,this.graph&&((t=this.valueAxis)||(this.valueAxis=t=new r.ValueAxis,t.visible=!1,t.scrollbar=!0,t.axisItemRenderer=r.RecItem,t.axisRenderer=r.RecAxis,t.guideFillRenderer=r.RecFill,t.labelsEnabled=!1,t.chart=e),(e=this.unselectedGraph)||((e=new r.AmGraph).scrollbar=!0,this.unselectedGraph=e,e.negativeBase=this.graph.negativeBase),(e=this.selectedGraph)||((e=new r.AmGraph).scrollbar=!0,this.selectedGraph=e,e.negativeBase=this.graph.negativeBase)),this.scrollbarCreated=!0},draw:function(){var t=this;r.ChartScrollbar.base.draw.call(t),t.scrollbarCreated||t.init();var e=t.chart,i=e.chartData,n=t.categoryAxis,a=t.rotate,s=t.x,o=t.y,h=t.width,l=t.height,c=e.categoryAxis,u=t.set;if(n.setOrientation(!a),n.parseDates=c.parseDates,n.rotate=a,n.equalSpacing=c.equalSpacing,n.minPeriod=c.minPeriod,n.startOnAxis=c.startOnAxis,n.viW=h,n.viH=l,n.width=h,n.height=l,n.gridCount=t.gridCount,n.gridColor=t.gridColor,n.gridAlpha=t.gridAlpha,n.color=t.color,n.autoGridCount=t.autoGridCount,n.parseDates&&!n.equalSpacing&&n.timeZoom(e.firstTime,e.lastTime),n.zoom(0,i.length-1),c=t.graph){var d=t.valueAxis,f=c.valueAxis;d.id=f.id,d.rotate=a,d.setOrientation(a),d.width=h,d.height=l,d.viW=h,d.viH=l,d.dataProvider=i,d.reversed=f.reversed,d.logarithmic=f.logarithmic,d.gridAlpha=0,d.axisAlpha=0,u.push(d.set),a?d.y=o:d.x=s;var p;s=1/0,o=-1/0;for(p=0;p<i.length;p++){var g,m=i[p].axes[f.id].graphs[c.id].values;for(g in m)if(m.hasOwnProperty(g)&&"percents"!=g&&"total"!=g){var v=m[g];v<s&&(s=v),v>o&&(o=v)}}1/0!=s&&(d.minimum=s),-1/0!=o&&(d.maximum=o+.1*(o-s)),s==o&&(d.minimum-=1,d.maximum+=1),d.zoom(0,i.length-1),(g=t.unselectedGraph).id=c.id,g.rotate=a,g.chart=e,g.chartType=e.chartType,g.data=i,g.valueAxis=d,g.chart=c.chart,g.categoryAxis=t.categoryAxis,g.valueField=c.valueField,g.openField=c.openField,g.closeField=c.closeField,g.highField=c.highField,g.lowField=c.lowField,g.lineAlpha=t.graphLineAlpha,g.lineColor=t.graphLineColor,g.fillAlphas=t.graphFillAlpha,g.fillColors=t.graphFillColor,g.connect=c.connect,g.hidden=c.hidden,g.width=h,g.height=l,(f=t.selectedGraph).id=c.id,f.rotate=a,f.chart=e,f.chartType=e.chartType,f.data=i,f.valueAxis=d,f.chart=c.chart,f.categoryAxis=n,f.valueField=c.valueField,f.openField=c.openField,f.closeField=c.closeField,f.highField=c.highField,f.lowField=c.lowField,f.lineAlpha=t.selectedGraphLineAlpha,f.lineColor=t.selectedGraphLineColor,f.fillAlphas=t.selectedGraphFillAlpha,f.fillColors=t.selectedGraphFillColor,f.connect=c.connect,f.hidden=c.hidden,f.width=h,f.height=l,(e=t.graphType)||(e=c.type),g.type=e,f.type=e,i=i.length-1,g.zoom(0,i),f.zoom(0,i),f.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),g.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),u.push(g.set),u.push(f.set)}u.push(n.set),u.push(n.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()},timeZoom:function(t,e){this.startTime=t,this.endTime=e,this.timeDifference=e-t,this.skipEvent=!0,this.zoomScrollbar()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t,e,i=this.chart.chartData;t=(a=this.dragger.getBBox()).x,e=a.y;var r=a.width,n=a.height,a=this.chart;this.rotate?(t=e,e=n):e=r,(r={type:"zoomed",target:this}).chart=a;n=this.categoryAxis;var s=this.stepWidth;n.parseDates&&!n.equalSpacing?(i=a.firstTime,n.minDuration(),(a=Math.round(t/s)+i)>(i=this.dragging?a+this.timeDifference:Math.round((t+e)/s)+i)&&(a=i),(a!=this.startTime||i!=this.endTime)&&(this.startTime=a,this.endTime=i,r.start=a,r.end=i,r.startDate=new Date(a),r.endDate=new Date(i),this.fire(r.type,r))):(n.startOnAxis||(t+=s/2),e-=this.stepWidth/2,a=n.xToIndex(t),t=n.xToIndex(t+e),(a!=this.start||this.end!=t)&&(n.startOnAxis&&(this.resizingRight&&a==t&&t++,this.resizingLeft&&a==t&&(0<a?a--:t=1)),this.start=a,this.end=this.dragging?this.start+this.difference:t,r.start=this.start,r.end=this.end,n.parseDates&&(i[this.start]&&(r.startDate=new Date(i[this.start].time)),i[this.end]&&(r.endDate=new Date(i[this.end].time))),this.fire(r.type,r)))}},zoomScrollbar:function(){var t,e,i=(t=this.chart).chartData,r=this.categoryAxis;r.parseDates&&!r.equalSpacing?(i=r.stepWidth,r=t.firstTime,t=i*(this.startTime-r),e=i*(this.endTime-r)):(t=i[this.start].x[r.id],e=i[this.end].x[r.id],i=r.stepWidth,r.startOnAxis||(t-=r=i/2,e+=r)),this.stepWidth=i,this.updateScrollbarSize(t,e)},maskGraphs:function(t,e,i,r){var n=this.selectedGraph;n&&n.set.clipRect(t,e,i,r)},handleDragStart:function(){r.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){r.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}}),r.circle=function(t,e,i,n,a,s,o,h){return void 0!=a&&0!==a||(a=1),void 0===s&&(s="#000000"),void 0===o&&(o=0),n={fill:i,stroke:s,"fill-opacity":n,"stroke-width":a,"stroke-opacity":o},t=t.circle(0,0,e).attr(n),h&&t.gradient("radialGradient",[i,r.adjustLuminosity(i,-.6)]),t},r.text=function(t,e,i,r,n,a,s,o){return a||(a="middle"),"right"==a&&(a="end"),i={fill:i,"font-family":r,"font-size":n,opacity:o},!0===s&&(i["font-weight"]="bold"),i["text-anchor"]=a,t.text(e,i)},r.polygon=function(t,e,i,n,a,s,o,h,l){isNaN(s)&&(s=0),isNaN(h)&&(h=a);var c=!1;"object"==typeof(d=n)&&1<d.length&&(c=!0,d=d[0]),void 0===o&&(o=d),a={fill:d,stroke:o,"fill-opacity":a,"stroke-width":s,"stroke-opacity":h},s=r.dx,o=r.dy;var u,d="M"+((h=Math.round)(e[0])+s)+","+(h(i[0])+o);for(u=1;u<e.length;u++)d+=" L"+(h(e[u])+s)+","+(h(i[u])+o);return t=t.path(d+" Z").attr(a),c&&t.gradient("linearGradient",n,l),t},r.rect=function(t,e,i,n,a,s,o,h,l,c){isNaN(s)&&(s=0),void 0===l&&(l=0),void 0===c&&(c=270),isNaN(a)&&(a=0);var u=n,d=!1;"object"==typeof u&&(u=u[0],d=!0),void 0===o&&(o=u),void 0===h&&(h=a),e=Math.round(e),i=Math.round(i);var f=0,p=0;return 0>e&&(f=-(e=Math.abs(e))),0>i&&(p=-(i=Math.abs(i))),f+=r.dx,p+=r.dy,a={fill:u,stroke:o,"fill-opacity":a,"stroke-opacity":h},t=t.rect(f,p,e,i,l,s).attr(a),d&&t.gradient("linearGradient",n,c),t},r.triangle=function(t,e,i,r,n,a,s,o){var h;return void 0!==a&&0!==a||(a=1),void 0===s&&(s="#000"),void 0===o&&(o=0),r={fill:r,stroke:s,"fill-opacity":n,"stroke-width":a,"stroke-opacity":o},e/=2,0===i&&(h=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(h=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(h=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(h=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(h).attr(r)},r.line=function(t,e,i,n,a,s,o,h,l,c){for(s={fill:"none","stroke-width":s},void 0!==o&&0<o&&(s["stroke-dasharray"]=o),isNaN(a)||(s["stroke-opacity"]=a),n&&(s.stroke=n),n=Math.round,c&&(n=r.doNothing),c=r.dx,a=r.dy,o="M"+(n(e[0])+c)+","+(n(i[0])+a),h=1;h<e.length;h++)o+=" L"+(n(e[h])+c)+","+(n(i[h])+a);return r.VML?t.path(o,void 0,!0).attr(s):(l&&(o+=" M0,0 L0,0"),t.path(o).attr(s))},r.doNothing=function(t){return t},r.wedge=function(t,e,i,n,a,s,o,h,l,c,u){var d=Math.round;s=d(s);var f=d((o=d(o))/s*(h=d(h))),p=r.VML;-359.95>(v=-359.5-s/100)&&(v=-359.95),a<=v&&(a=v);var g,m=1/180*Math.PI,v=e+Math.cos(n*m)*h,b=i+Math.sin(-n*m)*f,y=e+Math.cos(n*m)*s,x=i+Math.sin(-n*m)*o,w=e+Math.cos((n+a)*m)*s,O=i+Math.sin((-n-a)*m)*o,C=e+Math.cos((n+a)*m)*h,A=(m=i+Math.sin((-n-a)*m)*f,{fill:r.adjustLuminosity(c.fill,-.2),"stroke-opacity":0}),S=0;if(180<Math.abs(a)&&(S=1),n=t.set(),p&&(v=d(10*v),y=d(10*y),w=d(10*w),C=d(10*C),b=d(10*b),x=d(10*x),O=d(10*O),m=d(10*m),e=d(10*e),l=d(10*l),i=d(10*i),s*=10,o*=10,h*=10,f*=10,1>Math.abs(a)&&1>=Math.abs(w-y)&&1>=Math.abs(O-x)&&(g=!0)),a="",0<l){p?(path=" M"+v+","+(b+l)+" L"+y+","+(x+l),g||(path+=" A"+(e-s)+","+(l+i-o)+","+(e+s)+","+(l+i+o)+","+y+","+(x+l)+","+w+","+(O+l)),path+=" L"+C+","+(m+l),0<h&&(g||(path+=" B"+(e-h)+","+(l+i-f)+","+(e+h)+","+(l+i+f)+","+C+","+(l+m)+","+v+","+(l+b)))):(path=" M"+v+","+(b+l)+" L"+y+","+(x+l),path+=" A"+s+","+o+",0,"+S+",1,"+w+","+(O+l)+" L"+C+","+(m+l),0<h&&(path+=" A"+h+","+f+",0,"+S+",0,"+v+","+(b+l))),path+=" Z";var M=t.path(path,void 0,void 0,"1000,1000").attr(A);n.push(M),M=t.path(" M"+v+","+b+" L"+v+","+(b+l)+" L"+y+","+(x+l)+" L"+y+","+x+" L"+v+","+b+" Z",void 0,void 0,"1000,1000").attr(A),l=t.path(" M"+w+","+O+" L"+w+","+(O+l)+" L"+C+","+(m+l)+" L"+C+","+m+" L"+w+","+O+" Z",void 0,void 0,"1000,1000").attr(A),n.push(M),n.push(l)}if(p?(g||(a=" A"+d(e-s)+","+d(i-o)+","+d(e+s)+","+d(i+o)+","+d(y)+","+d(x)+","+d(w)+","+d(O)),s=" M"+d(v)+","+d(b)+" L"+d(y)+","+d(x)+a+" L"+d(C)+","+d(m)):s=" M"+v+","+b+" L"+y+","+x+" A"+s+","+o+",0,"+S+",1,"+w+","+O+" L"+C+","+m,0<h&&(p?g||(s+=" B"+(e-h)+","+(i-f)+","+(e+h)+","+(i+f)+","+C+","+m+","+v+","+b):s+=" A"+h+","+f+",0,"+S+",0,"+v+","+b),t=t.path(s+" Z",void 0,void 0,"1000,1000").attr(c),u){for(e=[],i=0;i<u.length;i++)e.push(r.adjustLuminosity(c.fill,u[i]));0<e.length&&t.gradient("linearGradient",e)}return n.push(t),n},r.adjustLuminosity=function(t,e){6>(t=String(t).replace(/[^0-9a-f]/gi,"")).length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),e=e||0;var i,r,n="#";for(r=0;3>r;r++)i=parseInt(t.substr(2*r,2),16),n+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16))).substr(i.length);return n},r.AmPieChart=r.Class({inherits:r.AmChart,construct:function(){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),r.AmPieChart.base.construct.call(this),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.pieAlpha=1,this.pieBrightnessStep=30,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.minRadius=10,this.hoverAlpha=1,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startRadius="500%",this.startDuration=this.startAlpha=1,this.startEffect="bounce",this.sequencedAnimation=!1,this.pullOutRadius="20%",this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelRadius=30,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.labelText="[[title]]: [[percents]]%",this.hideLabelsPercent=0,this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.urlTarget="_self",this.previousScale=1,this.autoMarginOffset=10,this.gradientRatio=[]},initChart:function(){r.AmPieChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.legend&&this.legend.setData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var i=t.hidden;switch(e){case"clickMarker":case"clickLabel":i||this.clickSlice(t);break;case"rollOverItem":i||this.rollOverSlice(t,!1);break;case"rollOutItem":i||this.rollOutSlice(t);break;case"hideItem":this.hideSlice(t);break;case"showItem":this.showSlice(t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},drawChart:function(){var t=this;r.AmPieChart.base.drawChart.call(t);var e=t.chartData;if(r.ifArray(e)){if(0<t.realWidth&&0<t.realHeight){r.VML&&(t.startAlpha=1);var i=t.startDuration,n=t.container,a=t.updateWidth();t.realWidth=a;var s=t.updateHeight();t.realHeight=s;var o=r.toCoordinate,h=o(t.marginLeft,a),l=o(t.marginRight,a),c=o(t.marginTop,s)+t.getTitleHeight(),u=o(t.marginBottom,s);t.chartDataLabels=[],t.ticks=[];var d,f,p,g=r.toNumber(t.labelRadius),m=t.measureMaxLabel();for(t.labelText&&t.labelsEnabled||(g=m=0),d=void 0===t.pieX?(a-h-l)/2+h:o(t.pieX,t.realWidth),f=void 0===t.pieY?(s-c-u)/2+c:o(t.pieY,s),p=o(t.radius,a,s),t.pullOutRadiusReal=r.toCoordinate(t.pullOutRadius,p),p||(a=0<=g?a-h-l-2*m:a-h-l,s=s-c-u,p=Math.min(a,s),s<a&&((p/=1-t.angle/90)>a&&(p=a)),t.pullOutRadiusReal=r.toCoordinate(t.pullOutRadius,p),p=0<=g?p-1.8*(g+t.pullOutRadiusReal):p-1.8*t.pullOutRadiusReal,p/=2),p<t.minRadius&&(p=t.minRadius),t.pullOutRadiusReal=o(t.pullOutRadius,p),(o=o(t.innerRadius,p))>=p&&(o=p-1),s=r.fitToBounds(t.startAngle,0,360),0<t.depth3D&&(s=270<=s?270:90),c=p-p*t.angle/90,u=0;u<e.length;u++)if(!0!==(a=e[u]).hidden&&0<a.percents){l=360*-a.percents/100,m=Math.cos((s+l/2)/180*Math.PI);var v=Math.sin((-s-l/2)/180*Math.PI)*(c/p);h={fill:a.color,stroke:t.outlineColor,"stroke-width":t.outlineThickness,"stroke-opacity":t.outlineAlpha};if(a.url&&(h.cursor="pointer"),h=r.wedge(n,d,f,s,l,p,c,o,t.depth3D,h,t.gradientRatio),t.addEventListeners(h,a),a.startAngle=s,e[u].wedge=h,0<i){var b=t.startAlpha;t.chartCreated&&(b=a.alpha),h.setAttr("opacity",b)}if(a.ix=m,a.iy=v,a.wedge=h,a.index=u,t.labelsEnabled&&t.labelText&&a.percents>=t.hideLabelsPercent){0>=(w=s+l/2)&&(w+=360),l=g,isNaN(a.labelRadius)||(l=a.labelRadius);var y,x;m=d+m*(p+l),v=f+v*(p+l),b=0;if(0<=l)90>=w&&0<=w?(x=0,y="start",b=8):360>=w&&270<w?(x=1,y="start",b=8):270>=w&&180<w?(x=2,y="end",b=-8):180>=w&&90<w&&(x=3,y="end",b=-8),a.labelQuarter=x;else y="middle";var w=t.formatString(t.labelText,a),O=a.labelColor;void 0==O&&(O=t.color),(w=r.text(n,w,O,t.fontFamily,t.fontSize,y)).translate(m+1.5*b,v),a.tx=m+1.5*b,a.ty=v,0<=l?h.push(w):t.freeLabelsSet.push(w),a.label=w,t.chartDataLabels[u]=w,a.tx=m,a.tx2=m+b}t.graphsSet.push(h),(0===a.alpha||0<i&&!t.chartCreated)&&h.hide(),0>=(s-=360*a.percents/100)&&(s+=360)}e=setTimeout(function(){t.showLabels.call(t)},1e3*i),t.timeOuts.push(e),0<g&&!t.labelRadiusField&&t.arrangeLabels(),t.pieXReal=d,t.pieYReal=f,t.radiusReal=p,t.innerRadiusReal=o,0<g&&t.drawTicks(),t.chartCreated?t.pullSlices(!0):(i=setTimeout(function(){t.pullSlices.call(t)},1200*i),t.timeOuts.push(i)),t.chartCreated||t.startSlices(),t.setDepths()}(i=t.legend)&&i.invalidateSize()}else t.cleanChart();t.dispDUpd(),t.chartCreated=!0},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i,r=(i=e[t]).wedge;90>=(i=i.startAngle)&&0<=i||360>=i&&270<i?r.toFront():(270>=i&&180<i||180>=i&&90<i)&&r.toBack()}},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.rollOverSlice(e,!0)}).mouseout(function(){i.rollOutSlice(e)}).click(function(){i.clickSlice(e)}).contextmenu(function(){i.handleRightClick(e)})},formatString:function(t,e){return t=r.formatValue(t,e,["value"],this.numberFormatter,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=r.formatValue(t,e,["percents"],this.percentFormatter),t=r.massReplace(t,{"[[title]]":e.title,"[[description]]":e.description,"<br>":"\n"}),t=r.fixNewLines(t),r.cleanFromEmpty(t)},drawTicks:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(this.chartDataLabels[t]){var i=e[t],n=i.ty,a=this.radiusReal;n=r.line(this.container,[this.pieXReal+i.ix*a,i.tx,i.tx2],[this.pieYReal+i.iy*a,n,n],this.labelTickColor,this.labelTickAlpha);i.wedge.push(n),this.ticks[t]=n}},arrangeLabels:function(){var t,e,i=this.chartData,r=i.length;for(e=r-1;0<=e;e--)0===(t=i[e]).labelQuarter&&!t.hidden&&this.checkOverlapping(e,t,0,!0,0);for(e=0;e<r;e++)1==(t=i[e]).labelQuarter&&!t.hidden&&this.checkOverlapping(e,t,1,!1,0);for(e=r-1;0<=e;e--)2==(t=i[e]).labelQuarter&&!t.hidden&&this.checkOverlapping(e,t,2,!0,0);for(e=0;e<r;e++)3==(t=i[e]).labelQuarter&&!t.hidden&&this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,i,r,n){var a,s,o=this.chartData,h=o.length,l=e.label;if(l){if(!0===r)for(s=t+1;s<h;s++)(a=this.checkOverlappingReal(e,o[s],i))&&(s=h);else for(s=t-1;0<=s;s--)(a=this.checkOverlappingReal(e,o[s],i))&&(s=0);!0===a&&100>n&&(a=e.ty+3*e.iy,e.ty=a,l.translate(e.tx2,a),this.checkOverlapping(t,e,i,r,n+1))}},checkOverlappingReal:function(t,e,i){var n=!1,a=t.label,s=e.label;return t.labelQuarter==i&&!t.hidden&&!e.hidden&&s&&(a=a.getBBox(),(i={}).width=a.width,i.height=a.height,i.y=t.ty,i.x=t.tx,t=s.getBBox(),(s={}).width=t.width,s.height=t.height,s.y=e.ty,s.x=e.tx,r.hitTest(i,s)&&(n=!0)),n},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++){var r=i[e];r.pulled&&this.pullSlice(r,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,i=this.startDuration;if(e&&0<i){0<t.alpha&&e.show();var n=r.toCoordinate(this.startRadius,this.radiusReal);e.translate(Math.round(t.ix*n),Math.round(t.iy*n)),e.animate({opacity:t.alpha,translate:"0,0"},i,this.startEffect)}},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(0<e[t].alpha){var i=this.chartDataLabels[t];i&&i.show(),(i=this.ticks[t])&&i.show()}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.hideBalloon(),this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt),this.pullOnHover&&this.pullSlice(t,1);var i=this.innerRadiusReal+(this.radiusReal-this.innerRadiusReal)/2;t.pulled&&(i+=this.pullOutRadiusReal),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var n=t.ix*i+this.pieXReal,a=(i=t.iy*i+this.pieYReal,this.formatString(this.balloonText,t)),s=r.adjustLuminosity(t.color,-.15);this.showBalloon(a,s,e,n,i),n={type:"rollOverSlice",dataItem:t,chart:this},this.fire(n.type,n)},rollOutSlice:function(t){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:t.alpha}),this.hideBalloon(),t={type:"rollOutSlice",dataItem:t,chart:this},this.fire(t.type,t)},clickSlice:function(t){isNaN(t)||(t=this.chartData[t]),this.hideBalloon(),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),r.getURL(t.url,this.urlTarget),t={type:"clickSlice",dataItem:t,chart:this},this.fire(t.type,t)},handleRightClick:function(t){isNaN(t)||(t=this.chartData[t]),t={type:"rightClickSlice",dataItem:t,chart:this},this.fire(t.type,t)},pullSlice:function(t,e,i){var r=t.ix,n=t.iy,a=this.pullOutDuration;!0===i&&(a=0),i=t.wedge;var s=this.pullOutRadiusReal;i&&i.animate({translate:e*r*s+","+e*n*s},a,this.pullOutEffect),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t.type,t)},pullInAll:function(t){var e,i=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&i[e].pulled&&this.pullSlice(i[e],0)},pullOutAll:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var t=[];this.chartData=t;var e=this.dataProvider;if(void 0!==e){var i,n,a,s=e.length,o=0;for(i=0;i<s;i++){n={};var h=e[i];n.dataContext=h,n.value=Number(h[this.valueField]),(a=h[this.titleField])||(a=""),n.title=a,n.pulled=r.toBoolean(h[this.pulledField],!1),(a=h[this.descriptionField])||(a=""),n.description=a,n.labelRadius=Number(h[this.labelRadiusField]),n.url=h[this.urlField],n.visibleInLegend=r.toBoolean(h[this.visibleInLegendField],!0),a=h[this.alphaField],n.alpha=void 0!==a?Number(a):this.pieAlpha,void 0!==(a=h[this.colorField])&&(n.color=r.toColor(a)),n.labelColor=r.toColor(h[this.labelColorField]),o+=n.value,n.hidden=!1,t[i]=n}for(i=e=0;i<s;i++)(n=t[i]).percents=n.value/o*100,n.percents<this.groupPercent&&e++;for(1<e&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/o*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha})),i=0;i<t.length;i++)this.pieBaseColor?a=r.adjustLuminosity(this.pieBaseColor,i*this.pieBrightnessStep/100):void 0===(a=this.colors[i])&&(a=r.randomColor()),void 0===t[i].color&&(t[i].color=a);this.recalculatePercents()}},recalculatePercents:function(){var t,e,i=this.chartData,r=0;for(t=0;t<i.length;t++)!(e=i[t]).hidden&&0<e.value&&(r+=e.value);for(t=0;t<i.length;t++)(e=this.chartData[t]).percents=!e.hidden&&0<e.value?100*e.value/r:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();var e=setTimeout(function(){t.pullSlices.call(t)},1200*t.startDuration);t.timeOuts.push(e)},measureMaxLabel:function(){var t,e=this.chartData,i=0;for(t=0;t<e.length;t++){var n=this.formatString(this.labelText,e[t]),a=(n=r.text(this.container,n,this.color,this.fontFamily,this.fontSize)).getBBox().width;a>i&&(i=a),n.remove()}return i}}),r.AmXYChart=r.Class({inherits:r.AmRectangularChart,construct:function(){r.AmXYChart.base.construct.call(this),this.createEvents("zoomed"),this.maxZoomFactor=20,this.chartType="xy"},initChart:function(){r.AmXYChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,e=this.marginTopReal,i=this.plotAreaWidth,n=this.plotAreaHeight;this.graphsSet.clipRect(t,e,i,n),this.bulletSet.clipRect(t,e,i,n),this.trendLinesSet.clipRect(t,e,i,n)},createValueAxes:function(){var t=[],e=[];this.xAxes=t,this.yAxes=e;var i,n,a=this.valueAxes;for(n=0;n<a.length;n++){var s=(i=a[n]).position;"top"!=s&&"bottom"!=s||(i.rotate=!0),i.setOrientation(i.rotate),"V"==(s=i.orientation)&&e.push(i),"H"==s&&t.push(i)}for(0===e.length&&((i=new r.ValueAxis).rotate=!1,i.setOrientation(!1),a.push(i),e.push(i)),0===t.length&&((i=new r.ValueAxis).rotate=!0,i.setOrientation(!0),a.push(i),t.push(i)),n=0;n<a.length;n++)this.processValueAxis(a[n],n);for(t=this.graphs,n=0;n<t.length;n++)this.processGraph(t[n],n)},drawChart:function(){if(r.AmXYChart.base.drawChart.call(this),r.ifArray(this.chartData)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),this.hideXScrollbar){var t=this.scrollbarH;t&&(this.removeListener(t,"zoomed",this.handleHSBZoom),t.destroy()),this.scrollbarH=null}this.hideYScrollbar&&((t=this.scrollbarV)&&(this.removeListener(t,"zoomed",this.handleVSBZoom),t.destroy()),this.scrollbarV=null),this.autoMargins&&!this.marginsUpdated||(this.dispDUpd(),this.chartCreated=!0,this.zoomScrollbars())},cleanChart:function(){r.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.toggleZoomOutButton(),this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.dispatchAxisZoom()},toggleZoomOutButton:function(){1==this.heightMultiplier&&1==this.widthMultiplier?this.showZB(!1):this.showZB(!0)},dispatchAxisZoom:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i,r,n=e[t];if(!isNaN(n.min)&&!isNaN(n.max))if("V"==n.orientation?(i=n.coordinateToValue(-this.verticalPosition),r=n.coordinateToValue(-this.verticalPosition+this.plotAreaHeight)):(i=n.coordinateToValue(-this.horizontalPosition),r=n.coordinateToValue(-this.horizontalPosition+this.plotAreaWidth)),!isNaN(i)&&!isNaN(r)){if(i>r){var a=r;r=i,i=a}n.dispatchZoomEvent(i,r)}}},zoomObjects:function(t){var e,i=t.length;for(e=0;e<i;e++){var r=t[e];this.updateObjectSize(r),r.zoom(0,this.chartData.length-1)}},updateData:function(){this.parseData();var t,e,i=this.chartData,r=i.length-1,n=this.graphs,a=this.dataProvider,s=0;for(t=0;t<n.length;t++){var o;if((e=n[t]).data=i,e.zoom(0,r),e=e.valueField)for(o=0;o<a.length;o++){var h=a[o][e];h>s&&(s=h)}}for(t=0;t<n.length;t++)(e=n[t]).maxValue=s;(i=this.chartCursor)&&(i.updateData(),i.type="crosshair",i.valueBalloonsEnabled=!1)},zoomOut:function(){this.verticalPosition=this.horizontalPosition=0,this.heightMultiplier=this.widthMultiplier=1,this.zoomChart(),this.zoomScrollbars()},processValueAxis:function(t){t.chart=this,t.minMaxField="H"==t.orientation?"x":"y",t.minTemp=NaN,t.maxTemp=NaN,this.listenTo(t,"axisSelfZoomed",this.handleAxisSelfZoom)},processGraph:function(t){t.xAxis||(t.xAxis=this.xAxes[0]),t.yAxis||(t.yAxis=this.yAxes[0])},parseData:function(){r.AmXYChart.base.parseData.call(this),this.chartData=[];var t,e=this.dataProvider,i=this.valueAxes,n=this.graphs;for(t=0;t<e.length;t++){var a,s={axes:{},x:{},y:{}},o=e[t];for(a=0;a<i.length;a++){var h,l=i[a].id;for(s.axes[l]={},s.axes[l].graphs={},h=0;h<n.length;h++){var c=n[h],u=c.id;if(c.xAxis.id==l||c.yAxis.id==l){var d={};d.serialDataItem=s,d.index=t;var f={},p=Number(o[c.valueField]);isNaN(p)||(f.value=p),p=Number(o[c.xField]),isNaN(p)||(f.x=p),p=Number(o[c.yField]),isNaN(p)||(f.y=p),d.values=f,this.processFields(c,d,o),d.serialDataItem=s,d.graph=c,s.axes[l].graphs[u]=d}}}this.chartData[t]=s}},formatString:function(t,e){var i=e.graph.numberFormatter;return i||(i=this.numberFormatter),-1!=(t=r.formatValue(t,e.values,["value","x","y"],i)).indexOf("[[")&&(t=r.formatDataContextValue(t,e.dataContext)),r.AmSerialChart.base.formatString.call(this,t,e)},addChartScrollbar:function(t){if(r.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]),t){this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight;var e="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var i=new r.SimpleChartScrollbar;i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleVSBZoom),r.copyProperties(t,i,e),i.rotate=!0,this.scrollbarV=i}this.hideXScrollbar||((i=new r.SimpleChartScrollbar).skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleHSBZoom),r.copyProperties(t,i,e),i.rotate=!1,this.scrollbarH=i)}},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.chart=this,i.valueAxis||(i.valueAxis=this.yAxes[0]),i.valueAxisX||(i.valueAxisX=this.xAxes[0])}},updateMargins:function(){r.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0)),(t=this.scrollbarH)&&(this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1))},updateScrollbars:function(){var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.draw()),(t=this.scrollbarH)&&(this.updateChartScrollbar(t,!1),t.draw())},zoomScrollbars:function(){var t=this.scrollbarH;t&&t.relativeZoom(this.widthMultiplier,-this.horizontalPosition/this.widthMultiplier),(t=this.scrollbarV)&&t.relativeZoom(this.heightMultiplier,-this.verticalPosition/this.heightMultiplier)},fitMultiplier:function(t){return t>this.maxZoomFactor&&(t=this.maxZoomFactor),t},handleHSBZoom:function(t){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaWidth*e-this.plotAreaWidth);t<i&&(t=i),this.widthMultiplier=e,this.horizontalPosition=t,this.zoomChart()},handleVSBZoom:function(t){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaHeight*e-this.plotAreaHeight);t<i&&(t=i),this.heightMultiplier=e,this.verticalPosition=t,this.zoomChart()},handleAxisSelfZoom:function(t){if("H"==t.valueAxis.orientation){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaWidth*e-this.plotAreaWidth);t<i&&(t=i),this.horizontalPosition=t,this.widthMultiplier=e}else e=this.fitMultiplier(t.multiplier),(t=-t.position*e)<(i=-(this.plotAreaHeight*e-this.plotAreaHeight))&&(t=i),this.verticalPosition=t,this.heightMultiplier=e;this.zoomChart(),this.zoomScrollbars()},handleCursorZoom:function(t){var e=this.widthMultiplier*this.plotAreaWidth/t.selectionWidth,i=this.heightMultiplier*this.plotAreaHeight/t.selectionHeight;e=this.fitMultiplier(e),i=this.fitMultiplier(i);this.horizontalPosition=(this.horizontalPosition-t.selectionX)*e/this.widthMultiplier,this.verticalPosition=(this.verticalPosition-t.selectionY)*i/this.heightMultiplier,this.widthMultiplier=e,this.heightMultiplier=i,this.zoomChart(),this.zoomScrollbars()},removeChartScrollbar:function(){r.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){r.AmXYChart.base.handleReleaseOutside.call(this,t),r.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])}}),r.AmDraw=r.Class({construct:function(t,e,i){if(r.SVG_NS="http://www.w3.org/2000/svg",r.SVG_XLINK="http://www.w3.org/1999/xlink",r.hasSVG=!!document.createElementNS&&!!document.createElementNS(r.SVG_NS,"svg").createSVGRect,1>e&&(e=10),1>i&&(i=10),this.div=t,this.width=e,this.height=i,this.rBin=document.createElement("div"),r.hasSVG){r.SVG=!0;var n=this.createSvgElement("svg");n.style.position="absolute",n.style.width=e+"px",n.style.height=i+"px",n.setAttribute("version","1.1"),t.appendChild(n),this.container=n,this.R=new r.SVGRenderer(this)}else r.isIE&&r.VMLRenderer&&(r.VML=!0,r.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),(e=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),r.vmlStyleSheet=e),this.container=t,this.R=new r.VMLRenderer(this),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(r.SVG_NS,t)},circle:function(t,e,i,n){var a=new r.AmDObject("circle",this);return a.attr({r:i,cx:t,cy:e}),this.addToContainer(a.node,n),a},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(t,e,i,n,a,s,o){var h=new r.AmDObject("rect",this);return r.VML&&(a=100*a/Math.min(i,n),i+=2*s,n+=2*s,h.bw=s,h.node.style.marginLeft=-s,h.node.style.marginTop=-s),1>i&&(i=1),1>n&&(n=1),h.attr({x:t,y:e,width:i,height:n,rx:a,ry:a,"stroke-width":s}),this.addToContainer(h.node,o),h},image:function(t,e,i,n,a,s){var o=new r.AmDObject("image",this);return o.attr({x:e,y:i,width:n,height:a}),this.R.path(o,t),this.addToContainer(o.node,s),o},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(t,e,i,n){var a=new r.AmDObject("path",this);return n||(n="100,100"),a.attr({cs:n}),i?a.attr({dd:t}):a.attr({d:t}),this.addToContainer(a.node,e),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},bounce:function(t,e,i,r,n){return(e/=n)<1/2.75?7.5625*r*e*e+i:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+i:r*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInSine:function(t,e,i,r,n){return-r*Math.cos(e/n*(Math.PI/2))+r+i},easeOutSine:function(t,e,i,r,n){return r*Math.sin(e/n*(Math.PI/2))+i},easeOutElastic:function(t,e,i,r,n){t=1.70158;var a=0,s=r;return 0===e?i:1==(e/=n)?i+r:(a||(a=.3*n),s<Math.abs(r)?(s=r,t=a/4):t=a/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*e)*Math.sin(2*(e*n-t)*Math.PI/a)+r+i)},renderFix:function(){var t,e=this.container,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(i){t=e.createSVGMatrix()}e=1-t.e%1,t=1-t.f%1,.5<e&&(e-=1),.5<t&&(t-=1),e&&(i.left=e+"px"),t&&(i.top=t+"px")}}),r.AmDObject=r.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,r){this.R.clipRect(this,t,e,i,r)},translate:function(t,e,i,r){r||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t){this.R.rotate(this,t),this.angle=t},animate:function(t,e,i){for(var n in t)if(t.hasOwnProperty(n)){var a=n,s=t[n];i=r.getEffect(i),this.R.animate(this,a,s,e,i)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){var e=t.parentNode;e&&e.appendChild(t)}},toBack:function(){var t=this.node;if(t){var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t):this.R.addListener(this,"contextmenu",t),this},stop:function(){var t=this.animationX;t&&r.removeFromArray(this.R.animations,t),(t=this.animationY)&&r.removeFromArray(this.R.animations,t)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)}}),r.VMLRenderer=r.Class({construct:function(t){this.D=t,this.cNames={circle:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"},this.animations=[]},create:function(t,e){var i;if("group"==e)i=document.createElement("div"),t.type="div";else if("text"==e)i=document.createElement("div"),t.type="text";else if("image"==e)i=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],i=document.createElement("amvml:"+this.cNames[e]);var r=document.createElement("amvml:stroke");i.appendChild(r),t.stroke=r;var n=document.createElement("amvml:fill");i.appendChild(n),t.fill=n,n.className="amvml",r.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(t,e,i){if(void 0!==i){var n;8===document.documentMode&&(n=!0);var a=t.node,s=t.type,o=a.style;"r"==e&&(o.width=2*i,o.height=2*i),"roundrect"!=t.shapeType||"width"!=e&&"height"!=e||(i-=1),"cursor"==e&&(o.cursor=i),"cx"==e&&(o.left=i-r.removePx(o.width)/2),"cy"==e&&(o.top=i-r.removePx(o.height)/2);var h=this.styleMap[e];if(void 0!==h&&(o[h]=i),"text"==s&&("text-anchor"==e&&(t.anchor=i,h=a.clientWidth,"end"==i&&(o.marginLeft=-h+"px"),"middle"==i&&(o.marginLeft=-h/2+"px"),"start"==i&&(o.marginLeft="0px")),"fill"==e&&(o.color=i),"font-weight"==e&&(o.fontWeight=i)),o=t.children)for(h=0;h<o.length;h++)o[h].setAttr(e,i);"shape"==s&&("cs"==e&&(a.style.width="100px",a.style.height="100px",a.setAttribute("coordsize",i)),"d"==e&&a.setAttribute("path",this.svgPathToVml(i)),"dd"==e&&a.setAttribute("path",i),s=t.stroke,t=t.fill,"stroke"==e&&(n?s.color=i:s.setAttribute("color",i)),"stroke-width"==e&&(n?s.weight=i:s.setAttribute("weight",i)),"stroke-opacity"==e&&(n?s.opacity=i:s.setAttribute("opacity",i)),"stroke-dasharray"==e&&(o="solid",0<i&&3>i&&(o="dot"),3<=i&&6>=i&&(o="dash"),6<i&&(o="longdash"),n?s.dashstyle=o:s.setAttribute("dashstyle",o)),"fill-opacity"!=e&&"opacity"!=e||(0===i?n?t.on=!1:t.setAttribute("on",!1):n?t.opacity=i:t.setAttribute("opacity",i)),"fill"==e&&(n?t.color=i:t.setAttribute("color",i)),"rx"==e&&(n?a.arcSize=i+"%":a.setAttribute("arcsize",i+"%")))}},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},text:function(t,e,i){var n=new r.AmDObject("text",this.D),a=n.node;return a.style.whiteSpace="pre",t=document.createTextNode(t),a.appendChild(t),this.D.addToContainer(a,i),this.attr(n,e),n},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,i=t.offsetLeft,r=t.offsetTop,n=t.offsetWidth,a=t.offsetHeight;if(t.hasChildNodes()){var s,o,h;for(h=0;h<t.childNodes.length;h++){var l=(e=this.getBox(t.childNodes[h])).x;isNaN(l)||(isNaN(s)?s=l:l<s&&(s=l));var c=e.y;isNaN(c)||(isNaN(o)?o=c:c<o&&(o=c)),l=e.width+l,isNaN(l)||(n=Math.max(n,l)),e=e.height+c,isNaN(e)||(a=Math.max(a,e))}0>s&&(i+=s),0>o&&(r+=o)}return{x:i,y:r,width:n,height:a}},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e))),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,i){t.node["on"+e]=i},move:function(t,e,i){var n=t.node,a=n.style;"text"==t.type&&(i-=r.removePx(a.fontSize)/2-1),"oval"==t.shapeType&&(e-=r.removePx(a.width)/2,i-=r.removePx(a.height)/2),t=t.bw,isNaN(t)||(e-=t,i-=t),!isNaN(e)&&!isNaN(i)&&(n.style.left=e+"px",n.style.top=i+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var i,r,n=Math.round;for(r=0;r<e.length;r++){var a,s=(a=e[r]).substring(0,1),o=(a=a.substring(1)).split(","),h=n(o[0])+","+n(o[1]);if("M"==s&&(t+=" m "+h),"L"==s&&(t+=" l "+h),"Z"==s&&(t+=" x e"),"Q"==s){var l=i.length,c=i[l-1],u=o[0],d=o[1],f=(h=o[2],o[3]);t+=" c "+(i=n(i[l-2]/3+2/3*u))+","+(c=n(c/3+2/3*d))+","+(u=n(2/3*u+h/3))+","+(d=n(2/3*d+f/3))+","+h+","+f}"A"==s&&(t+=" wa "+a),"B"==s&&(t+=" at "+a),i=o}return t},animate:function(t,e,i,n,a){var s=this,o=t.node;if("translate"==e){var h=i.split(",");e=h[1],i=o.offsetTop,o={obj:t,frame:0,attribute:"left",from:o.offsetLeft,to:h[0],time:n,effect:a},s.animations.push(o),n={obj:t,frame:0,attribute:"top",from:i,to:e,time:n,effect:a},s.animations.push(n),t.animationX=o,t.animationY=n}s.interval||(s.interval=setInterval(function(){s.updateAnimations.call(s)},r.updateRate))},updateAnimations:function(){var t;for(t=this.animations.length-1;0<=t;t--){var e=1e3*(h=this.animations[t]).time/r.updateRate,i=h.frame+1,n=h.obj,a=h.attribute;if(i<=e){h.frame++;var s=Number(h.from),o=Number(h.to)-s,h=this.D[h.effect](0,i,s,o,e);0===o?this.animations.splice(t,1):n.node.style[a]=h}else n.node.style[a]=Number(h.to),this.animations.splice(t,1)}},clipRect:function(t,e,i,r,n){t=t.node,0==e&&0==i?(t.style.width=r+"px",t.style.height=n+"px",t.style.overflow="hidden"):t.style.clip="rect("+i+"px "+(e+r)+"px "+(i+n)+"px "+e+"px)"},rotate:function(t,e){if(0!=Number(e)){var i=(c=t.node).style,n=this.getBGColor(c.parentNode);i.backgroundColor=n,i.paddingLeft=1;n=e*Math.PI/180;var a=Math.cos(n),s=Math.sin(n),o=r.removePx(i.left),h=r.removePx(i.top),l=c.offsetWidth,c=c.offsetHeight,u=e/Math.abs(e);i.left=o+l/2-l/2*Math.cos(n)-u*c/2*Math.sin(n)+3,i.top=h-u*l/2*Math.sin(n)+u*c/2*Math.sin(n),i.cssText=i.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+a+"', M12='"+-s+"', M21='"+s+"', M22='"+a+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var i=t.style.backgroundColor;""!==i?e=i:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(t){var e,i=new r.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),t)for(e=0;e<t.length;e++)i.push(t[e]);return i},gradient:function(t,e,i,r){var n,a="";for("radialGradient"==e&&(e="gradientradial",i.reverse()),"linearGradient"==e&&(e="gradient"),n=0;n<i.length;n++){a=a+(Math.round(100*n/(i.length-1))+"% ")+i[n];n<i.length-1&&(a+=",")}t=t.fill,90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270),8===document.documentMode?(t.type=e,t.angle=r):(t.setAttribute("type",e),t.setAttribute("angle",r)),a&&(t.colors.value=a)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){void 0!==typeof t.onselectstart&&(t.onselectstart=function(){return!1}),t.style.cursor="default"}}),r.SVGRenderer=r.Class({construct:function(t){this.D=t,this.animations=[]},create:function(t,e){return document.createElementNS(r.SVG_NS,e)},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(t,e,i,n,a){var s=this,o=t.node;"translate"==e?0===(o=(o=(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0").split(", ").join(" ")).split(" ").join(","))&&(o="0,0"):o=o.getAttribute(e),e={obj:t,frame:0,attribute:e,from:o,to:i,time:n,effect:a},s.animations.push(e),t.animationX=e,s.interval||(s.interval=setInterval(function(){s.updateAnimations.call(s)},r.updateRate))},updateAnimations:function(){var t;for(t=this.animations.length-1;0<=t;t--){var e,i,n,a=this.animations[t],s=1e3*a.time/r.updateRate,o=a.frame+1,h=a.obj,l=a.attribute;o<=s?(a.frame++,"translate"==l?(e=a.from.split(","),l=Number(e[0]),e=Number(e[1]),i=a.to.split(","),n=Number(i[0]),i=Number(i[1]),n=0==n-l?n:Math.round(this.D[a.effect](0,o,l,n-l,s)),l="transform",a="translate("+n+","+(a=0==i-e?i:Math.round(this.D[a.effect](0,o,e,i-e,s)))+")"):(e=Number(a.from),n=Number(a.to),n-=e,a=this.D[a.effect](0,o,e,n,s),0===n&&this.animations.splice(t,1)),this.setAttr(h,l,a)):("translate"==l?(i=a.to.split(","),n=Number(i[0]),i=Number(i[1]),h.translate(n,i)):(n=Number(a.to),this.setAttr(h,l,n)),this.animations.splice(t,1))}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,e){t.node.setAttributeNS(r.SVG_XLINK,"xlink:href",e)},clipRect:function(t,e,i,n,a){var s=t.node,o=t.clipPath;o&&this.D.remove(o);var h=s.parentNode;h&&(s=document.createElementNS(r.SVG_NS,"clipPath"),o=r.getUniqueId(),s.setAttribute("id",o),this.D.rect(e,i,n,a,0,0,s),h.appendChild(s),e="#",r.baseHref&&!r.isIE&&(e=window.location.href+e),this.setAttr(t,"clip-path","url("+e+o+")"),this.clipPathC++,t.clipPath=s)},text:function(t,e,i){var n=new r.AmDObject("text",this.D);t=String(t).split("\n");var a,s=e["font-size"];for(a=0;a<t.length;a++){var o=this.create(null,"tspan");o.appendChild(document.createTextNode(t[a])),o.setAttribute("y",(s+2)*a+s/2+0),o.setAttribute("x",0),n.node.appendChild(o)}return n.node.setAttribute("y",s/2+0),this.attr(n,e),this.D.addToContainer(n.node,i),n},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))},move:function(t,e,i,r){e="translate("+e+","+i+")",r&&(e=e+" scale("+r+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),r="rotate("+e+")";i&&(r=i+" "+r),this.setAttr(t,"transform",r)},set:function(t){var e,i=new r.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),t)for(e=0;e<t.length;e++)i.push(t[e]);return i},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(t,e,i,n){var a=t.node,s=t.grad;if(s&&this.D.remove(s),e=document.createElementNS(r.SVG_NS,e),s=r.getUniqueId(),e.setAttribute("id",s),!isNaN(n)){var o=0,h=0,l=0,c=0;90==n?l=100:270==n?c=100:180==n?o=100:0===n&&(h=100),e.setAttribute("x1",o+"%"),e.setAttribute("x2",h+"%"),e.setAttribute("y1",l+"%"),e.setAttribute("y2",c+"%")}for(n=0;n<i.length;n++)o=document.createElementNS(r.SVG_NS,"stop"),h=100*n/(i.length-1),0===n&&(h=0),o.setAttribute("offset",h+"%"),o.setAttribute("stop-color",i[n]),e.appendChild(o);a.parentNode.appendChild(e),i="#",r.baseHref&&!r.isIE&&(i=window.location.href+i),a.setAttribute("fill","url("+i+s+")"),t.grad=e},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),this.D.remove(t.node)}}),r.AmDSet=r.Class({construct:function(){this.create("g")},attr:function(t){this.R.attr(this.node,t)},move:function(t,e){this.R.move(this.node,t,e)}}),e.default=r},Xxof:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return u}),i.d(e,"c",function(){return g});var r=i("rfmQ");function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return function(t,e){for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(e,n);a&&a.configurable&&void 0===t[n]&&Object.defineProperty(t,n,a)}}(t,e),t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=s(t);if(e){var n=s(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(i,r["a"]);var e=a(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).name="BackboneFetchError",t}return i}();function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return function(t,e){for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(e,n);a&&a.configurable&&void 0===t[n]&&Object.defineProperty(t,n,a)}}(t,e),t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=c(t);if(e){var n=c(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,r["a"]);var e=l(i);function i(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=e.call(this,t,"ClientGlobalError",r)).name="ClientGlobalError",n}return i}();function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return function(t,e){for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(e,n);a&&a.configurable&&void 0===t[n]&&Object.defineProperty(t,n,a)}}(t,e),t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=p(t);if(e){var n=p(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,r["a"]);var e=f(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).name="DeliberatelyUnhandledError",t}return i}()},ZEor:function(t,e,i){"use strict";var r=i("qZLJ"),n=i("zd0D"),a=i.n(n),s=i("cAVG"),o=i.n(s),h=a()(r.default.Events);h._events={},h.subscribe=function(){return h.on.apply(h,arguments)},h.unsubscribe=function(){return h.off.apply(h,arguments)},h.publish=function(){return h.trigger.apply(h,arguments)},h.clearSubscriptions=function(t){o()(t)?h._events={}:h._events[t]&&delete h._events[t]},h.getChannel=function(t){return t?h._events[t]:h._events},e.a=h},ceso:function(t,e,i){"use strict";function r(t){try{return JSON.parse(t)}catch(t){}}i.d(e,"a",function(){return r})},"d+Bv":function(t,e,i){"use strict";i.d(e,"f",function(){return r}),i.d(e,"g",function(){return n}),i.d(e,"a",function(){return a}),i.d(e,"h",function(){return s}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return h}),i.d(e,"e",function(){return l}),i.d(e,"b",function(){return c});var r="X-Session-Timeout",n=403,a="BNZ-LOGON-REQUEST",s="/ib",o={method:"GET"},h={method:"POST",headers:{"Content-Type":"application/json"}},l={method:"PUT",headers:{"Content-Type":"application/json"}},c={method:"DELETE"}},fnv9:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i("rfmQ");function n(t){try{return t.responseText}catch(t){r.e.reportError(t)}}},gVSY:function(t,e,i){"use strict";i.d(e,"a",function(){return l}),i.d(e,"b",function(){return it}),i.d(e,"h",function(){return rt}),i.d(e,"j",function(){return st}),i.d(e,"g",function(){return ot}),i.d(e,"c",function(){return ht}),i.d(e,"i",function(){return ut}),i.d(e,"l",function(){return gt}),i.d(e,"m",function(){return mt}),i.d(e,"d",function(){return vt}),i.d(e,"e",function(){return bt}),i.d(e,"n",function(){return xt}),i.d(e,"o",function(){return Ot}),i.d(e,"q",function(){return Ct}),i.d(e,"r",function(){return jt}),i.d(e,"s",function(){return kt}),i.d(e,"v",function(){return Rt}),i.d(e,"D",function(){return It}),i.d(e,"p",function(){return Ft}),i.d(e,"x",function(){return Xt}),i.d(e,"w",function(){return Zt}),i.d(e,"z",function(){return _t}),i.d(e,"A",function(){return Qt}),i.d(e,"y",function(){return $t}),i.d(e,"u",function(){return ee}),i.d(e,"t",function(){return re}),i.d(e,"f",function(){return Tt}),i.d(e,"k",function(){return le}),i.d(e,"B",function(){return ue}),i.d(e,"C",function(){return fe});var r=i("17x9"),n=i.n(r),a=i("6JX1"),s=i("iUrp"),o=i("nKUr"),h=function(t){var e=t.children,i=t.FallbackComponent;return Object(o.jsx)(s.a,{children:function(t){var r=t.reset;return Object(o.jsx)(a.ErrorBoundary,{FallbackComponent:i,onReset:r,children:e})}})};h.propTypes={children:n.a.node,FallbackComponent:n.a.elementType};var l=h,c=i("/j5y");function u(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t){var e=m();return function(){var i,r=b(t);if(e){var n=b(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;return f(t)}(this,i)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return g(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,t)})(t)}function g(t,e,i){return(g=m()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var n=new(Function.bind.apply(t,r));return i&&v(n,i.prototype),n}).apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return function(t,e){for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(e,n);a&&a.configurable&&void 0===t[n]&&Object.defineProperty(t,n,a)}}(t,e),t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,w(t,e,"get"))}function x(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,w(t,e,"set"),i),i}function w(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var O=new WeakMap,C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(a,p(Error));var e,i,r,n=d(a);function a(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i=n.call(this,t),O.set(f(i),{writable:!0,value:void 0}),x(f(i),O,e),i}return e=a,(i=[{key:"body",get:function(){return y(this,O).body}},{key:"bodyUsed",get:function(){return y(this,O).bodyUsed}},{key:"headers",get:function(){return y(this,O).headers}},{key:"ok",get:function(){return y(this,O).ok}},{key:"redirected",get:function(){return y(this,O).redirected}},{key:"status",get:function(){return y(this,O).status}},{key:"statusText",get:function(){return y(this,O).statusText}},{key:"type",get:function(){return y(this,O).type}},{key:"url",get:function(){return y(this,O).url}},{key:"json",value:function(){return y(this,O).json()}},{key:"text",value:function(){return y(this,O).text()}}])&&u(e.prototype,i),r&&u(e,r),a}();function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return function(t,e){for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(e,n);a&&a.configurable&&void 0===t[n]&&Object.defineProperty(t,n,a)}}(t,e),t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=j(t);if(e){var n=j(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;return T(t)}(this,i)}}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,P(t,e,"set"),i),i}function P(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var B=new WeakMap,R=function(t){M(a,C);var e,i,r,n=D(a);function a(t,e,i,r){var s;return A(this,a),s=n.call(this,t,r),B.set(T(s),{writable:!0,value:void 0}),s.name=e,k(T(s),B,i),s}return e=a,(i=[{key:"onErrorWindowOperation",value:function(){var t,e;window.location.replace(function(t,e){return e.get?e.get.call(t):e.value}(t=this,P(t,e=B,"get")))}}])&&S(e.prototype,i),r&&S(e,r),a}(),L=function(t){M(i,R);var e=D(i);function i(t){return A(this,i),e.call(this,"Access Forbidden: Customer BLOCKED","CustomerBlockedError","/ib/app/forcedLogout?blocked",t)}return i}(),I=function(t){M(i,R);var e=D(i);function i(t){return A(this,i),e.call(this,"Access Forbidden: Customer INACTIVE","CustomerInactiveError","/ib/app/forcedLogout?inactive",t)}return i}(),E=function(t){M(i,R);var e=D(i);function i(t){return A(this,i),e.call(this,"Access Forbidden: Invalid Session","InvalidSessionError","/ib",t)}return i}(),F=function(t){M(i,R);var e=D(i);function i(t){return A(this,i),e.call(this,"Access Forbidden: NetGuard BLOCKED","NetGuardBlockedError","/ib/app/forcedLogout?netGuardBlocked",t)}return i}(),z=function(t){M(i,R);var e=D(i);function i(t){return A(this,i),e.call(this,"Access Forbidden: Session Timeout","SessionTimeoutError","/ib/app/timeout",t)}return i}(),G=function(t){M(i,R);var e=D(i);function i(t){return A(this,i),e.call(this,"Access Forbidden: Unauthorised","UnauthorisedError","/ib/app/forcedLogout?locked",t)}return i}();function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return function(t,e){for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(e,n);a&&a.configurable&&void 0===t[n]&&Object.defineProperty(t,n,a)}}(t,e),t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=X(t);if(e){var n=X(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(t){V(i,C);var e=H(i);function i(t){var r;return W(this,i),(r=e.call(this,"Request Abort",t)).name="AbortError",r}return i}(),U=function(t){V(i,C);var e=H(i);function i(t){var r;W(this,i);var n=/^http(s?):/.test(t.url)?new URL(t.url).pathname:t.url;return(r=e.call(this,n,t)).name="ApiFetchError",r}return i}();function _(t,e,i,r,n,a,s){try{var o=t[a](s),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(r,n)}function q(t){return function(){var e=this,i=arguments;return new Promise(function(r,n){var a=t.apply(e,i);function s(t){_(a,r,n,s,o,"next",t)}function o(t){_(a,r,n,s,o,"throw",t)}s(void 0)})}}function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function K(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(Object(i),!0).forEach(function(e){Q(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function Q(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var $,tt,et,it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={"X-API-Client-id":"YouMoney","X-Requested-With":"XMLHttpRequest","BNZAPI-Request-Id":Object(c.b)()},i=t.method&&"GET"!==t.method?K(K({},e),{},{"Content-Type":"application/json","X-CSRF-Token":window.configJson.bnz.csrfToken}):e;return K(K({},t),{},{headers:i})},rt=function(t){return it({method:"POST",body:JSON.stringify(t)})},nt=function(){var t=q(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.headers.get("BNZ-LOGON-REQUEST")){t.next=2;break}throw new E(e);case 2:if(401!==e.status){t.next=4;break}throw new G(e);case 4:if(403!==e.status){t.next=17;break}return t.next=7,e.text();case 7:if(-1===(null===(i=t.sent)||void 0===i?void 0:i.indexOf("accountBlocked"))){t.next=10;break}throw new L(e);case 10:if(-1===(null===i||void 0===i?void 0:i.indexOf("accountInactive"))){t.next=12;break}throw new I(e);case 12:if(-1===(null===i||void 0===i?void 0:i.indexOf("netGuardBlocked"))){t.next=14;break}throw new F(e);case 14:if("1"!==e.headers.get("X-Session-Timeout")&&-1===(null===i||void 0===i?void 0:i.indexOf("<title>Internet Banking Login"))){t.next=16;break}throw new z(e);case 16:throw new G(e);case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),at=function(t){if(0===t.status)throw new Z(t);if(!t.ok)throw new U(t)},st=function(){var t=q(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt(e.clone());case 2:return t.next=4,at(e);case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),ot=function(t,e){if(t instanceof C)throw t;throw t.url?new U(t):new U({url:e})},ht=function t(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(i){!Object.prototype.hasOwnProperty.call(e,i)||null===e[i]||"object"!=typeof e[i]&&"function"!=typeof e[i]||Object.isFrozen(e[i])||t(e[i])}),e},lt=i("PC6D"),ct={defaultOptions:{queries:{suspense:!0,retry:(et=5,function(t,e){return!(t>=et||401===e.status||403===e.status||e instanceof E)}),retryDelay:($=1e3,tt=3e4,function(t){return Math.min(Math.round(Math.random()*$)+Math.pow(2,t)*$,tt)}),refetchOnWindowFocus:!1,staleTime:1/0},mutations:{useErrorBoundary:!0}}},ut=new lt.a(ct),dt=i("Uvq/"),ft=i("+QN0"),pt=function(){return fetch("/ib/api/accounts",it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return(e=t).accountList;var e}).then(function(t){return ht(t)})},gt=function(){return Object(dt.a)("accounts",pt).data},mt=function(){var t=Object(ft.b)();return function(e){return t.setQueryData("accounts",e)}};function vt(t){var e=t.bankCode,i=t.branchCode,r=t.accountNumber,n=t.suffix;return n?"".concat(e,"-").concat(i,"-").concat(r,"-").concat(n):"".concat(r)}function bt(t){var e=t.nickname,i=t.productname,r=t.suffix;return r||(r=""),3===r.length&&(r=r.substring(1)),"string"==typeof e&&Boolean(e)?e:"string"==typeof i&&Boolean(i)?"".concat(i," ").concat(r):""}var yt=function(){return fetch("/ib/api/companies",it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return ht(t)})},xt=function(){return Object(dt.a)("companies",yt).data},wt=function(){return fetch("/ib/config.json",it()).then(st).then(function(t){return t.json()}).then(ht).catch(function(t){return ot(t,"/ib/config.json")})},Ot=function(){return Object(dt.a)("config",wt).data},Ct=function(t){return Object(dt.a)(["customer",t],function(){return function(t){return fetch("/ib/api/customers/".concat(t),it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return ht(t)})}(t)}).data},At=i("s1mT"),St=i("rj8Y"),Mt=i.n(St),Nt={},Dt=function(t){return Nt.refreshTimestamp=Object(At.d)(Object(At.F)(),t.expires_in-30),t},Tt=function(){return Nt.refreshTimestamp&&Object(At.t)(Object(At.F)(),Nt.refreshTimestamp)&&(Nt={}),Nt.response||(Nt.response=new Promise(function(t){Mt.a.ajax({method:"GET",dataType:"json",contentType:"application/json",url:"/ib/api/v3/token",success:function(e){t(e)}})}).then(ht).then(Dt)),Nt.response.then(function(t){return t.access_token})},jt=function(t,e){var i=Ot();return Object(dt.a)(["internationalPayment",t,e],function(){return Tt().then(function(r){return function(t,e,i,r){return fetch("".concat(t.bnz.apiUrlBase,"/v1/internationalpayments/").concat(r,"?type=").concat(i),{headers:{apikey:t.bnz.apiKey,Authorization:"Bearer ".concat(e),"BNZAPI-Request-Id":Object(c.b)()}}).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return ht(t)})}(i,r,t,e)})},{enabled:Boolean(i.bnz),retry:function(t,e){return 500<=(null===e||void 0===e?void 0:e.status)&&t<3}}).data},kt=function(t,e){var i=Ot();return Object(dt.a)(["internationalPaymentReport",t,e],function(){return Tt().then(function(r){return function(t,e,i,r){return fetch("".concat(t.bnz.apiUrlBase,"/v1/internationalpayments/").concat(r,"?type=").concat(i),{headers:{apikey:t.bnz.apiKey,Authorization:"Bearer ".concat(e),"BNZAPI-Request-Id":Object(c.b)(),Accept:"application/pdf"}}).then(function(t){return st(t)}).then(function(t){return t.arrayBuffer()}).then(function(t){var e=new Blob([t],{type:"application/pdf"});return URL.createObjectURL(e)}).then(function(t){return ht(t)})}(i,r,t,e)})},{enabled:Boolean(i.bnz),retry:function(t,e){return 500<=(null===e||void 0===e?void 0:e.status)&&t<3}}).data},Pt=i("SR//"),Bt=function(){return fetch("/ib/api/payees",it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return ht(t)})},Rt=function(){return Object(dt.a)("payees",Bt).data},Lt=function(t){var e=t.payee;return fetch("/ib/api/payees?verify",rt(e)).then(function(t){return st(t)}).then(function(){return e}).then(function(t){return ht(t)})},It=function(){var t=Object(Pt.a)(Lt,{suspense:!1}).mutate;return function(e,i){return t({payee:e},i)}},Et=function(t){var e=t.payee;return fetch("/ib/api/payees",rt(e)).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return ht(t)})},Ft=function(){var t=Object(ft.b)(),e=Object(Pt.a)(Et,{onSuccess(){t.invalidateQueries("payees")},suspense:!1}).mutate;return function(t,i){return e({payee:t},i)}},zt=i("rfrl");function Gt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Wt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(i),!0).forEach(function(e){Vt(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function Vt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Yt=function(){return fetch("/ib/api/configuration/preferences",it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return(e=t).reduce(function(t,e){return e.value?Wt(Wt({},t),{},{[e.id]:e.value}):t},{});var e}).then(function(t){return ht(t)}).catch(function(t){return ot(t,"/ib/api/configuration/preferences")})},Ht=function(t){var e=t.id,i=t.value;return fetch("/ib/api/configuration/preferences/".concat(e),it({method:"PUT",body:JSON.stringify({id:e,value:i})}))},Xt=function(){return Object(dt.a)("preferences",Yt).data},Zt=function(){var t=Object(ft.b)(),e=Object(Pt.a)(Ht,{onMutate:function(e){var i=e.id,r=e.value,n=t.getQueryData("preferences"),a=Object(zt.g)(n,function(t){t[i]=r});t.setQueryData("preferences",a)}}).mutate;return function(t,i){return e({id:t,value:i})}},Ut=function(){return fetch("/ib/api/payments?state=DECLINED,FAIL,FAILED,FORCE,ONHOLD,RETRYING,AUTHORISATIONREQUIRED",it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return ht(t)})},_t=function(){return Object(dt.a)("salientPayments",Ut).data},qt=i("q1tI");function Jt(t,e,i,r,n,a,s){try{var o=t[a](s),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(r,n)}var Kt=function(){return fetch("/ib/api/secondfactor/status",it()).then(st).then(function(t){return t.json()}).then(ht)},Qt=function(){return Object(dt.a)("secondFactorStatus",Kt).data},$t=function(){var t=Object(ft.b)();return Object(qt.useCallback)(function(){return t.getQueryData("secondFactorStatus")},[t])},te=function(){return fetch("/ib/api/secondfactor/challenge",it()).then(st).then(function(t){return t.json()}).then(ht)},ee=function(){return Object(dt.a)("netGuardChallenge",te).data},ie=function(t){var e=t.coordinates;return fetch("/ib/api/secondfactor/authenticate",rt({challengeResponses:e,requester:"YouMoney"})).then(st).then(function(t){return t.json()}).then(ht)},re=function(){var t=Object(ft.b)(),e=Object(Pt.a)(ie,{onSuccess(e){return(i=regeneratorRuntime.mark(function i(){var r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=e.isValidChallengeResponse)){i.next=4;break}return i.next=4,t.invalidateQueries("secondFactorStatus");case 4:case"end":return i.stop()}},i)}),function(){var t=this,e=arguments;return new Promise(function(r,n){var a=i.apply(t,e);function s(t){Jt(a,r,n,s,o,"next",t)}function o(t){Jt(a,r,n,s,o,"throw",t)}s(void 0)})})();var i}}).mutate;return function(t,i){return e({coordinates:t},i)}},ne=i("cr+I"),ae=i.n(ne);function se(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function oe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?se(Object(i),!0).forEach(function(e){he(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function he(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accountId,i=t.from,r=t.limit,n=t.offset,a=t.to;return Object(dt.a)(["transactions",{accountId:e,from:i,limit:r,offset:n,to:a}],function(){return function(t,e,i,r,n){return fetch("/ib/api/transactions?".concat(ae.a.stringify({account:t,from:e,limit:i,offset:r,to:n})),it()).then(function(t){return st(t)}).then(function(t){var e=parseInt(t.headers.get("BNZAPI-Total-Item-Count"),10);return t.json().then(function(t){return oe(oe({},t),{},{hasMore:r+t.transactions.length!==e,totalCount:e})})}).then(function(t){return ht(t)})}(e,i,r,n,a)},{keepPreviousData:!0})},ce=function(){return fetch("/ib/api/upcoming/payments",it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(function(t){return ht(t)})},ue=function(){return Object(dt.a)("upcomingPayments",ce).data},de=function(){return fetch("/ib/api/user",it()).then(function(t){return st(t)}).then(function(t){return t.json()}).then(ht).catch(function(t){return ot(t,"/ib/api/user")})},fe=function(){return Object(dt.a)("user",de).data}},"jr2+":function(t,e,i){"use strict";var r=i("d+Bv");i.d(e,"a",function(){return r.h})},k31U:function(t,e,i){"use strict";var r=i("LhCv");e.a=Object(r.a)({basename:"/client"})},kUSa:function(t,e,i){"use strict";var r=i("RT6a"),n=i.n(r).a.convert({cap:!1});e.a=n},kcAg:function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"b",function(){return f}),i.d(e,"c",function(){return p});var r=i("Xxof"),n=i("rfmQ"),a=i("iOII"),s=i.n(a),o=i("lwwb"),h=i.n(o),l=i("GrDe");function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.c)("projectIris")?function(t){var e=window,i=e.Intercom;if("function"==typeof i)i("reattach_activator"),i("update",intercomSettings);else{var r=document,n=function t(){t.c(arguments)};n.q=[],n.c=function(t){n.q.push(t)},e.Intercom=n,function(){var e=r.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/".concat(t.applicationId);var i=r.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}()}}(t):window.Intercom=function(){},function(t){window.Intercom("boot",{app_id:t.applicationId,user_id:t.userId,user_hash:t.userHash})}(t)}function u(){return s()(window.Intercom)?window.Intercom:h.a}function d(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).thirdParty;c((void 0===t?{}:t).intercom)}function f(){try{u()("show")}catch(t){n.e.reportEvents([{id:"showMessengerFailed",value:{source:"mainMenu"}}])}}function p(){try{u()("shutdown")}catch(t){n.e.reportError(new r.b("MessengerShutdownFailed"))}}},lhOR:function(t,e,i){"use strict";i.r(e);var r,n=i("/j5y"),a=i("rfmQ"),s=i("m9Uw"),o="BNZAPI-Request-Id",h={name:"prod",isDynatraceEnabled:!0,isGoogleTagManagerEnabled:!0,isLogEventsEnabled:!0,isSentryEnabled:!0},l={name:"verify",isDynatraceEnabled:!0,isGoogleTagManagerEnabled:!0,isLogEventsEnabled:!0,isSentryEnabled:!0},c={name:"ppte",isDynatraceEnabled:!0,isGoogleTagManagerEnabled:!0,isLogEventsEnabled:!0,isSentryEnabled:!0},u={name:"test",isDynatraceEnabled:!0,isGoogleTagManagerEnabled:!0,isLogEventsEnabled:!0,isSentryEnabled:!1},d={name:"development",isDynatraceEnabled:!0,isGoogleTagManagerEnabled:!1,isLogEventsEnabled:!0,isSentryEnabled:!1},f="www.bnz.co.nz"===(r=window.location.hostname)||"bnz.co.nz"===r?h:"verify.bnz.co.nz"===r?l:"ppte.bnz.co.nz"===r?c:r.startsWith("drljib")||r.startsWith("drlobd")?u:d;a.e.configure([f.isDynatraceEnabled&&Object(a.b)({applicationInstanceId:n.a}),f.isGoogleTagManagerEnabled&&Object(a.c)(function(){if("prod"===f.name||"verify"===f.name)return{id:"GTM-WK7Q8HB"};return{id:"GTM-WXLS6S3"}}()),f.isLogEventsEnabled&&Object(a.d)({client:"YouMoney"}),f.isSentryEnabled&&Object(a.f)(function(){var t=XMLHttpRequest.prototype.setRequestHeader;return XMLHttpRequest.prototype.setRequestHeader=function(e,i){var r;return e===o&&(this.__bnz_xhr__=null!==(r=this.__bnz_xhr__)&&void 0!==r?r:{},this.__bnz_xhr__[o]=i),t.call(this,e,i)},{applicationInstanceId:n.a,dsn:"https://3f84fd06ae1b4dae8efc186ed1fe3aee@o154134.ingest.sentry.io/5517618",environment:f.name,ignoreErrors:["ResizeObserver loop limit exceeded"],integrations:[new s.a],release:function(){for(var t=document.getElementsByTagName("meta"),e=0;e<t.length;e++)if("version"===t[e].getAttribute("name"))return t[e].getAttribute("content");return""}(),beforeBreadcrumb(t,e){var i;if("xhr"===t.category&&(t.data[o]=e.xhr.__bnz_xhr__[o]),"fetch"===t.category&&(t.data[o]=e.input[1].headers[o]),"xhr"===t.category&&(null===(i=t.data)||void 0===i?void 0:i.url.startsWith("https://ice-execution.bnz.co.nz/")))return null;if(t.category.startsWith("ui.")){var r,n,a,s=null===e||void 0===e?void 0:null===(r=e.event)||void 0===r?void 0:null===(n=r.target)||void 0===n?void 0:null===(a=n.dataset)||void 0===a?void 0:a.monitoringLabel;s&&(t.message=s)}return t}}}())].filter(Boolean));i("3BIJ");var p=i("23WR"),g=i("GrDe"),m=i("gVSY"),v=i("q1tI"),b=i("i8i4"),y=i.n(b),x=i("+QN0"),w=i("99tq"),O=i("lSEo"),C=i("K4CH"),A=i.n(C),S=i("17x9"),M=i.n(S),N=i("6JX1"),D=i("gCtn"),T=i("fJZ+"),j=i("97+Z"),k=i("gw47"),P=i("UDwz"),B=i("++4J"),R=i("nKUr"),L=function(){var t=Object(D.b)(),e=Object(D.b)();return Object(R.jsxs)(p.b,{aria:{describedby:t,labelledby:e},isOpen:!0,children:[Object(R.jsx)(T.b,{children:Object(R.jsx)(j.a,{alertTitle:Object(R.jsx)("span",{id:e,children:"An error has occurred - please try again."}),children:Object(R.jsx)("span",{id:t,children:"If the error occurs again, please contact the Bank of New Zealand Internet Banking Support on 0800 WWW BNZ (0800 999 259)."})})}),Object(R.jsx)(k.b,{children:Object(R.jsx)(P.b,{children:Object(R.jsx)(B.b,{autoFocus:!0,onClick:function(){return window.location.reload(!0)},children:"OK"})})})]})};L.propTypes={};var I=L,E=function(t){var e=t.children;return Object(R.jsx)(N.ErrorBoundary,{fallbackRender:function(t){return t.error.onErrorWindowOperation?null:Object(R.jsx)(I,{})},onError:function(t){if(t.onErrorWindowOperation)return t.onErrorWindowOperation();a.e.reportError(t)},children:e})};E.propTypes={children:M.a.node};var F=E;p.b.setAppElement("#YouMoney");var z=Object(v.lazy)(function(){return Promise.all([i.e(0),i.e(28),i.e(4),i.e(26)]).then(i.bind(null,"j2us"))}),G=Object(v.lazy)(function(){return Promise.all([i.e(0),i.e(36),i.e(4),i.e(25)]).then(i.bind(null,"697c"))});y.a.render(Object(R.jsxs)(x.a,{client:m.i,children:[Object(R.jsx)(F,{children:Object(R.jsx)(v.Suspense,{fallback:null,children:Object(R.jsx)(g.a,{children:Object(R.jsx)(function(){var t=Object(m.o)();Object(v.useEffect)(function(){window.configJson={bnz:{apiKey:t.bnz.apiKey,apiUrlBase:t.bnz.apiUrlBase,csrfToken:t.bnz.csrfToken}}},[t]);var e=A()(),i=Object(O.a)("screen and (max-width: 767px)"),r=Object(g.d)("wakaEnabled")&&i&&"mobile"===e.device.type;return Object(v.useLayoutEffect)(function(){var t=document.getElementById("viewport"),e=t.getAttribute("content");return r&&t.setAttribute("content","initial-scale=1"),function(){t.setAttribute("content",e)}},[r]),r?Object(R.jsx)(G,{}):Object(R.jsx)(z,{})},{})})})}),Object(R.jsx)(w.ReactQueryDevtools,{})]}),document.getElementById("YouMoney"))},m9Uw:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return D});var r=/((CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS)[ +]+(9[_.]0|9[_.]([1-9]|\d{2,})|9[_.]2|9[_.]([3-9]|\d{2,})|([1-9]\d|\d{3,})[_.]\d+|10[_.]0|10[_.]([1-9]|\d{2,})|10[_.]2|10[_.]([3-9]|\d{2,})|(1[1-9]|[2-9]\d|\d{3,})[_.]\d+|11[_.]0|11[_.]([1-9]|\d{2,})|11[_.]2|11[_.]([3-9]|\d{2,})|(1[2-9]|[2-9]\d|\d{3,})[_.]\d+|12[_.]0|12[_.]([1-9]|\d{2,})|12[_.]4|12[_.]([5-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})[_.]\d+|13[_.]0|13[_.]([1-9]|\d{2,})|13[_.]7|13[_.]([8-9]|\d{2,})|(1[4-9]|[2-9]\d|\d{3,})[_.]\d+|14[_.]0|14[_.]([1-9]|\d{2,})|14[_.]4|14[_.]([5-9]|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})[_.]\d+)(?:[_.]\d+)?)|(CFNetwork\/758\.(\d))|(CFNetwork\/808\.(\d))|(CFNetwork\/7.* Darwin\/15\.\d+)|(CFNetwork\/8.* Darwin\/16\.5\.\d+)|(CFNetwork\/8.* Darwin\/16\.6\.\d+)|(CFNetwork\/8.* Darwin\/16\.7\.\d+)|(CFNetwork\/8.* Darwin\/16\.\d+)|(CFNetwork\/8.* Darwin\/17\.0\.\d+)|(CFNetwork\/8.* Darwin\/17\.2\.\d+)|(CFNetwork\/8.* Darwin\/17\.3\.\d+)|(CFNetwork\/8.* Darwin\/17\.\d+)|(Opera Mini(?:\/att)?\/?(\d+)?(?:\.\d+)?(?:\.\d+)?)|(SamsungBrowser\/(13\.0|13\.([1-9]|\d{2,})|(1[4-9]|[2-9]\d|\d{3,})\.\d+))|(Edge\/(89(?:\.0)?|89(?:\.([1-9]|\d{2,}))?|(9\d|\d{3,})(?:\.\d+)?))|((Chromium|Chrome)\/(89\.0|89\.([1-9]|\d{2,})|(9\d|\d{3,})\.\d+)(?:\.\d+)?)|(Version\/(9\.0|9\.([1-9]|\d{2,})|([1-9]\d|\d{3,})\.\d+|10\.0|10\.([1-9]|\d{2,})|(1[1-9]|[2-9]\d|\d{3,})\.\d+|11\.0|11\.([1-9]|\d{2,})|(1[2-9]|[2-9]\d|\d{3,})\.\d+|12\.0|12\.([1-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})\.\d+|13\.0|13\.([1-9]|\d{2,})|(1[4-9]|[2-9]\d|\d{3,})\.\d+|14\.0|14\.([1-9]|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(78\.0|78\.([1-9]|\d{2,})|(79|[8-9]\d|\d{3,})\.\d+|87\.0|87\.([1-9]|\d{2,})|(8[8-9]|9\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(78\.0|78\.([1-9]|\d{2,})|(79|[8-9]\d|\d{3,})\.\d+|87\.0|87\.([1-9]|\d{2,})|(8[8-9]|9\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/;function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"name",t.id)}var e,i,s;return e=t,(i=[{key:"setupOnce",value:function(e,i){e(function(e){var n,a,s=i().getIntegration(t),o=null===(n=e.request)||void 0===n?void 0:null===(a=n.headers)||void 0===a?void 0:a["User-Agent"];return s&&o&&!function(t){return r.test(t)}(o)?null:e})}}])&&n(e.prototype,i),s&&n(e,s),t}();a(s,"id","BrowserslistFilter");var o=s,h=i("5Gr8"),l=i.n(h),c=i("mwIZ"),u=i.n(c),d=i("QkVN"),f=i.n(d),p=i("oKwy"),g=i.n(p),m=i("JZM8"),v=i.n(m);function b(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var r,n,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);s=!0);}catch(t){o=!0,n=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return C(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(t,e):void 0}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var A,S=function(t){return t.includes("*")},M=(A=["breadcrumbs.*.data.BNZAPI-Request-Id","contexts","dist","environment","event_id","exception.values.*.stacktrace","fingerprint","level","logger","message","modules","platform","release","request.headers.User-Agent","sdk","server_name","spans","stacktrace","start_timestamp","tags.applicationInstanceId","timestamp","transaction","type","user"],function(t){try{var e=A.filter(g()(S)),i=A.filter(S).flatMap(function(t){return function(e){var i=w(e.split("*").map(function(t){return t.replace(/(^\.)|(\.$)/g,"")}),2),r=i[0],n=i[1],a=u()(t,r);return Array.isArray(a)?a.map(function(t,e){return"".concat(r,".").concat(e,".").concat(n)}):[]}}(t)),r=v()(t,[].concat(x(e),x(i))),n=l()(t,function(t){return"string"==typeof t?t.replace(/\d/g,"#"):void 0});return f()(n,r)}catch(e){return t}}),N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"name",t.id)}var e,i,r;return e=t,(i=[{key:"setupOnce",value:function(e,i){e(function(e){return i().getIntegration(t)?M(e):e})}}])&&b(e.prototype,i),r&&b(e,r),t}();y(N,"id","MaskPii");var D=N},rfmQ:function(t,e,i){"use strict";i.d(e,"e",function(){return r}),i.d(e,"b",function(){return p}),i.d(e,"c",function(){return g}),i.d(e,"d",function(){return H}),i.d(e,"f",function(){return et}),i.d(e,"a",function(){return L});var r={};function n(t,e,i,r,n,a,s){try{var o=t[a](s),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(r,n)}i.r(r),i.d(r,"configure",function(){return o}),i.d(r,"identify",function(){return h}),i.d(r,"reportError",function(){return l}),i.d(r,"reportEvents",function(){return c}),i.d(r,"shutdown",function(){return u});var a=[],s=function(t){return function(){var e,i=(e=regeneratorRuntime.mark(function e(i){var r,n,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,Promise.allSettled(a.filter(function(t){return!(r.integrations&&(!r.integrations[t.name]||!r.integrations.all&&!r.integrations[t.name]))}).map(function(e){return e[t](i)}));case 3:(n=e.sent).forEach(function(t){"rejected"===t.status&&console.error(t.reason)});case 5:case"end":return e.stop()}},e)}),function(){var t=this,i=arguments;return new Promise(function(r,a){var s=e.apply(t,i);function o(t){n(s,r,a,o,h,"next",t)}function h(t){n(s,r,a,o,h,"throw",t)}o(void 0)})});return function(t){return i.apply(this,arguments)}}()},o=function(t){t.forEach(function(t){a.some(function(e){return e.name===t.name})?console.warn("".concat(t.name," is already configured")):a.push(t)})},h=s("identify"),l=s("reportError"),c=s("reportEvents"),u=s("shutdown"),d=i("vN+2"),f=i.n(d),p=function(t){var e=window.dtrum;return e?(e.sendSessionProperties(void 0,void 0,{applicationinstanceid:t.applicationInstanceId}),{name:"dynatrace",identify:function(t){e.identifyUser(t)},reportError:function(t){e.reportError(t)},reportEvents:f.a,shutdown:function(){e.endSession()}}):{name:"dynatrace",identify:f.a,reportError:f.a,reportEvents:f.a,shutdown:f.a}},g=function(t){var e=document.createElement("script");return e.textContent="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})"+"(window,document,'script','dataLayer','".concat(t.id,"');"),document.head.appendChild(e),{name:"googleTagManager",identify:f.a,reportError:f.a,reportEvents:f.a,shutdown:f.a}},m=i("s1mT"),v=i("J+st"),b=i("eLAd"),y=i.n(b),x=i("9R94"),w=i("gVSY");function O(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?O(Object(i),!0).forEach(function(e){A(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function A(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function S(){var t;(null===(t=window.configJson)||void 0===t?void 0:t.bnz.apiKey)||Object(x.a)(!1)}function M(t,e){return S(),Object(w.f)().then(function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=window.configJson.bnz.apiKey;return Promise.resolve(C(C({},t),{},{headers:C(C({},t.headers),{},{apikey:i,Authorization:"Bearer ".concat(e)})}))}(e,t)}).then(function(e){return window.fetch((i=t,window.configJson.bnz.apiUrlBase+i),e);var i})}function N(t,e){return S(),M(t,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C(C({},t),{},{method:"POST",headers:C(C({},t.headers),{},{"Content-Type":"application/json"})})}(e))}function D(t){var e=P();return function(){var i,r=R(t);if(e){var n=R(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;return T(t)}(this,i)}}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){var e="function"==typeof Map?new Map:void 0;return(j=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return k(t,arguments,R(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),B(r,t)})(t)}function k(t,e,i){return(k=P()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var n=new(Function.bind.apply(t,r));return i&&B(n,i.prototype),n}).apply(null,arguments)}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return function(t,e){for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(e,n);a&&a.configurable&&void 0===t[n]&&Object.defineProperty(t,n,a)}}(t,e),t})(t,e)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(i,j(Error));var e=D(i);function i(t,r){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=e.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(T(n),n.constructor),n.eventId=r,n.name="MonitoringError",n.otherArgs=a,n}return i}();function I(t,e,i,r,n,a,s){try{var o=t[a](s),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(r,n)}function E(t){return function(){var e=this,i=arguments;return new Promise(function(r,n){var a=t.apply(e,i);function s(t){I(a,r,n,s,o,"next",t)}function o(t){I(a,r,n,s,o,"throw",t)}s(void 0)})}}function F(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?F(Object(i),!0).forEach(function(e){G(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function G(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var r,n,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);s=!0);}catch(t){o=!0,n=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Y=function(t){return t?Object.entries(t).reduce(function(t,e){var i=W(e,2),r=i[0],n=i[1];return z(z({},t),{},{[r]:y()(n,{length:500})})},{}):t},H=function(t){t.client||Object(x.a)(!1);var e=(i=E(regeneratorRuntime.mark(function e(i){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=window.configJson)&&void 0!==r&&null!==(n=r.bnz)&&void 0!==n&&n.apiKey){e.next=2;break}return e.abrupt("return");case 2:return a={logevents:i.map(function(e){return{client:t.client,occurredAt:Object(v.a)(Object(m.F)(),"yyyy-MM-dd'T'HH:mm:ss.SSSxxx",{timeZone:"Pacific/Auckland"}),eventId:e.id,eventData:Y(e.value)}})},e.next=5,N("/v1/logevents",{body:JSON.stringify(a),keepalive:!0});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),function(t){return i.apply(this,arguments)});var i;return{name:"logEvents",identify:f.a,reportError:(r=E(regeneratorRuntime.mark(function t(i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i instanceof L)){t.next=4;break}return t.next=3,e([{id:i.eventId,value:z({message:i.message},i.otherArgs)}]);case 3:return t.abrupt("return",t.sent);case 4:return t.next=6,e([{id:i.name,value:{message:i.message}}]);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)}),reportEvents:e,shutdown:f.a};var r},X=i("m9Uw"),Z=i("Lw/n"),U=i("gtzJ"),_=i("3CEA");function q(t,e,i,r,n,a,s){try{var o=t[a](s),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(r,n)}function J(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return K(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Q(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function $(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tt(t,e){if(null==t)return{};var i,r,n=function(t,e){if(null==t)return{};var i,r,n={},a=Object.keys(t);for(r=0;r<a.length;r++)i=a[r],e.indexOf(i)>=0||(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var et=function(t){var e=t.applicationInstanceId,i=t.integrations,r=void 0===i?[]:i,n=tt(t,["applicationInstanceId","integrations"]);return Z.a(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(i),!0).forEach(function(e){$(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Q(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({integrations:[].concat(J(r),[new X.b])},n)),U.b(function(t){t.setTag("applicationInstanceId",e)}),{name:"sentry",identify:function(t){U.b(function(e){e.setUser({id:t})})},reportError:function(t){U.a(t)},reportEvents:f.a,shutdown:(a=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a();case 2:case"end":return t.stop()}},t)}),s=function(){var t=this,e=arguments;return new Promise(function(i,r){var n=a.apply(t,e);function s(t){q(n,i,r,s,o,"next",t)}function o(t){q(n,i,r,s,o,"throw",t)}s(void 0)})},function(){return s.apply(this,arguments)})};var a,s}},s1mT:function(t,e,i){"use strict";i.d(e,"o",function(){return r.a}),i.d(e,"q",function(){return a}),i.d(e,"p",function(){return s}),i.d(e,"r",function(){return o}),i.d(e,"G",function(){return l}),i.d(e,"F",function(){return c}),i.d(e,"H",function(){return u}),i.d(e,"I",function(){return d.a}),i.d(e,"J",function(){return f.a}),i.d(e,"K",function(){return m}),i.d(e,"x",function(){return v}),i.d(e,"b",function(){return w.a}),i.d(e,"c",function(){return O.a}),i.d(e,"d",function(){return C.a}),i.d(e,"e",function(){return A.a}),i.d(e,"h",function(){return S.a}),i.d(e,"i",function(){return M.a}),i.d(e,"j",function(){return N.a}),i.d(e,"k",function(){return D.a}),i.d(e,"m",function(){return j.a}),i.d(e,"l",function(){return T.a}),i.d(e,"n",function(){return k.a}),i.d(e,"s",function(){return P.a}),i.d(e,"t",function(){return B.a}),i.d(e,"u",function(){return R.a}),i.d(e,"w",function(){return L.a}),i.d(e,"z",function(){return I.a}),i.d(e,"A",function(){return E.a}),i.d(e,"B",function(){return F.a}),i.d(e,"C",function(){return z.a}),i.d(e,"D",function(){return G.a}),i.d(e,"E",function(){return W.a}),i.d(e,"L",function(){return h.a}),i.d(e,"M",function(){return V.a}),i.d(e,"O",function(){return Y.a}),i.d(e,"P",function(){return H.a}),i.d(e,"Q",function(){return X.a}),i.d(e,"v",function(){return _}),i.d(e,"a",function(){return q}),i.d(e,"N",function(){return J}),i.d(e,"f",function(){return K}),i.d(e,"y",function(){return Q}),i.d(e,"g",function(){return $});var r=i("sWYD"),n=i("/pik");function a(t){return Object(n.a)(t,{fractionDigits:3})}function s(t){return Object(r.a)(t,"yyyy-MM-dd")}function o(t){return Object(r.a)(t,"dd/MM/yyyy")}var h=i("M34a"),l={fixedDate:null,offsetTime:0};function c(){return null===l.fixedDate?new Date((new Date).getTime()+l.offsetTime):new Date(l.fixedDate.getTime())}function u(){return Object(h.a)(c())}var d=i("LPPQ"),f=i("4+6U"),p=i("lKqF"),g=i.n(p);function m(t){if(!g()(t))throw new Error("Param must be a String");if(!v(t))throw new Error("Invalid Date String");return Object(f.a)(t)}function v(t){return/^\d\d\d\d-\d\d-\d\d$/.test(t)}var b,y=i("/ZWJ"),x={dates:()=>(b||(b=y.map(function(t){var e=t.day;return Object(f.a)(e)})),b),dateAndDescription:()=>y},w=i("9/EM"),O=i("dLU1"),C=i("Ctv7"),A=i("zbbA"),S=i("gXqy"),M=i("AF4N"),N=i("NoME"),D=i("AkX2"),T=i("0Ug1"),j=i("Bp6I"),k=i("jKzE"),P=i("5wMr"),B=i("EhJz"),R=i("dndX"),L=i("zHMj"),I=i("G6Tw"),E=i("Se/U"),F=i("gLRL"),z=i("YTra"),G=i("TnmX"),W=i("edZA"),V=i("0/gg"),Y=i("Xep9"),H=i("phiu"),X=i("sdC+"),Z=i("bKP9"),U=i.n(Z);function _(t){return!Object(F.a)(t)&&!U()(function(e){return Object(I.a)(t,e)},x.dates())}function q(t,e){return _(t)&&0===e?t:q(Object(w.a)(t,1),_(t)?e-1:e)}function J(t,e){if(e<=0&&_(t))return t;var i=_(t)?e-1:e;return J(Object(Y.a)(t,1),i)}function K(t){var e=J(Object(k.a)(t),1);if(Object(B.a)(t,e))return K(q(t,1));var i=J(Object(k.a)(Object(H.a)(e,1)),1);return{start:Object(h.a)(Object(w.a)(i,1)),end:e}}function Q(t,e){return Object(L.a)(t.start,e.start)}function $(t){var e=Object(h.a)(Object(f.a)(t)),i=u();return Object(B.a)(e,i)?Object(L.a)(i,e)?"Today":Object(L.a)(Object(w.a)(i,1),e)?"Tomorrow":Object(B.a)(Object(w.a)(i,14),e)?Object(r.a)(e,"iii d MMM"):Object(r.a)(e,"d MMM yyyy"):Object(L.a)(i,e)?"Today":Object(L.a)(Object(Y.a)(i,1),e)?"Yesterday":Object(R.a)(Object(Y.a)(i,14),e)?Object(r.a)(e,"iii d MMM"):Object(r.a)(e,"d MMM yyyy")}},zpAd:function(t,e,i){"use strict";i.d(e,"c",function(){return u}),i.d(e,"b",function(){return d}),i.d(e,"g",function(){return f}),i.d(e,"j",function(){return p}),i.d(e,"p",function(){return g}),i.d(e,"k",function(){return m}),i.d(e,"l",function(){return v}),i.d(e,"m",function(){return b}),i.d(e,"n",function(){return y}),i.d(e,"o",function(){return x}),i.d(e,"e",function(){return w}),i.d(e,"i",function(){return O}),i.d(e,"d",function(){return C}),i.d(e,"a",function(){return A}),i.d(e,"h",function(){return S}),i.d(e,"f",function(){return M});var r=i("rfmQ"),n=i("jr2+"),a=i("kcAg"),s=i("RFKw"),o=i("k31U");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach(function(e){c(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(){o.a.push(l(l({},o.a.location),{},{pathname:"/documents"}))}function d(){o.a.push(l(l({},o.a.location),{},{pathname:"/customerSettings"}))}function f(t){o.a.push(l(l({},o.a.location),{},{pathname:"/contact",state:{source:t}}))}function p(){Object(s.b)("/goto/creditcard-rates")}function g(){Object(s.b)("/goto/termdeposit-rates")}function m(){Object(s.b)("/goto/contact-us")}function v(){Object(s.b)("/goto/internet-banking-help")}function b(){Object(s.b)("/goto/setup-new-ap")}function y(){Object(s.b)("/goto/change-ap")}function x(){Object(s.b)("/goto/homeloan-rates")}function w(t){Object(a.c)(),r.e.reportEvents([{id:"Logout",value:{source:t}}]),Object(s.a)(n.a+"/app/logout")}function O(){Object(a.c)(),Object(s.c)(n.a+"/app/timeout")}function C(){Object(a.c)(),Object(s.c)(n.a)}function A(t){o.a.push(l(l({},o.a.location),{},{pathname:"/payments",state:{source:t}}))}function S(t){o.a.push(l(l({},o.a.location),{},{pathname:"/payments",state:{to:{type:"TAX",id:"*"},source:t}}))}function M(t){o.a.push(l(l({},o.a.location),{},{pathname:"/payments",state:{source:t}}))}}},[[0,23,34,27]]]);